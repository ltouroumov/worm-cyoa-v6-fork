import{_ as q,f as Z}from"./DwOy7wgf.js";import{K as ee,L as te,N as oe,O as J,P as ne,Q,R as I,S as z,T as se,U as re,V as le,W as ie,X as ue}from"./CBIecBA0.js";import{s as A,M as K,l as $,T as S,b6 as V,S as ce,o as ae,H as fe}from"./DnoyKoxn.js";var de=q(function(n,u){return ee(n+1,function(){var r=arguments[n];if(r!=null&&te(r[u]))return r[u].apply(r,Array.prototype.slice.call(arguments,0,n));throw new TypeError(oe(r)+' does not have a method named "'+u+'"')})});function ve(e){return Object.prototype.toString.call(e)==="[object Number]"}var Ee=Z(function(n){return n!=null&&ve(n.length)?n.length:NaN}),Me=de(0,"toLowerCase");const D=ne?window:void 0;function L(e){var n;const u=S(e);return(n=u?.$el)!==null&&n!==void 0?n:u}function N(...e){const n=(r,c,l,i)=>(r.addEventListener(c,l,i),()=>r.removeEventListener(c,l,i)),u=$(()=>{const r=I(S(e[0])).filter(c=>c!=null);return r.every(c=>typeof c!="string")?r:void 0});return se(()=>{var r,c;return[(r=(c=u.value)===null||c===void 0?void 0:c.map(l=>L(l)))!==null&&r!==void 0?r:[D].filter(l=>l!=null),I(S(u.value?e[1]:e[0])),I(ce(u.value?e[2]:e[1])),S(u.value?e[3]:e[2])]},([r,c,l,i],d,m)=>{if(!r?.length||!c?.length||!l?.length)return;const y=re(i)?{...i}:i,f=r.flatMap(t=>c.flatMap(b=>l.map(h=>n(t,b,h,y))));m(()=>{f.forEach(t=>t())})},{flush:"post"})}function me(){const e=A(!1),n=fe();return n&&ae(()=>{e.value=!0},n),e}function Y(e){const n=me();return $(()=>(n.value,!!e()))}function he(e,n,u={}){const{window:r=D,...c}=u;let l;const i=Y(()=>r&&"MutationObserver"in r),d=()=>{l&&(l.disconnect(),l=void 0)},m=K($(()=>{const t=I(S(e)).map(L).filter(le);return new Set(t)}),t=>{d(),i.value&&t.size&&(l=new MutationObserver(n),t.forEach(b=>l.observe(b,c)))},{immediate:!0,flush:"post"}),y=()=>l?.takeRecords(),f=()=>{m(),d()};return Q(f),{isSupported:i,stop:f,takeRecords:y}}function pe(e,n,u={}){const{window:r=D,...c}=u;let l;const i=Y(()=>r&&"ResizeObserver"in r),d=()=>{l&&(l.disconnect(),l=void 0)},m=K($(()=>{const f=S(e);return Array.isArray(f)?f.map(t=>L(t)):[L(f)]}),f=>{if(d(),i.value&&r){l=new ResizeObserver(n);for(const t of f)t&&l.observe(t,c)}},{immediate:!0,flush:"post"}),y=()=>{d(),m()};return Q(y),{isSupported:i,stop:y}}function _e(e,n={width:0,height:0},u={}){const{window:r=D,box:c="content-box"}=u,l=$(()=>{var t;return(t=L(e))===null||t===void 0||(t=t.namespaceURI)===null||t===void 0?void 0:t.includes("svg")}),i=A(n.width),d=A(n.height),{stop:m}=pe(e,([t])=>{const b=c==="border-box"?t.borderBoxSize:c==="content-box"?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&l.value){const h=L(e);if(h){const E=h.getBoundingClientRect();i.value=E.width,d.value=E.height}}else if(b){const h=I(b);i.value=h.reduce((E,{inlineSize:R})=>E+R,0),d.value=h.reduce((E,{blockSize:R})=>E+R,0)}else i.value=t.contentRect.width,d.value=t.contentRect.height},u);J(()=>{const t=L(e);t&&(i.value="offsetWidth"in t?t.offsetWidth:n.width,d.value="offsetHeight"in t?t.offsetHeight:n.height)});const y=K(()=>L(e),t=>{i.value=t?n.width:0,d.value=t?n.height:0});function f(){m(),y()}return{width:i,height:d,stop:f}}const G=1;function be(e,n={}){const{throttle:u=0,idle:r=200,onStop:c=z,onScroll:l=z,offset:i={left:0,right:0,top:0,bottom:0},observe:d={mutation:!1},eventListenerOptions:m={capture:!1,passive:!0},behavior:y="auto",window:f=D,onError:t=s=>{console.error(s)}}=n,b=typeof d=="boolean"?{mutation:d}:d,h=A(0),E=A(0),R=$({get(){return h.value},set(s){P(s,void 0)}}),W=$({get(){return E.value},set(s){P(void 0,s)}});function P(s,O){var x,B,H,k;if(!f)return;const M=S(e);if(!M)return;(x=M instanceof Document?f.document.body:M)===null||x===void 0||x.scrollTo({top:(B=S(O))!==null&&B!==void 0?B:W.value,left:(H=S(s))!==null&&H!==void 0?H:R.value,behavior:S(y)});const T=(M==null||(k=M.document)===null||k===void 0?void 0:k.documentElement)||M?.documentElement||M;R!=null&&(h.value=T.scrollLeft),W!=null&&(E.value=T.scrollTop)}const a=A(!1),o=V({left:!0,right:!1,top:!0,bottom:!1}),v=V({left:!1,right:!1,top:!1,bottom:!1}),w=s=>{a.value&&(a.value=!1,v.left=!1,v.right=!1,v.top=!1,v.bottom=!1,c(s))},p=ue(w,u+r),g=s=>{var O;if(!f)return;const x=(s==null||(O=s.document)===null||O===void 0?void 0:O.documentElement)||s?.documentElement||L(s),{display:B,flexDirection:H,direction:k}=f.getComputedStyle(x),M=k==="rtl"?-1:1,T=x.scrollLeft;v.left=T<h.value,v.right=T>h.value;const j=Math.abs(T*M)<=(i.left||0),F=Math.abs(T*M)+x.clientWidth>=x.scrollWidth-(i.right||0)-G;B==="flex"&&H==="row-reverse"?(o.left=F,o.right=j):(o.left=j,o.right=F),h.value=T;let C=x.scrollTop;s===f.document&&!C&&(C=f.document.body.scrollTop),v.top=C<E.value,v.bottom=C>E.value;const U=Math.abs(C)<=(i.top||0),X=Math.abs(C)+x.clientHeight>=x.scrollHeight-(i.bottom||0)-G;B==="flex"&&H==="column-reverse"?(o.top=X,o.bottom=U):(o.top=U,o.bottom=X),E.value=C},_=s=>{var O;f&&(g((O=s.target.documentElement)!==null&&O!==void 0?O:s.target),a.value=!0,p(s),l(s))};return N(e,"scroll",u?ie(_,u,!0,!1):_,m),J(()=>{try{const s=S(e);if(!s)return;g(s)}catch(s){t(s)}}),b?.mutation&&e!=null&&e!==f&&e!==document&&he(e,()=>{const s=S(e);s&&g(s)},{attributes:!0,childList:!0,subtree:!0}),N(e,"scrollend",w,m),{x:R,y:W,isScrolling:a,arrivedState:o,directions:v,measure(){const s=S(e);f&&s&&g(s)}}}const we={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function xe(e={}){const{reactive:n=!1,target:u=D,aliasMap:r=we,passive:c=!0,onEventFired:l=z}=e,i=V(new Set),d={toJSON(){return{}},current:i},m=n?V(d):d,y=new Set,f=new Map([["Meta",y],["Shift",new Set],["Alt",new Set]]),t=new Set;function b(a,o){a in m&&(n?m[a]=o:m[a].value=o)}function h(){i.clear();for(const a of t)b(a,!1)}function E(a,o,v){if(!(!a||typeof o.getModifierState!="function")){for(const[w,p]of f)if(o.getModifierState(w)){v.forEach(g=>p.add(g));break}}}function R(a,o){if(a)return;const v=`${o[0].toUpperCase()}${o.slice(1)}`,w=f.get(v);if(!["shift","alt"].includes(o)||!w)return;const p=Array.from(w),g=p.indexOf(o);p.forEach((_,s)=>{s>=g&&(i.delete(_),b(_,!1))}),w.clear()}function W(a,o){var v,w;const p=(v=a.key)===null||v===void 0?void 0:v.toLowerCase(),g=[(w=a.code)===null||w===void 0?void 0:w.toLowerCase(),p].filter(Boolean);if(p){p&&(o?i.add(p):i.delete(p));for(const _ of g)t.add(_),b(_,o);E(o,a,[...i,...g]),R(o,p),p==="meta"&&!o&&(y.forEach(_=>{i.delete(_),b(_,!1)}),y.clear())}}N(u,"keydown",a=>(W(a,!0),l(a)),{passive:c}),N(u,"keyup",a=>(W(a,!1),l(a)),{passive:c}),N("blur",h,{passive:c}),N("focus",h,{passive:c});const P=new Proxy(m,{get(a,o,v){if(typeof o!="string")return Reflect.get(a,o,v);if(o=o.toLowerCase(),o in r&&(o=r[o]),!(o in m))if(/[+_-]/.test(o)){const p=o.split(/[+_-]/g).map(g=>g.trim());m[o]=$(()=>p.map(g=>S(P[g])).every(Boolean))}else m[o]=A(!1);const w=Reflect.get(a,o,v);return n?S(w):w}});return P}function Re(e={}){const{window:n=D,...u}=e;return be(n,u)}export{ve as _,Re as a,xe as b,de as i,Ee as l,Me as t,_e as u};
