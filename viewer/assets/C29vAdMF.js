const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D_VUVJFF.js","./4LGjMwsA.js","./C0DzjEo4.js","./D-eTuknC.js","./CRyIMHD9.js","./entry.D_64tYN9.css","./zA5u3fAN.js","./kyYsbn7V.js","./CLs7nh7g.js","./D5ViuLPU.js","./DQnnyGUv.js","./DtRQ--so.js","./BtgTkROP.js","./Blyx9LFc.js","./CerxV63u.js","./ZhWAdK_X.js","./Yj_2VITT.js","./-v8K-QF4.js","./jc0MLXVe.js","./BIKo1l9F.js","./DkiAaU-x.js","./BkL8U906.js","./DwOy7wgf.js","./editor.CpBG1zGC.css","./BH6ZtEjW.js","./CnaJnl9T.js","./OE9JP89k.js","./Co5H3cnf.js","./FuJ6HF_5.js"])))=>i.map(i=>d[i]);
import{I as L}from"./FuJ6HF_5.js";import S from"./BtgTkROP.js";import K from"./BgkqX4Mf.js";import M from"./CKMnibeU.js";import T from"./joBrz_o0.js";import R from"./Q_rFUKN1.js";import{C as z}from"./Dlj3ZS_4.js";import{a as k,O as $,b as Q}from"./C0DzjEo4.js";import{i as G,L as W,x as H,s as ee,Y as oe,u as te,B as ne}from"./BH6ZtEjW.js";import{d as V,k as w,y as x,S as n,z as d,A as e,a2 as y,X as I,C as t,D as c,r as N,Z as q,E as U,B as j,a7 as re,a8 as ie,$ as P,a0 as X,ac as se,a3 as le}from"./CRyIMHD9.js";import de from"./B7Oj6GXb.js";import Y from"./DaY3ocZK.js";import Z from"./Bhxw7PUX.js";import ae from"./BgNzMZ_m.js";import ce from"./I2fCBO7_.js";import{u as J}from"./D-eTuknC.js";import{u as me}from"./DYbJLO8c.js";import pe from"./E4lrBQoz.js";import ue from"./IZsqwJ6F.js";import{i as fe}from"./Co5H3cnf.js";import{v as _e}from"./DQO_Cx1s.js";import{t as E}from"./OE9JP89k.js";import"./Blyx9LFc.js";import"./DQnnyGUv.js";import"./DtRQ--so.js";import"./CerxV63u.js";import"./ZhWAdK_X.js";import"./Yj_2VITT.js";import"./-v8K-QF4.js";import"./jc0MLXVe.js";import"./DUlCw5x9.js";import"./CKpHk2E9.js";import"./DNv-fVyN.js";import"./CLs7nh7g.js";import"./CQsybsCy.js";import"./D5ViuLPU.js";import"./BIKo1l9F.js";import"./DkiAaU-x.js";import"./BkL8U906.js";import"./DwOy7wgf.js";import"./CJb-wsJH.js";import"./DMxPzpgf.js";import"./D3qayfiL.js";import"./DVhQZA8y.js";import"./zA5u3fAN.js";import"./kyYsbn7V.js";import"./Bzn_s_-k.js";import"./C_FrrTQ4.js";import"./C9Jdut1X.js";import"./BcA5ZHrP.js";import"./5iCrRG7X.js";import"./Ba_OM_Zz.js";import"./BqeyNZXa.js";import"./DUXYMCWF.js";import"./D8Yf0nCC.js";import"./DGYYpOcl.js";import"./CUQhuIdq.js";import"./CzcfqDV8.js";const ve={key:0,class:"grid grid-cols-3 gap-2"},xe={class:"flex flex-col gap-2 items-stretch justify-center grow"},he={class:"flex flex-row justify-stretch grow relative group rounded overflow-clip"},ge={class:"absolute bg-slate-500/50 top-0 left-0 right-0 bottom-0 opacity-0 group-hover:opacity-100 duration-300 flex flex-row items-center justify-center cursor-pointer"},ye={class:"flex flex-col gap-2 col-span-2"},be={key:1,class:"flex flex-row justify-center items-center min-h-[10rem]"},we=V({__name:"ChoiceHeaderForm",props:{choiceId:{}},setup(m){const u=k(),f=m,i=w(()=>u.get(f.choiceId,$.choice));return(l,r)=>{const h=R,s=L,o=T,a=M,_=K,p=S;return n(i).header?(d(),x("div",ve,[e("div",xe,[e("div",he,[n(G)(n(i).header?.image)?(d(),y(h,{key:0,animation:"none",class:"grow",height:"auto"})):I("",!0),n(i).header.image?(d(),y(z,{key:1,"media-id":n(i).header.image,class:"grow border border-surface-700"},null,8,["media-id"])):I("",!0),e("div",ge,[r[2]||(r[2]=e("i",{class:"iconify solar--pen-line-duotone"},null,-1)),n(i).header.image?(d(),y(s,{key:0,outlined:"",severity:"danger",icon:"iconify solar--trash-bin-trash-line-duotone",class:"absolute right-[0.5rem] bottom-[0.5rem]"})):I("",!0)])])]),e("div",ye,[t(a,null,{default:c(()=>[t(o,{modelValue:n(i).header.title,"onUpdate:modelValue":r[0]||(r[0]=g=>n(i).header.title=g)},null,8,["modelValue"]),r[3]||(r[3]=e("label",null,"Title",-1))]),_:1}),t(_,{modelValue:n(i).header.text,"onUpdate:modelValue":r[1]||(r[1]=g=>n(i).header.text=g),"editor-style":"height: 12rem"},null,8,["modelValue"])])])):(d(),x("div",be,[t(p,{variant:"outlined",severity:"secondary",icon:"iconify iconify solar--add-circle-line-duotone",label:"Add Header"})]))}}}),Ce=Object.assign(we,{__name:"ChoiceHeaderForm"}),Ie={class:"flex flex-row gap-2"},$e={class:"flex flex-col gap-2"},ke=V({__name:"AddonMove",props:{addonId:{},index:{}},setup(m){J(),k();const{moveRelative:u,moveAbsolute:f}=me(),i=m,l=N(),r=N(0);function h(_){r.value=i.index,l.value.toggle(_)}function s(){u(i.addonId,-1)}function o(){u(i.addonId,1)}function a(){f(i.addonId,r.value),l.value.hide()}return(_,p)=>{const g=L,C=S,A=ce,B=ae,D=Z,F=Y,v=de;return d(),x("div",Ie,[t(A,null,{default:c(()=>[t(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-left-line-duotone",onClick:p[0]||(p[0]=b=>s())}),t(C,{outlined:"",severity:"secondary",label:n(W)(m.index),"pt:root:class":"leading-none p-0 w-[2.5rem] h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] w-[1.5rem] h-[1.5rem]",onClick:h},null,8,["label"]),t(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-right-line-duotone",onClick:p[1]||(p[1]=b=>o())})]),_:1}),t(v,{ref_key:"indexShiftPopover",ref:l},{default:c(()=>[e("div",$e,[p[4]||(p[4]=e("span",{class:"text-surface-500 text-sm"},"Move to position",-1)),t(F,null,{default:c(()=>[t(B,{modelValue:n(r),"onUpdate:modelValue":p[2]||(p[2]=b=>q(r)?r.value=b:null),"show-buttons":""},null,8,["modelValue"]),t(D,null,{default:c(()=>[t(C,{severity:"secondary",icon:"iconify solar--round-double-alt-arrow-right-line-duotone",onClick:p[3]||(p[3]=b=>a())})]),_:1})]),_:1})])]),_:1},512)])}}}),Ve=Object.assign(ke,{__name:"AddonMove"}),je={class:"flex flex-col gap-2 rounded border border-surface-700 p-3"},Se={class:"flex flex-row justify-between"},Ae={class:"flex flex-row gap-2"},Be={class:"text-primary text-xl font-bold grow group-hover:underline"},De={class:"text-surface-500 text-sm"},Fe={class:"flex flex-row gap-2"},Ne={class:"flex flex-col gap-2"},Pe={class:"font-bold"},Oe={class:"max-h-[10rem] overflow-hidden text-ellipsis"},Ue=V({__name:"AddonCard",props:{addonId:{},index:{}},setup(m){const u=J(),f=k(),i=m,l=w(()=>f.get(i.addonId,$.addon));function r(){u.pushScreen({type:"edit-addon",choiceId:l.value.id})}return(h,s)=>{const o=S,a=R;return d(),x("div",je,[e("div",Se,[t(Ve,{"addon-id":m.addonId,index:m.index},null,8,["addon-id","index"]),e("div",Ae,[t(o,{variant:"outlined",size:"small",severity:"secondary"},{default:c(()=>[...s[1]||(s[1]=[U(" Clone ",-1)])]),_:1}),t(o,{variant:"outlined",size:"small",severity:"danger"},{default:c(()=>[...s[2]||(s[2]=[U(" Delete ",-1)])]),_:1})])]),e("div",{class:"flex flex-row items-center cursor-pointer group",onClick:s[0]||(s[0]=_=>r())},[e("div",Be,j(n(l).name),1),e("div",De,j(n(l).id),1)]),e("div",Fe,[e("div",null,[n(G)(n(l).header?.image)?(d(),y(a,{key:0,width:"5rem",height:"3rem",animation:"none"})):I("",!0),n(l).header?.image?(d(),y(z,{key:1,"media-id":n(l).header.image,width:"5rem"},null,8,["media-id"])):I("",!0)]),e("div",Ne,[e("div",Pe,j(n(l).header?.title),1),e("div",Oe,j(n(l).header?.text),1)])])])}}}),Ee=Object.assign(Ue,{__name:"AddonCard"}),Le={class:"grid grid-cols-2 auto-rows-auto"},Me=V({__name:"ChoiceComponentsForm",props:{choiceId:{}},setup(m){const u=k(),f=m,i=w(()=>u.get(f.choiceId,$.choice)),l=w(()=>H(s=>fe(s),ee(s=>r(s),_e(i.value.components))));function r(s){switch(console.log("dispatchComponent",s),s.type){case Q.Requirements:return{key:s.type,component:h,props:{choiceId:f.choiceId}};default:return}}const h=re(()=>ie(()=>import("./D_VUVJFF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url));return(s,o)=>(d(),x("div",Le,[(d(!0),x(P,null,X(n(l),a=>(d(),x("div",{key:a.key},[(d(),y(le(a.component),se({ref_for:!0},a.props??{}),null,16))]))),128))]))}}),Te=Object.assign(Me,{__name:"ChoiceComponentsForm"}),Re={class:"flex flex-col gap-2 items-stretch"},ze={class:"flex flex-row gap-2"},Ge={class:"flex flex-col"},He={class:"flex flex-col"},qe={class:"flex flex-row justify-between items-center"},Xe={class:"grid grid-cols-3 gap-2"},Ye=V({__name:"ChoiceScreen",props:{choiceId:{}},setup(m){const u=k(),f=m,i=w(()=>u.get(f.choiceId,$.choice)),l=w(()=>{const s=h.value;if(te(s))return u.getChildren(f.choiceId);{const o=E(s);return H(({id:a})=>{const _=u.get(a,$.addon);return ne(o,E(_.name))},u.getChildren(f.choiceId))}}),r=N(""),h=oe(r,100);return(s,o)=>{const a=T,_=M,p=Ce,g=ue,C=Z,A=S,B=Y,D=Ee,F=pe;return d(),x(P,null,[t(g,null,{default:c(()=>[e("div",Re,[e("div",ze,[t(_,{class:"grow"},{default:c(()=>[t(a,{modelValue:n(i).name,"onUpdate:modelValue":o[0]||(o[0]=v=>n(i).name=v),modelModifiers:{lazy:!0}},null,8,["modelValue"]),o[4]||(o[4]=e("label",null,"Name",-1))]),_:1}),t(_,null,{default:c(()=>[t(a,{modelValue:n(i).id,"onUpdate:modelValue":o[1]||(o[1]=v=>n(i).id=v),disabled:""},null,8,["modelValue"]),o[5]||(o[5]=e("label",null,"ID",-1))]),_:1})]),e("div",Ge,[o[6]||(o[6]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Header")],-1)),t(p,{"choice-id":m.choiceId},null,8,["choice-id"])]),e("div",He,[o[7]||(o[7]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Components")],-1)),t(Te,{"choice-id":m.choiceId},null,8,["choice-id"])])])]),_:1}),t(F,{value:n(l),"data-key":"id",dt:{header:{padding:"1rem 0"},content:{padding:"1rem 0"}}},{header:c(()=>[e("div",qe,[o[9]||(o[9]=e("h3",{class:"text-xl font-bold text-primary"},"Addons",-1)),t(B,{class:"w-auto min-w-8"},{default:c(()=>[t(C,null,{default:c(()=>[...o[8]||(o[8]=[e("i",{class:"iconify solar--filter-line-duotone"},null,-1)])]),_:1}),t(a,{modelValue:n(r),"onUpdate:modelValue":o[2]||(o[2]=v=>q(r)?r.value=v:null),size:"small"},null,8,["modelValue"]),t(C,null,{default:c(()=>[t(A,{icon:"iconify solar--close-circle-line-duotone",severity:"secondary",onClick:o[3]||(o[3]=v=>r.value="")})]),_:1})]),_:1})])]),list:c(({items:v})=>[e("div",Xe,[(d(!0),x(P,null,X(v,(b,O)=>(d(),y(D,{key:O,"addon-id":b.id,index:O},null,8,["addon-id","index"]))),128))])]),_:1},8,["value"])],64)}}}),et=Object.assign(Ye,{__name:"ChoiceScreen"});export{et as default};
