const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Aa5RalX6.js","./saD5YKaZ.js","./6hzvT-dP.js","./D9GHut1E.js","./DdzSJcTg.js","./entry.BH8iSY7a.css","./m675qk77.js","./D0E_-NQY.js","./CLs7nh7g.js","./nHf-jst-.js","./CYCsxq4j.js","./vCC6k1YF.js","./BeDBOdWI.js","./CMhfbj1E.js","./CrTQrfco.js","./ZhWAdK_X.js","./DBYfWbxS.js","./B82uFDcP.js","./jc0MLXVe.js","./CmGQrYfe.js","./BzRqn72E.js","./BciKtvTx.js","./g2hQxUwo.js","./editor.CpBG1zGC.css","./lpIx-tlP.js","./C4IwuW4T.js","./Cylf5aCO.js","./CxzeFJE2.js","./5rTHRgS3.js"])))=>i.map(i=>d[i]);
import{_ as F}from"./5rTHRgS3.js";import j from"./BeDBOdWI.js";import Q from"./CpV7bDbh.js";import R from"./VyHu6ANc.js";import z from"./Dnjk2MVe.js";import G from"./C9onH5Hv.js";import{_ as M}from"./BbuwxmIR.js";import{a as k,O as C,b as W}from"./6hzvT-dP.js";import{i as H,L as X,x as O,s as ee,Y as oe,u as te,B as ne}from"./lpIx-tlP.js";import{d as V,k as w,y as x,S as n,z as d,A as e,a2 as y,Y as I,C as t,D as c,r as P,Z as q,E as L,B as S,a7 as re,a8 as ie,$ as U,a0 as Y,ae as se,a3 as le}from"./DdzSJcTg.js";import de from"./B8pibtp6.js";import Z from"./C2rt0_RV.js";import J from"./C3lSEtJG.js";import ae from"./BbpFMqdt.js";import ce from"./BlHGlOjs.js";import{u as K}from"./D9GHut1E.js";import{u as me}from"./DKvN57Uz.js";import ue from"./DJwvR4SB.js";import pe from"./CW5EUvFj.js";import{i as fe}from"./CxzeFJE2.js";import{v as _e}from"./COYxEMbT.js";import{t as T}from"./Cylf5aCO.js";import"./CMhfbj1E.js";import"./CYCsxq4j.js";import"./vCC6k1YF.js";import"./CrTQrfco.js";import"./ZhWAdK_X.js";import"./DBYfWbxS.js";import"./B82uFDcP.js";import"./jc0MLXVe.js";import"./DJJUpE4W.js";import"./D18zueMs.js";import"./BgSNwDXh.js";import"./CLs7nh7g.js";import"./CaxQXp7R.js";import"./nHf-jst-.js";import"./CmGQrYfe.js";import"./BzRqn72E.js";import"./BciKtvTx.js";import"./g2hQxUwo.js";import"./DEF_5YPs.js";import"./DEzLWorB.js";import"./CfOVHJNO.js";import"./CKA2__bX.js";import"./m675qk77.js";import"./D0E_-NQY.js";import"./siIC-rLu.js";import"./nu2iADBt.js";import"./DzQKAQGE.js";import"./BA-LYd87.js";import"./BHU4Xbey.js";import"./CFeJpXGj.js";import"./C-S3JTEP.js";import"./DFNegMOL.js";import"./Bn_dQIQc.js";import"./DdqGBk-8.js";import"./m4vJiAqj.js";import"./MmA3I2Zj.js";const ve={key:0,class:"grid grid-cols-3 gap-2"},xe={class:"flex flex-col gap-2 items-stretch justify-center grow"},he={class:"flex flex-row justify-stretch grow relative group rounded overflow-clip"},ge={class:"absolute bg-slate-500/50 top-0 left-0 right-0 bottom-0 opacity-0 group-hover:opacity-100 duration-300 flex flex-row items-center justify-center cursor-pointer"},ye={class:"flex flex-col gap-2 col-span-2"},be={key:1,class:"flex flex-row justify-center items-center min-h-[10rem]"},we=V({__name:"ChoiceHeaderForm",props:{choiceId:{}},setup(m){const p=k(),f=m,i=w(()=>p.get(f.choiceId,C.choice));return(l,r)=>{const h=G,s=F,o=z,a=R,_=Q,u=j;return n(i).header?(d(),x("div",ve,[e("div",xe,[e("div",he,[n(H)(n(i).header?.image)?(d(),y(h,{key:0,animation:"none",class:"grow",height:"auto"})):I("",!0),n(i).header.image?(d(),y(M,{key:1,"media-id":n(i).header.image,class:"grow border border-surface-700"},null,8,["media-id"])):I("",!0),e("div",ge,[r[2]||(r[2]=e("i",{class:"iconify solar--pen-line-duotone"},null,-1)),n(i).header.image?(d(),y(s,{key:0,outlined:"",severity:"danger",icon:"iconify solar--trash-bin-trash-line-duotone",class:"absolute right-[0.5rem] bottom-[0.5rem]"})):I("",!0)])])]),e("div",ye,[t(a,null,{default:c(()=>[t(o,{modelValue:n(i).header.title,"onUpdate:modelValue":r[0]||(r[0]=g=>n(i).header.title=g)},null,8,["modelValue"]),r[3]||(r[3]=e("label",null,"Title",-1))]),_:1}),t(_,{modelValue:n(i).header.text,"onUpdate:modelValue":r[1]||(r[1]=g=>n(i).header.text=g),"editor-style":"height: 12rem"},null,8,["modelValue"])])])):(d(),x("div",be,[t(u,{variant:"outlined",severity:"secondary",icon:"iconify iconify solar--add-circle-line-duotone",label:"Add Header"})]))}}}),$e={class:"flex flex-row gap-2"},Ie={class:"flex flex-col gap-2"},Ce=V({__name:"AddonMove",props:{addonId:{},index:{}},setup(m){K(),k();const{moveRelative:p,moveAbsolute:f}=me(),i=m,l=P(),r=P(0);function h(_){r.value=i.index,l.value.toggle(_)}function s(){p(i.addonId,-1)}function o(){p(i.addonId,1)}function a(){f(i.addonId,r.value),l.value.hide()}return(_,u)=>{const g=F,$=j,B=ce,A=ae,D=J,N=Z,v=de;return d(),x("div",$e,[t(B,null,{default:c(()=>[t(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-left-line-duotone",onClick:u[0]||(u[0]=b=>s())}),t($,{outlined:"",severity:"secondary",label:n(X)(m.index),"pt:root:class":"leading-none p-0 w-[2.5rem] h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] w-[1.5rem] h-[1.5rem]",onClick:h},null,8,["label"]),t(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-right-line-duotone",onClick:u[1]||(u[1]=b=>o())})]),_:1}),t(v,{ref_key:"indexShiftPopover",ref:l},{default:c(()=>[e("div",Ie,[u[4]||(u[4]=e("span",{class:"text-surface-500 text-sm"},"Move to position",-1)),t(N,null,{default:c(()=>[t(A,{modelValue:n(r),"onUpdate:modelValue":u[2]||(u[2]=b=>q(r)?r.value=b:null),"show-buttons":""},null,8,["modelValue"]),t(D,null,{default:c(()=>[t($,{severity:"secondary",icon:"iconify solar--round-double-alt-arrow-right-line-duotone",onClick:u[3]||(u[3]=b=>a())})]),_:1})]),_:1})])]),_:1},512)])}}}),ke={class:"flex flex-col gap-2 rounded border border-surface-700 p-3"},Ve={class:"flex flex-row justify-between"},Se={class:"flex flex-row gap-2"},je={class:"text-primary text-xl font-bold grow group-hover:underline"},Be={class:"text-surface-500 text-sm"},Ae={class:"flex flex-row gap-2"},De={class:"flex flex-col gap-2"},Ne={class:"font-bold"},Pe={class:"max-h-[10rem] overflow-hidden text-ellipsis"},Ue=V({__name:"AddonCard",props:{addonId:{},index:{}},setup(m){const p=K(),f=k(),i=m,l=w(()=>f.get(i.addonId,C.addon));function r(){p.pushScreen({type:"edit-addon",choiceId:l.value.id})}return(h,s)=>{const o=j,a=G;return d(),x("div",ke,[e("div",Ve,[t(Ce,{"addon-id":m.addonId,index:m.index},null,8,["addon-id","index"]),e("div",Se,[t(o,{variant:"outlined",size:"small",severity:"secondary"},{default:c(()=>[...s[1]||(s[1]=[L(" Clone ",-1)])]),_:1}),t(o,{variant:"outlined",size:"small",severity:"danger"},{default:c(()=>[...s[2]||(s[2]=[L(" Delete ",-1)])]),_:1})])]),e("div",{class:"flex flex-row items-center cursor-pointer group",onClick:s[0]||(s[0]=_=>r())},[e("div",je,S(n(l).name),1),e("div",Be,S(n(l).id),1)]),e("div",Ae,[e("div",null,[n(H)(n(l).header?.image)?(d(),y(a,{key:0,width:"5rem",height:"3rem",animation:"none"})):I("",!0),n(l).header?.image?(d(),y(M,{key:1,"media-id":n(l).header.image,width:"5rem"},null,8,["media-id"])):I("",!0)]),e("div",De,[e("div",Ne,S(n(l).header?.title),1),e("div",Pe,S(n(l).header?.text),1)])])])}}}),Ee={class:"grid grid-cols-2 auto-rows-auto"},Le=V({__name:"ChoiceComponentsForm",props:{choiceId:{}},setup(m){const p=k(),f=m,i=w(()=>p.get(f.choiceId,C.choice)),l=w(()=>O(s=>fe(s),ee(s=>r(s),_e(i.value.components))));function r(s){switch(console.log("dispatchComponent",s),s.type){case W.Requirements:return{key:s.type,component:h,props:{choiceId:f.choiceId}};default:return}}const h=re(()=>ie(()=>import("./Aa5RalX6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url));return(s,o)=>(d(),x("div",Ee,[(d(!0),x(U,null,Y(n(l),a=>(d(),x("div",{key:a.key},[(d(),y(le(a.component),se({ref_for:!0},a.props??{}),null,16))]))),128))]))}}),Te={class:"flex flex-col gap-2 items-stretch"},Fe={class:"flex flex-row gap-2"},Re={class:"flex flex-col"},ze={class:"flex flex-col"},Ge={class:"flex flex-row justify-between items-center"},Me={class:"grid grid-cols-3 gap-2"},Jo=V({__name:"ChoiceScreen",props:{choiceId:{}},setup(m){const p=k(),f=m,i=w(()=>p.get(f.choiceId,C.choice)),l=w(()=>{const s=h.value;if(te(s))return p.getChildren(f.choiceId);{const o=T(s);return O(({id:a})=>{const _=p.get(a,C.addon);return ne(o,T(_.name))},p.getChildren(f.choiceId))}}),r=P(""),h=oe(r,100);return(s,o)=>{const a=z,_=R,u=we,g=pe,$=J,B=j,A=Z,D=Ue,N=ue;return d(),x(U,null,[t(g,null,{default:c(()=>[e("div",Te,[e("div",Fe,[t(_,{class:"grow"},{default:c(()=>[t(a,{modelValue:n(i).name,"onUpdate:modelValue":o[0]||(o[0]=v=>n(i).name=v),modelModifiers:{lazy:!0}},null,8,["modelValue"]),o[4]||(o[4]=e("label",null,"Name",-1))]),_:1}),t(_,null,{default:c(()=>[t(a,{modelValue:n(i).id,"onUpdate:modelValue":o[1]||(o[1]=v=>n(i).id=v),disabled:""},null,8,["modelValue"]),o[5]||(o[5]=e("label",null,"ID",-1))]),_:1})]),e("div",Re,[o[6]||(o[6]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Header")],-1)),t(u,{"choice-id":m.choiceId},null,8,["choice-id"])]),e("div",ze,[o[7]||(o[7]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Components")],-1)),t(Le,{"choice-id":m.choiceId},null,8,["choice-id"])])])]),_:1}),t(N,{value:n(l),"data-key":"id",dt:{header:{padding:"1rem 0"},content:{padding:"1rem 0"}}},{header:c(()=>[e("div",Ge,[o[9]||(o[9]=e("h3",{class:"text-xl font-bold text-primary"},"Addons",-1)),t(A,{class:"w-auto min-w-8"},{default:c(()=>[t($,null,{default:c(()=>[...o[8]||(o[8]=[e("i",{class:"iconify solar--filter-line-duotone"},null,-1)])]),_:1}),t(a,{modelValue:n(r),"onUpdate:modelValue":o[2]||(o[2]=v=>q(r)?r.value=v:null),size:"small"},null,8,["modelValue"]),t($,null,{default:c(()=>[t(B,{icon:"iconify solar--close-circle-line-duotone",severity:"secondary",onClick:o[3]||(o[3]=v=>r.value="")})]),_:1})]),_:1})])]),list:c(({items:v})=>[e("div",Me,[(d(!0),x(U,null,Y(v,(b,E)=>(d(),y(D,{key:E,"addon-id":b.id,index:E},null,8,["addon-id","index"]))),128))])]),_:1},8,["value"])],64)}}});export{Jo as default};
