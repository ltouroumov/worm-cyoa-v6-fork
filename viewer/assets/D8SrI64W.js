const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./gy24xQma.js","./Cdd6DfqZ.js","./DwOy7wgf.js","./CdqSFu2G.js","./entry.D_64tYN9.css","./CMLcWvoB.js","./BMaPQmLf.js","./C1hjZmx9.js","./CP6gnjJW.js","./BPYn9ZBL.js","./CvxTOjRi.js","./3_ixSw6u.js","./CglSWGZU.js","./NTMun29O.js","./ZhWAdK_X.js","./BeBFAm_D.js","./5EUr5vVA.js","./jc0MLXVe.js","./Da3uGLNN.js","./cp9NGG_Z.js","./CRdXGPpM.js","./ClcEL2lW.js","./BqM8XJsB.js","./DgYXz_bn.js","./D4p-aQ6b.js","./B1E0U8An.js","./Bej0YSwL.js","./DPNsTw_3.js","./zgd7IYOm.js","./BXX79-3l.js","./CLs7nh7g.js","./CF25ljZs.js","./D69EkZPa.js","./Bt9bvtHi.js","./CRJ41j1f.js","./ByerUY9Y.js","./T65qlSYz.js","./DEQjbyYd.js","./BClynvy_.js","./D9-o91Ke.js","./DsG-T0iI.js","./CNE77Gu_.js","./BqS4UGes.js","./BxSK_eJS.js","./BA5ObNkK.js","./Ckx4eSHc.js","./Dw6QvGKL.js","./Cwox3lhg.js","./DoEZ1Kvx.js","./Ddb8HAXn.js","./nSh9mPQI.js","./DSuAY0Ux.js","./BKPkhenD.js","./C44uximf.js","./CnnqWGje.js","./Bf9kQ_ZC.js","./Bnf9KxjS.js","./xO-EXLVO.js","./CBetBS6d.js","./BgJ5Mb1k.js","./L5yaPw4W.js","./Dwtzbrt1.js","./DMdf1wMW.js","./Bc0HQo-H.js","./D0cPde4x.js","./Djc33qqC.js","./kxWjncbt.js","./Zu1L9lpi.js","./DDG2GycB.js","./YpD5isx-.js","./DL7K9xeH.js","./COFVJRJe.js","./nm5DgPjs.js","./RBO1d8tA.js","./D9OeFroY.js","./BiovIhoX.js","./ViewDetails.S67yfvQE.css","./ByyonEb1.js","./ViewParents.BivG3crd.css"])))=>i.map(i=>d[i]);
import Aa from"./BMaPQmLf.js";import{k as M,F as Oa,a as Pa,G as Ea,H as Ra,I as Ia,J as io,K as La,L as ja,M as it,N as Ba,O as Ta,r as U,s as hn,P as Ma,Q as bt,R as Na,S as k,T as Da,U as Sn,V as cs,W as kn,d as z,y as I,z as O,A,X as T,C as j,B as W,Y as Q,Z as oe,$ as X,a0 as ae,a1 as Cn,_ as le,E as Z,a2 as $,a3 as oo,a4 as An,a5 as qa,a6 as Va,a7 as pn,a8 as mn,a9 as On,aa as Pn,D as H,ab as ds,ac as Ua,ad as $a,ae as Fa,af as za,ag as En,ah as cr,ai as Ha,h as Wa,aj as Ga,n as lr,ak as Ja,o as dr,al as ao}from"./CdqSFu2G.js";import{_ as Ie,a as lo,b as Ka,c as Ya,d as Xa,e as fs,f as Rn,g as qe,h as Qa,i as ot,j as gn,k as Za,l as el,m as tl,n as xe,r as In,o as hs,p as ye,q as fr,s as K,M as uo,t as Ct,u as ue,z as ps,v as Ge,w as Le,x as Te,y as ce,A as rl,B as Ln,C as nl,D as co,E as fo,F as sl,G as ho}from"./Cdd6DfqZ.js";import{_ as re,a as yt,b as jn,c as hr,d as Ke,e as po,f as Bn,g as il,h as ol,s as mo,i as al}from"./DwOy7wgf.js";import{p as he,s as ll,b as ul,r as cl,a as go,c as dl,_ as vo,E as bo,S as fl,d as hl,O as ms,e as kr,f as pl}from"./CRdXGPpM.js";import{j as Ae,f as ml}from"./ClcEL2lW.js";import{f as gl,p as vl}from"./BqM8XJsB.js";import{i as Se}from"./DgYXz_bn.js";import{_ as gs,i as bl,t as vs,u as yl,l as mt,a as wl}from"./CMLcWvoB.js";import{v as yo}from"./D4p-aQ6b.js";import _t from"./B1E0U8An.js";import _l from"./zgd7IYOm.js";import Tn from"./CRJ41j1f.js";import pr from"./BXX79-3l.js";import xl from"./ByerUY9Y.js";import Sl from"./T65qlSYz.js";import kl from"./D9-o91Ke.js";import we from"./3_ixSw6u.js";import Mn from"./BxSK_eJS.js";import at from"./BA5ObNkK.js";import wo from"./Ckx4eSHc.js";import Cl from"./Dw6QvGKL.js";import Al from"./Cwox3lhg.js";import Ol from"./DoEZ1Kvx.js";import _o from"./DSuAY0Ux.js";import Pl from"./DMdf1wMW.js";import El from"./Bc0HQo-H.js";import Rl from"./D0cPde4x.js";import Il from"./Djc33qqC.js";import Ll from"./kxWjncbt.js";import jl from"./YpD5isx-.js";import Bl from"./DL7K9xeH.js";import xo from"./nm5DgPjs.js";import So from"./D9OeFroY.js";import Tl from"./BiovIhoX.js";const Ml={trailing:!0};function ko(e,t=25,n={}){if(n={...Ml,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let a,l,f=[],u,h;const m=(p,o)=>(u=Nl(e,p,o),u.finally(()=>{if(u=null,n.trailing&&h&&!l){const i=m(p,h);return h=null,i}}),u),c=function(...p){return n.trailing&&(h=p),u||new Promise(o=>{const i=!l&&n.leading;clearTimeout(l),l=setTimeout(()=>{l=null;const s=n.leading?a:m(this,p);h=null;for(const d of f)d(s);f=[]},t),i?(a=m(this,p),o(a)):f.push(o)})},r=p=>{p&&(clearTimeout(p),l=null)};return c.isPending=()=>!!l,c.cancel=()=>{r(l),f=[],h=null},c.flush=()=>{if(r(l),!h||u)return;const p=h;return h=null,m(this,p)},c}async function Nl(e,t,n){return await e.apply(t,n)}function Co(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;Dl(e[0],e[1])&&e.unshift(t);let[n,a,l={}]=e,f=!1;const u=M(()=>Oa(n));if(typeof u.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const h=Pa();l.server??=!0,l.default??=Vl,l.getCachedData??=Oo,l.lazy??=!1,l.immediate??=!0,l.deep??=Ea.deep,l.dedupe??="cancel",l._functionName,h._asyncData[u.value];function m(){const s={cause:"initial",dedupe:l.dedupe};return h._asyncData[u.value]?._init||(s.cachedData=l.getCachedData(u.value,h,{cause:"initial"}),h._asyncData[u.value]=bs(h,u.value,a,l,s.cachedData)),()=>h._asyncData[u.value].execute(s)}const c=m(),r=h._asyncData[u.value];r._deps++;const p=l.server!==!1&&h.payload.serverRendered;{let s=function(v){const w=h._asyncData[v];w?._deps&&(w._deps--,w._deps===0&&w?._off())};const d=Ra();if(d&&p&&l.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const v=d._nuxtOnBeforeMountCbs;Ia(()=>{v.forEach(w=>{w()}),v.splice(0,v.length)}),io(()=>v.splice(0,v.length))}const g=d&&(d._nuxtClientOnly||La(ja,!1));p&&h.isHydrating&&(r.error.value||r.data.value!==void 0)?r.status.value=r.error.value?"error":"success":d&&(!g&&h.payload.serverRendered&&h.isHydrating||l.lazy)&&l.immediate?d._nuxtOnBeforeMountCbs.push(c):l.immediate&&r.status.value!=="success"&&c();const b=Ta(),y=it(u,(v,w)=>{if((v||w)&&v!==w){f=!0;const x=h._asyncData[w]?.data.value!==void 0,C=h._asyncDataPromises[w]!==void 0,S={cause:"initial",dedupe:l.dedupe};if(!h._asyncData[v]?._init){let E;w&&x?E=h._asyncData[w].data.value:(E=l.getCachedData(v,h,{cause:"initial"}),S.cachedData=E),h._asyncData[v]=bs(h,v,a,l,E)}h._asyncData[v]._deps++,w&&s(w),(l.immediate||x||C)&&h._asyncData[v].execute(S),Da(()=>{f=!1})}},{flush:"sync"}),_=l.watch?it(l.watch,()=>{f||r._execute({cause:"watch",dedupe:l.dedupe})}):()=>{};b&&Ba(()=>{y(),_(),s(u.value)})}const o={data:At(()=>h._asyncData[u.value]?.data),pending:At(()=>h._asyncData[u.value]?.pending),status:At(()=>h._asyncData[u.value]?.status),error:At(()=>h._asyncData[u.value]?.error),refresh:(...s)=>h._asyncData[u.value]?._init?h._asyncData[u.value].execute(...s):m()(),execute:(...s)=>o.refresh(...s),clear:()=>{const s=h._asyncData[u.value];if(s?._abortController)try{s._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{s._abortController=void 0}Ao(h,u.value)}},i=Promise.resolve(h._asyncDataPromises[u.value]).then(()=>o);return Object.assign(i,o),i}function At(e){return M({get(){return e()?.value},set(t){const n=e();n&&(n.value=t)}})}function Dl(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function Ao(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=k(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function ql(e,t){const n={};for(const a of t)n[a]=e[a];return n}function bs(e,t,n,a,l){e.payload._errors[t]??=void 0;const f=a.getCachedData!==Oo,u=n,h=a.deep?U:hn,m=l!==void 0,c=e.hook("app:data:refresh",async p=>{(!p||p.includes(t))&&await r.execute({cause:"refresh:hook"})}),r={data:h(m?l:a.default()),pending:M(()=>r.status.value==="pending"),error:Ma(e.payload._errors,t),status:hn("idle"),execute:(...p)=>{const[o,i=void 0]=p,s=o&&i===void 0&&typeof o=="object"?o:{};if(e._asyncDataPromises[t]&&(s.dedupe??a.dedupe)==="defer")return e._asyncDataPromises[t];{const b="cachedData"in s?s.cachedData:a.getCachedData(t,e,{cause:s.cause??"refresh:manual"});if(b!==void 0)return e.payload.data[t]=r.data.value=b,r.error.value=void 0,r.status.value="success",Promise.resolve(b)}r._abortController&&r._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),r._abortController=new AbortController,r.status.value="pending";const d=new AbortController,g=new Promise((b,y)=>{try{const _=s.timeout??a.timeout,v=Ul([r._abortController?.signal,s?.signal],d.signal,_);if(v.aborted){const w=v.reason;y(w instanceof Error?w:new DOMException(String(w??"Aborted"),"AbortError"));return}return v.addEventListener("abort",()=>{const w=v.reason;y(w instanceof Error?w:new DOMException(String(w??"Aborted"),"AbortError"))},{once:!0,signal:d.signal}),Promise.resolve(u(e,{signal:v})).then(b,y)}catch(_){y(_)}}).then(async b=>{let y=b;a.transform&&(y=await a.transform(b)),a.pick&&(y=ql(y,a.pick)),e.payload.data[t]=y,r.data.value=y,r.error.value=void 0,r.status.value="success"}).catch(b=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==g)&&!r._abortController?.signal.aborted){if(typeof DOMException<"u"&&b instanceof DOMException&&b.name==="AbortError"){r.status.value="idle";return}r.error.value=Na(b),r.data.value=k(a.default()),r.status.value="error"}}).finally(()=>{d.abort(),delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=g,e._asyncDataPromises[t]},_execute:ko((...p)=>r.execute(...p),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{c(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),f||bt(()=>{e._asyncData[t]?._init||(Ao(e,t),r.execute=()=>Promise.resolve())})}};return r}const Vl=()=>{},Oo=(e,t,n)=>{if(t.isHydrating)return t.payload.data[e];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return t.static.data[e]};function Ul(e,t,n){const a=e.filter(u=>!!u);if(typeof n=="number"&&n>=0){const u=AbortSignal.timeout?.(n);u&&a.push(u)}if(AbortSignal.any)return AbortSignal.any(a);const l=new AbortController;for(const u of a)if(u.aborted){const h=u.reason??new DOMException("Aborted","AbortError");try{l.abort(h)}catch{l.abort()}return l.signal}const f=()=>{const h=a.find(m=>m.aborted)?.reason??new DOMException("Aborted","AbortError");try{l.abort(h)}catch{l.abort()}};for(const u of a)u.addEventListener?.("abort",f,{once:!0,signal:t});return l.signal}const $l={"@@functional/placeholder":!0};var Nn=re(function(t,n){return Number(t)+Number(n)}),Fl=(function(){function e(t,n){this.xf=n,this.f=t,this.all=!0}return e.prototype["@@transducer/init"]=yt.init,e.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=jn(this.xf["@@transducer/step"](t,!1))),t},e})();function zl(e){return function(t){return new Fl(e,t)}}var Hl=re(hr(["all"],zl,function(t,n){for(var a=0;a<n.length;){if(!t(n[a]))return!1;a+=1}return!0})),Wl=(function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=yt.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=jn(this.xf["@@transducer/step"](t,!0))),t},e})();function Gl(e){return function(t){return new Wl(e,t)}}var Jl=re(hr(["any"],Gl,function(t,n){for(var a=0;a<n.length;){if(t(n[a]))return!0;a+=1}return!1})),Kl=(function(){function e(t,n,a,l){this.valueFn=t,this.valueAcc=n,this.keyFn=a,this.xf=l,this.inputs={}}return e.prototype["@@transducer/init"]=yt.init,e.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(Ie(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){var a=this.keyFn(n);return this.inputs[a]=this.inputs[a]||[a,lo(this.valueAcc,!1)],this.inputs[a][1]=this.valueFn(this.inputs[a][1],n),t},e})();function Yl(e,t,n){return function(a){return new Kl(e,t,n,a)}}var Dn=Ka(4,[],hr([],Yl,function(t,n,a,l){var f=Xa(function(u,h){var m=a(h),c=t(Ie(m,u)?u[m]:lo(n,!1),h);return c&&c["@@transducer/reduced"]?jn(u):(u[m]=c,u)});return Ya(f,{},l)})),Po=re(function(t,n){return n==null||n!==n?t:n}),mr=(function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(t){return!ys(t,!0,this)},e.prototype.has=function(t){return ys(t,!1,this)},e})();function ys(e,t,n){var a=typeof e,l,f;switch(a){case"string":case"number":return e===0&&1/e===-1/0?n._items["-0"]?!0:(t&&(n._items["-0"]=!0),!1):n._nativeSet!==null?t?(l=n._nativeSet.size,n._nativeSet.add(e),f=n._nativeSet.size,f===l):n._nativeSet.has(e):a in n._items?e in n._items[a]?!0:(t&&(n._items[a][e]=!0),!1):(t&&(n._items[a]={},n._items[a][e]=!0),!1);case"boolean":if(a in n._items){var u=e?1:0;return n._items[a][u]?!0:(t&&(n._items[a][u]=!0),!1)}else return t&&(n._items[a]=e?[!1,!0]:[!0,!1]),!1;case"function":return n._nativeSet!==null?t?(l=n._nativeSet.size,n._nativeSet.add(e),f=n._nativeSet.size,f===l):n._nativeSet.has(e):a in n._items?fs(e,n._items[a])?!0:(t&&n._items[a].push(e),!1):(t&&(n._items[a]=[e]),!1);case"undefined":return n._items[a]?!0:(t&&(n._items[a]=!0),!1);case"object":if(e===null)return n._items.null?!0:(t&&(n._items.null=!0),!1);default:return a=Object.prototype.toString.call(e),a in n._items?fs(e,n._items[a])?!0:(t&&n._items[a].push(e),!1):(t&&(n._items[a]=[e]),!1)}}var gt=re(function(t,n){for(var a=[],l=0,f=t.length,u=n.length,h=new mr,m=0;m<u;m+=1)h.add(n[m]);for(;l<f;)h.add(t[l])&&(a[a.length]=t[l]),l+=1;return a}),Xl=Ke(function(t,n,a){var l=Array.prototype.slice.call(a,0);return l.splice(t,n),l});function Ql(e,t){if(t==null)return t;if(Rn(e)&&po(t))return Xl(e,1,t);var n={};for(var a in t)n[a]=t[a];return delete n[e],n}function Zl(e,t){if(Rn(e)&&po(t))return[].concat(t);var n={};for(var a in t)n[a]=t[a];return n}var eu=re(function e(t,n){if(n==null)return n;switch(t.length){case 0:return n;case 1:return Ql(t[0],n);default:var a=t[0],l=Array.prototype.slice.call(t,1);return n[a]==null?Zl(a,n):qe(a,e(l,n[a]),n)}}),Eo=re(function(t,n){return eu([t],n)}),Ro=Bn(Qa(!0));function tu(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t}var sr=Bn(tu),qn=re(il("groupBy",Dn(function(e,t){return e.push(t),e},[]))),ru=re(function(t,n){if(t.length===0||ot(n))return!1;for(var a=n,l=0;l<t.length;)if(!ot(a)&&Ie(t[l],a))a=a[t[l]],l+=1;else return!1;return!0}),Je=re(function(t,n){return ru([t],n)}),Cr=Dn(function(e,t){return t},null),nu=(function(){function e(t,n){this.xf=n,this.f=t,this.set=new mr}return e.prototype["@@transducer/init"]=yt.init,e.prototype["@@transducer/result"]=yt.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e})();function su(e){return function(t){return new nu(e,t)}}var iu=re(hr([],su,function(e,t){for(var n=new mr,a=[],l=0,f,u;l<t.length;)u=t[l],f=e(u),n.add(f)&&a.push(u),l+=1;return a})),Io=iu(gn),ou=re(function(t,n){for(var a=new mr,l=0;l<t.length;l+=1)a.add(t[l]);return Io(Za(a.has.bind(a),n))});function au(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,a=arguments.length;n<a;){var l=arguments[n];if(l!=null)for(var f in l)Ie(f,l)&&(t[f]=l[f]);n+=1}return t}const lu=typeof Object.assign=="function"?Object.assign:au;function uu(e,t){for(var n=t,a=0;a<e.length;a+=1){if(n==null)return;var l=e[a];Rn(l)?n=el(l,n):n=n[l]}return n}function cu(e){var t=[];for(var n in e)Ie(n,e)&&(t[t.length]=[n,e[n]]);return t}var du=re(function(t,n){return tl(function(a,l){return a[l]=t(n[l],l,n),a},{},xe(n))}),fu=re(function(t,n){return n.match(t)||[]}),hu=In(Nn,0),Lo=Ke(function(t,n,a){var l={},f;n=n||{},a=a||{};for(f in n)Ie(f,n)&&(l[f]=Ie(f,a)?t(f,n[f],a[f]):n[f]);for(f in a)Ie(f,a)&&!Ie(f,l)&&(l[f]=a[f]);return l}),pu=Ke(function e(t,n,a){return Lo(function(l,f,u){return hs(f)&&hs(u)?e(t,f,u):t(l,f,u)},n,a)}),vn=re(function(t,n){return pu(function(a,l,f){return f},t,n)}),mu=re(function(t,n){return lu({},t,n)}),gu=Ke(function(t,n,a){return Lo(function(l,f,u){return t(f,u)},n,a)}),vu=re(function(t,n){return t*n}),bu=Ke(function(t,n,a){return Po(t,uu(n,a))}),ws=re(function(t,n){var a={};for(var l in n)t(n[l],l,n)&&(a[l]=n[l]);return a}),yu=re(function(t,n){return ol([t],n)}),wu=Ke(function(t,n,a){return Po(t,ye(n,a))}),_u=re(function(t,n){if(!(gs(t)&&gs(n)))throw new TypeError("Both arguments to range must be numbers");for(var a=t<n?Math.ceil(n-t):0,l=Array(a),f=0;f<a;)l[f]=f+t,f+=1;return l}),bn=Ke(function(t,n,a){for(var l=a.length-1;l>=0;){if(n=t(a[l],n),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}l-=1}return n}),jo=re(function(t,n){return Array.prototype.slice.call(n,0).sort(function(a,l){var f=t(a),u=t(l);return f<u?-1:f>u?1:0})}),xu=re(function(t,n){return Array.prototype.slice.call(n,0).sort(function(a,l){for(var f=0,u=0;f===0&&u<t.length;)f=t[u](a,l),u+=1;return f})}),st=bl(1,"split"),Su=re(function(t,n){return fr(gt(t,n),gt(n,t))}),Ve=Bn(cu),ku=re(function(t,n){for(var a in t)if(Ie(a,t)&&!t[a](n[a]))return!1;return!0});const Ue=e=>{const{exec:t}=Bo(e.requireds);return t},Bo=e=>{const{code:t,deps:n}=e.length===0?wt:ir(K(To,e));return{exec:Function("sel",`return ${t}`),deps:n}},To=e=>{const t=uo(e).with({type:"id",required:!0},()=>{const n=Ct(ue,[e.reqId,e.reqId1,e.reqId2,e.reqId3]);return ir(K(_s,n))}).with({type:"id",required:!1},()=>{const n=Ct(ue,[e.reqId,e.reqId1,e.reqId2,e.reqId3]);return ir(K(xs,n))}).with({type:"or",required:!0,orRequired:ps.select()},n=>{const a=Ct(ue,K(ye("req"),n));return Ss(K(_s,a))}).with({type:"or",required:!1,orRequired:ps.select()},n=>{const a=Ct(ue,K(ye("req"),n));return Ss(K(xs,a))}).otherwise(()=>wt);if(ue(e.requireds))return t;{const n=K(To,e.requireds);return Cu(ir(n),t,wt)}},Mo=e=>Io(Ro(K(ye("deps"),e))),No=(e,t)=>({code:e(K(ye("code"),t)),deps:Mo(t)}),wt={code:"true",deps:[]},_s=e=>({code:`sel.includes(${JSON.stringify(e)})`,deps:[e]}),xs=e=>({code:`!sel.includes(${JSON.stringify(e)})`,deps:[e]}),ir=e=>e.length===0?wt:e.length===1?e[0]:No(he(K(t=>`(${t})`),Ae(" && ")),e),Ss=e=>e.length===0?wt:e.length===1?e[0]:No(he(K(t=>`(${t})`),Ae(" || ")),e),Cu=(e,t,n)=>({code:`(${e.code}) ? (${t.code}) : (${n.code})`,deps:Mo([e,t,n])}),pe=Sn("project",()=>{const e=hn({status:"empty"}),t=M(()=>e.value.status==="loaded"?e.value.file:null),n=U({}),a=M(()=>xe(n.value)),l=U(null),f=U({}),u=U(!1),h=M(()=>t.value?.data.backpack??[]),m=M(()=>t.value?.data.pointTypes??[]),c=M(()=>t.value?.data.rows??[]),r=M(()=>{const x=Cr(ye("id"),t.value?.data.rows??[]);return C=>x[C]}),p=M(()=>{const x=Cr(ye("id"),Ge(ye("objects"),t.value?.data.rows??[]));return C=>x[C]}),o=(x,C)=>{const S=p.value(x);if(S){if(typeof C=="number")return{index:C,data:S.addons[C]};{const E=gl(P=>P.id===C,S.addons);return{index:E,data:S.addons[E]}}}else return},i=M(()=>{const x=sr(Ge(C=>K(S=>[S.id,C.id],C.objects),t.value?.data.rows??[]));return C=>x[C]}),s=M(()=>{const x=Cr(ye("id"),t.value?.data.pointTypes??[]);return C=>x[C]}),d=M(()=>{const x=t.value?.data;return ot(x)?{}:sr(x.rows.map((C,S)=>{const E=sr(C.objects.map((P,R)=>[P.id,R]));return[C.id,{index:S,objects:E}]}))}),g=M(()=>!!t.value),b=async x=>{e.value={status:"loading"},n.value={};const C=S=>bt(()=>{e.value.progress=S,cs(e)});try{const S=await x(C);if(!S){e.value={status:"empty"};return}if("fileContents"in S){const{fileContents:E,fileName:P}=S,R=await crypto.subtle.digest("SHA-1",ll(E)),L=ul(R),N=JSON.parse(E),F={data:N,fileName:P,projectId:N?.$projectId,projectName:N.rows[0].title,projectHash:L};e.value={status:"loaded",file:F},cs(e)}else e.value={status:"empty"}}catch(S){console.log(S),e.value={status:"empty"}}},y=()=>{e.value={status:"empty"},n.value={}},_=(x,C,S=!1)=>{const E=S?{}:Le(n.value),P=(q,Y,te)=>Y?qe(q,te??1):Eo(q),R=(q,Y)=>te=>bn((V,ie)=>P(V,Y)(ie),te,q),L=(q,Y)=>{if(q.activateOtherChoice){const te=st(",",q.activateThisChoice);return R(te,Y)}else return gn},N=(q,Y)=>{if(!q.deactivateOtherChoice||!Y)return gn;{const te=st(",",q.deactivateThisChoice);return R(te,!1)}},F=()=>q=>{let Y=Le(q),te=Le(q),V=!0,ie=0;for(;V&&ie<10;){te=ws((je,_e)=>{const Ne=p.value(_e);return Ue(Ne)(xe(Y))},Y);const ve=Su(xe(te),xe(Y));V=ce(ve),Y=Le(te),ie++}return te},B=q=>Y=>{const te=he(Ve,bn(([ie,ve],je)=>{const _e=p.value(ie);if(_e.addToAllowChoice){const Ne=[_e.idOfAllowChoice],$e=he(bu(0,Ne),Nn(_e.numbAddToAllowChoice*ve))(je);return rl(Ne,$e,je)}else return je},{}))(Y),V=he(xe,Te(ie=>typeof ie=="string"),qn(ie=>i.value(ie)),ws(ie=>!ue(ou(ie,q))),du((ie,ve)=>{if(!ie)return[];const je=r.value(ve),_e=Te(Ze=>!p.value(Ze)?.isSelectableMultiple,ie),Ne=wu(0,je.id,te),$e=Math.max(je.allowedChoices+Ne,0);if($e>0){const Ze=_e.length-$e;if(Ze>0){const De=gt(_e,q);return mo(0,Ze,De)}}return[]}),yo,Ro)(Y);return R(V,!1)(Y)};let J;if(typeof x=="object"){const q=Te(([te,V])=>Se(p.value(te)),Ve(x)),Y=In((te,[V,ie])=>{const ve=p.value(V);return he(P(V,C,ie),L(ve,C),N(ve,C))(te)},E,q);J=F()(Y)}else{const q=p.value(x);J=he(P(x,C),L(q,C),N(q,C),F())(E)}const ee=gt(xe(J),xe(E)),D=Te(q=>q!==q,gt(xe(E),xe(J)));let G=J;ee.length>0&&(G=B(ee)(G)),D.length>0&&K(q=>p.value(q).title,D),n.value=G,u.value=!0};return{store:e,project:t,projectRows:c,backpack:h,pointTypes:m,selected:n,selectedIds:a,buildData:l,buildNotes:f,buildModified:u,isLoaded:g,loadProject:b,unloadProject:y,getRow:r,getObject:p,getObjectAddon:o,getObjectRow:i,getPointType:s,indexMap:d,setSelected:_,incSelected:(x,C=1)=>{if(!Je(x,n.value))_(x,!0);else{const S=p.value(x),E=Number.parseInt(S.numMultipleTimesPluss),P=n.value[x];n.value[x]=Math.min(P+C,E)}},decSelected:(x,C=1)=>{if(Je(x,n.value)){const S=p.value(x),E=Number.parseInt(S.numMultipleTimesMinus),P=n.value[x],R=Math.max(P-C,E);R<=0?_(x,!1):n.value[x]=R}}}}),de=()=>kn(pe()),Ee=Sn("viewer",()=>{const e=U(!1),t=U(!1),n=U(!1),a=U(!1),l=U(!1),f=U({items:[],default:null,show_load_file:!0,show_project_sidebar:!0});return{isBackpackVisible:e,isNotesVisible:t,isSearchVisible:n,isProjectMenuVisible:a,viewerProjectList:f,showObjectDetails:l,toggleBackpack:r=>{e.value=r??!e.value},toggleNotes:r=>{t.value=r??!t.value},toggleSearch:r=>{n.value=r??!n.value},toggleProjectMenu:r=>{a.value=r??!a.value}}}),Ye=()=>kn(Ee()),Au={class:"load-input"},Ou={key:0,class:"alert alert-danger load-error mb-3",role:"alert"},Pu=z({__name:"LoadProject",props:{inline:{type:Boolean}},setup(e){const t=e,{loadProject:n}=pe(),{toggleProjectMenu:a}=Ee(),l=U(),f=U(!1),u=U(null);(()=>{if(u.value=null,l.value&&l.value.files){const[c]=l.value.files;c?c.type!=="application/json"?(f.value=!1,u.value="File is not JSON"):f.value=!0:f.value=!1}else f.value=!1})();const m=async c=>{const r=c.files[0];a(!1),await n(async p=>{await p("0%");const o=await cl(r,(i,s)=>{p(`${Math.round(i/s*100)}%`)});if(await p("100%"),o&&typeof o=="string")return{fileContents:o,fileName:r.name}})};return(c,r)=>{const p=Aa;return O(),I("div",{class:Q(["load-project",{inline:t.inline??!1}])},[A("div",Au,[j(p,{mode:"basic","custom-upload":!0,accept:"application/json","max-file-size":100*1024*1024,auto:!0,"choose-icon":"pi pi-file-plus","choose-label":"Upload Project",onSelect:m})]),k(u)?(O(),I("div",Ou,W(k(u)),1)):T("",!0)],2)}}}),Eu=Object.assign(Pu,{__name:"LoadProject"}),Vn=e=>new Promise(t=>setTimeout(t,e)),Ru={key:0,class:"load-container"},Iu={class:"main-container"},Lu={class:"main-header"},ju={class:"project-list-container"},Bu=["onClick"],Tu={key:0,class:"thumbnail"},Mu=["src"],Nu={key:1,class:"thumbnail-ph"},Du={class:"project-info"},qu={class:"project-title text-xl text-primary font-bold"},Vu={key:0,class:"project-description"},Uu={key:1,class:"project-author"},$u=z({__name:"ProjectMenu",props:{projectList:{},compact:{type:Boolean}},setup(e){const{loadProject:t}=pe(),{toggleProjectMenu:n}=Ee(),a=U(""),l=M(()=>{if(ue(a.value))return e.projectList.items;{const u=vs(a.value),h=st(" ",u);return e.projectList.items.filter(m=>{const c=vs(m.title);return Hl(Ln($l,c),h)})}}),f=async u=>{const h=u.file_url;h&&(n(!1),await t(async m=>{const c=await fetch(h);if(c.ok){const r=c.body.getReader();let p=0;const o=[];for(;;){const{done:d,value:g}=await r.read();if(d)break;o.push(g),p+=g.length;const b=p/(1024*1024),y=Math.round(b*100)/100;await m(`Downloaded ${y} Mb`)}await m(`Loading ${u.title} ...`),await Vn(100);const i=new Uint8Array(p);let s=0;for(const d of o)i.set(d,s),s+=d.length;return{fileContents:go(i.buffer),fileName:h.toString()}}else throw new Error(`HTTP Request failed with ${c.status}: ${c.statusText}`)}))};return(u,h)=>{const m=Eu,c=_t;return O(),I("div",{class:Q(["container",{compact:u.$props.compact??!1}])},[A("div",{class:Q(["toolbar",{compact:u.$props.compact??!1}])},[h[1]||(h[1]=A("h1",{class:"title text-3xl"},"Interactive CYOA Viewer (NEO)",-1)),e.projectList.show_load_file?(O(),I("div",Ru,[j(m,{inline:!0})])):T("",!0)],2),A("main",Iu,[A("div",Lu,[j(c,{modelValue:k(a),"onUpdate:modelValue":h[0]||(h[0]=r=>oe(a)?a.value=r:null),placeholder:"Search ..."},null,8,["modelValue"])]),A("div",ju,[(O(!0),I(X,null,ae(k(l),r=>(O(),I("div",{key:r.id,class:Q(["project-list-item",{compact:u.$props.compact??!1}]),onClick:Cn(p=>f(r),["prevent"])},[k(Se)(r.thumbnail_url)?(O(),I("div",Tu,[A("img",{src:r.thumbnail_url,class:"thumbnail-img"},null,8,Mu)])):T("",!0),k(ot)(r.thumbnail_url)?(O(),I("div",Nu,[...h[2]||(h[2]=[A("span",null,"No Thumbnail",-1)])])):T("",!0),A("div",Du,[A("h2",qu,W(r.title),1),k(Se)(r.description)?(O(),I("div",Vu,W(r.description),1)):T("",!0),k(Se)(r.author)?(O(),I("div",Uu," By "+W(r.author),1)):T("",!0)])],10,Bu))),128))])])],2)}}}),Do=Object.assign(le($u,[["__scopeId","data-v-639bd4d2"]]),{__name:"ProjectMenu"}),Fu={key:0,class:"req-before-text"},zu={key:1,class:"req-before-text"},Hu={key:2,class:"inline-flex items-center"},Wu={key:4},Gu={key:5},Ju={key:6,class:"iconify solar--check-circle-bold ms-1"},Ku=z({__name:"ViewRequirement",props:{req:{},showAlways:{type:Boolean}},setup(e){const t=e,{getObject:n}=pe(),{selectedIds:a}=de(),l=M(()=>Ue(t.req)),f=M(()=>l.value(a.value)),u=M(()=>Bo([t.req])),h=M(()=>{const{exec:m}=u.value;return m(a.value)});return(m,c)=>e.req.showRequired||e.showAlways?(O(),I("div",{key:0,class:Q(["obj-requirement break-normal",{disabled:!k(f)}])},[!e.req.required&&e.showAlways?(O(),I("span",Fu," Incompatible: ")):e.req.beforeText?(O(),I("span",zu,W(e.req.beforeText),1)):T("",!0),e.req.type==="id"?(O(),I("span",Hu,[A("span",null,W(k(n)(e.req.reqId)?.title??"???"),1)])):e.req.type==="or"?(O(!0),I(X,{key:3},ae(e.req.orRequired,(r,p)=>(O(),I("span",{key:p},[r.req?(O(),I(X,{key:0},[Z(W(p>0?p>=e.req.orRequired.length-1?", or ":", ":"")+" "+W(k(n)(r.req)?.title??"???"),1)],64)):T("",!0)]))),128)):(O(),I("div",Wu,"Unknown Condition")),e.req.afterText?(O(),I("span",Gu,W(e.req.afterText),1)):T("",!0),k(h)?(O(),I("span",Ju)):T("",!0)],2)):T("",!0)}}),Yu=Object.assign(Ku,{__name:"ViewRequirement"}),Xu=z({__name:"ViewRequirements",props:{requireds:{},showAlways:{type:Boolean},enableShowMore:{type:Boolean}},emits:["show-more"],setup(e){const t=e,n=M(()=>t.showAlways||Jl(a=>a.showRequired,t.requireds));return(a,l)=>k(n)?(O(),I("div",{key:0,class:Q(["obj-requirements relative",{"px-6":e.enableShowMore&&k(n)}])},[(O(!0),I(X,null,ae(e.requireds,(f,u)=>(O(),$(Yu,{key:u,req:f,"show-always":e.showAlways},null,8,["req","show-always"]))),128)),e.enableShowMore&&k(n)?(O(),I("div",{key:0,class:"absolute right-0 top-0 bottom-0 flex items-center justify-center w-6 cursor-pointer",onClick:l[0]||(l[0]=Cn(f=>a.$emit("show-more"),["stop","prevent"]))},[...l[1]||(l[1]=[A("div",{class:"iconify carbon--zoom-in"},null,-1)])])):T("",!0)],2)):T("",!0)}}),qo=Object.assign(Xu,{__name:"ViewRequirements"}),Qu=z({__name:"DynamicStyles",props:{stylesheet:{}},setup(e){return(t,n)=>(O(),$(oo("style"),{type:"text/css",textContent:W(e.stylesheet)},null,8,["textContent"]))}}),Un=Object.assign(Qu,{__name:"DynamicStyles"});var Ot={exports:{}},Pt={exports:{}},ke={},me={},ks;function ge(){if(ks)return me;ks=1,me.__esModule=!0,me.extend=l,me.indexOf=m,me.escapeExpression=c,me.isEmpty=r,me.createFrame=p,me.blockParams=o,me.appendContextPath=i;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},t=/[&<>"'`=]/g,n=/[&<>"'`=]/;function a(s){return e[s]}function l(s){for(var d=1;d<arguments.length;d++)for(var g in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],g)&&(s[g]=arguments[d][g]);return s}var f=Object.prototype.toString;me.toString=f;var u=function(d){return typeof d=="function"};u(/x/)&&(me.isFunction=u=function(s){return typeof s=="function"&&f.call(s)==="[object Function]"}),me.isFunction=u;var h=Array.isArray||function(s){return s&&typeof s=="object"?f.call(s)==="[object Array]":!1};me.isArray=h;function m(s,d){for(var g=0,b=s.length;g<b;g++)if(s[g]===d)return g;return-1}function c(s){if(typeof s!="string"){if(s&&s.toHTML)return s.toHTML();if(s==null)return"";if(!s)return s+"";s=""+s}return n.test(s)?s.replace(t,a):s}function r(s){return!s&&s!==0?!0:!!(h(s)&&s.length===0)}function p(s){var d=l({},s);return d._parent=s,d}function o(s,d){return s.path=d,s}function i(s,d){return(s?s+".":"")+d}return me}var Et={exports:{}},Cs;function Re(){return Cs||(Cs=1,(function(e,t){t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(l,f){var u=f&&f.loc,h=void 0,m=void 0,c=void 0,r=void 0;u&&(h=u.start.line,m=u.end.line,c=u.start.column,r=u.end.column,l+=" - "+h+":"+c);for(var p=Error.prototype.constructor.call(this,l),o=0;o<n.length;o++)this[n[o]]=p[n[o]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{u&&(this.lineNumber=h,this.endLineNumber=m,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:r,enumerable:!0})):(this.column=c,this.endColumn=r))}catch{}}a.prototype=new Error,t.default=a,e.exports=t.default})(Et,Et.exports)),Et.exports}var dt={},Rt={exports:{}},As;function Zu(){return As||(As=1,(function(e,t){t.__esModule=!0;var n=ge();t.default=function(a){a.registerHelper("blockHelperMissing",function(l,f){var u=f.inverse,h=f.fn;if(l===!0)return h(this);if(l===!1||l==null)return u(this);if(n.isArray(l))return l.length>0?(f.ids&&(f.ids=[f.name]),a.helpers.each(l,f)):u(this);if(f.data&&f.ids){var m=n.createFrame(f.data);m.contextPath=n.appendContextPath(f.data.contextPath,f.name),f={data:m}}return h(l,f)})},e.exports=t.default})(Rt,Rt.exports)),Rt.exports}var It={exports:{}},Os;function ec(){return Os||(Os=1,(function(e,t){t.__esModule=!0;function n(u){return u&&u.__esModule?u:{default:u}}var a=ge(),l=Re(),f=n(l);t.default=function(u){u.registerHelper("each",function(h,m){if(!m)throw new f.default("Must pass iterator to #each");var c=m.fn,r=m.inverse,p=0,o="",i=void 0,s=void 0;m.data&&m.ids&&(s=a.appendContextPath(m.data.contextPath,m.ids[0])+"."),a.isFunction(h)&&(h=h.call(this)),m.data&&(i=a.createFrame(m.data));function d(v,w,x){i&&(i.key=v,i.index=w,i.first=w===0,i.last=!!x,s&&(i.contextPath=s+v)),o=o+c(h[v],{data:i,blockParams:a.blockParams([h[v],v],[s+v,null])})}if(h&&typeof h=="object")if(a.isArray(h))for(var g=h.length;p<g;p++)p in h&&d(p,p,p===h.length-1);else if(typeof Symbol=="function"&&h[Symbol.iterator]){for(var b=[],y=h[Symbol.iterator](),_=y.next();!_.done;_=y.next())b.push(_.value);h=b;for(var g=h.length;p<g;p++)d(p,p,p===h.length-1)}else(function(){var v=void 0;Object.keys(h).forEach(function(w){v!==void 0&&d(v,p-1),v=w,p++}),v!==void 0&&d(v,p-1,!0)})();return p===0&&(o=r(this)),o})},e.exports=t.default})(It,It.exports)),It.exports}var Lt={exports:{}},Ps;function tc(){return Ps||(Ps=1,(function(e,t){t.__esModule=!0;function n(f){return f&&f.__esModule?f:{default:f}}var a=Re(),l=n(a);t.default=function(f){f.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new l.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default})(Lt,Lt.exports)),Lt.exports}var jt={exports:{}},Es;function rc(){return Es||(Es=1,(function(e,t){t.__esModule=!0;function n(u){return u&&u.__esModule?u:{default:u}}var a=ge(),l=Re(),f=n(l);t.default=function(u){u.registerHelper("if",function(h,m){if(arguments.length!=2)throw new f.default("#if requires exactly one argument");return a.isFunction(h)&&(h=h.call(this)),!m.hash.includeZero&&!h||a.isEmpty(h)?m.inverse(this):m.fn(this)}),u.registerHelper("unless",function(h,m){if(arguments.length!=2)throw new f.default("#unless requires exactly one argument");return u.helpers.if.call(this,h,{fn:m.inverse,inverse:m.fn,hash:m.hash})})},e.exports=t.default})(jt,jt.exports)),jt.exports}var Bt={exports:{}},Rs;function nc(){return Rs||(Rs=1,(function(e,t){t.__esModule=!0,t.default=function(n){n.registerHelper("log",function(){for(var a=[void 0],l=arguments[arguments.length-1],f=0;f<arguments.length-1;f++)a.push(arguments[f]);var u=1;l.hash.level!=null?u=l.hash.level:l.data&&l.data.level!=null&&(u=l.data.level),a[0]=u,n.log.apply(n,a)})},e.exports=t.default})(Bt,Bt.exports)),Bt.exports}var Tt={exports:{}},Is;function sc(){return Is||(Is=1,(function(e,t){t.__esModule=!0,t.default=function(n){n.registerHelper("lookup",function(a,l,f){return a&&f.lookupProperty(a,l)})},e.exports=t.default})(Tt,Tt.exports)),Tt.exports}var Mt={exports:{}},Ls;function ic(){return Ls||(Ls=1,(function(e,t){t.__esModule=!0;function n(u){return u&&u.__esModule?u:{default:u}}var a=ge(),l=Re(),f=n(l);t.default=function(u){u.registerHelper("with",function(h,m){if(arguments.length!=2)throw new f.default("#with requires exactly one argument");a.isFunction(h)&&(h=h.call(this));var c=m.fn;if(a.isEmpty(h))return m.inverse(this);var r=m.data;return m.data&&m.ids&&(r=a.createFrame(m.data),r.contextPath=a.appendContextPath(m.data.contextPath,m.ids[0])),c(h,{data:r,blockParams:a.blockParams([h],[r&&r.contextPath])})})},e.exports=t.default})(Mt,Mt.exports)),Mt.exports}var js;function Vo(){if(js)return dt;js=1,dt.__esModule=!0,dt.registerDefaultHelpers=d,dt.moveHelperToHooks=g;function e(b){return b&&b.__esModule?b:{default:b}}var t=Zu(),n=e(t),a=ec(),l=e(a),f=tc(),u=e(f),h=rc(),m=e(h),c=nc(),r=e(c),p=sc(),o=e(p),i=ic(),s=e(i);function d(b){n.default(b),l.default(b),u.default(b),m.default(b),r.default(b),o.default(b),s.default(b)}function g(b,y,_){b.helpers[y]&&(b.hooks[y]=b.helpers[y],_||delete b.helpers[y])}return dt}var Nt={},Dt={exports:{}},Bs;function oc(){return Bs||(Bs=1,(function(e,t){t.__esModule=!0;var n=ge();t.default=function(a){a.registerDecorator("inline",function(l,f,u,h){var m=l;return f.partials||(f.partials={},m=function(c,r){var p=u.partials;u.partials=n.extend({},p,f.partials);var o=l(c,r);return u.partials=p,o}),f.partials[h.args[0]]=h.fn,m})},e.exports=t.default})(Dt,Dt.exports)),Dt.exports}var Ts;function ac(){if(Ts)return Nt;Ts=1,Nt.__esModule=!0,Nt.registerDefaultDecorators=a;function e(l){return l&&l.__esModule?l:{default:l}}var t=oc(),n=e(t);function a(l){n.default(l)}return Nt}var qt={exports:{}},Ms;function Uo(){return Ms||(Ms=1,(function(e,t){t.__esModule=!0;var n=ge(),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(f){if(typeof f=="string"){var u=n.indexOf(a.methodMap,f.toLowerCase());u>=0?f=u:f=parseInt(f,10)}return f},log:function(f){if(f=a.lookupLevel(f),typeof console<"u"&&a.lookupLevel(a.level)<=f){var u=a.methodMap[f];console[u]||(u="log");for(var h=arguments.length,m=Array(h>1?h-1:0),c=1;c<h;c++)m[c-1]=arguments[c];console[u].apply(console,m)}}};t.default=a,e.exports=t.default})(qt,qt.exports)),qt.exports}var et={},Vt={},Ns;function lc(){if(Ns)return Vt;Ns=1,Vt.__esModule=!0,Vt.createNewLookupObject=t;var e=ge();function t(){for(var n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];return e.extend.apply(void 0,[Object.create(null)].concat(a))}return Vt}var Ds;function $o(){if(Ds)return et;Ds=1,et.__esModule=!0,et.createProtoAccessControl=f,et.resultIsAllowed=u,et.resetLoggedProperties=c;function e(r){return r&&r.__esModule?r:{default:r}}var t=lc(),n=Uo(),a=e(n),l=Object.create(null);function f(r){var p=Object.create(null);p.constructor=!1,p.__defineGetter__=!1,p.__defineSetter__=!1,p.__lookupGetter__=!1;var o=Object.create(null);return o.__proto__=!1,{properties:{whitelist:t.createNewLookupObject(o,r.allowedProtoProperties),defaultValue:r.allowProtoPropertiesByDefault},methods:{whitelist:t.createNewLookupObject(p,r.allowedProtoMethods),defaultValue:r.allowProtoMethodsByDefault}}}function u(r,p,o){return h(typeof r=="function"?p.methods:p.properties,o)}function h(r,p){return r.whitelist[p]!==void 0?r.whitelist[p]===!0:r.defaultValue!==void 0?r.defaultValue:(m(p),!1)}function m(r){l[r]!==!0&&(l[r]=!0,a.default.log("error",'Handlebars: Access has been denied to resolve the property "'+r+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function c(){Object.keys(l).forEach(function(r){delete l[r]})}return et}var qs;function $n(){if(qs)return ke;qs=1,ke.__esModule=!0,ke.HandlebarsEnvironment=s;function e(g){return g&&g.__esModule?g:{default:g}}var t=ge(),n=Re(),a=e(n),l=Vo(),f=ac(),u=Uo(),h=e(u),m=$o(),c="4.7.8";ke.VERSION=c;var r=8;ke.COMPILER_REVISION=r;var p=7;ke.LAST_COMPATIBLE_COMPILER_REVISION=p;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};ke.REVISION_CHANGES=o;var i="[object Object]";function s(g,b,y){this.helpers=g||{},this.partials=b||{},this.decorators=y||{},l.registerDefaultHelpers(this),f.registerDefaultDecorators(this)}s.prototype={constructor:s,logger:h.default,log:h.default.log,registerHelper:function(b,y){if(t.toString.call(b)===i){if(y)throw new a.default("Arg not supported with multiple helpers");t.extend(this.helpers,b)}else this.helpers[b]=y},unregisterHelper:function(b){delete this.helpers[b]},registerPartial:function(b,y){if(t.toString.call(b)===i)t.extend(this.partials,b);else{if(typeof y>"u")throw new a.default('Attempting to register a partial called "'+b+'" as undefined');this.partials[b]=y}},unregisterPartial:function(b){delete this.partials[b]},registerDecorator:function(b,y){if(t.toString.call(b)===i){if(y)throw new a.default("Arg not supported with multiple decorators");t.extend(this.decorators,b)}else this.decorators[b]=y},unregisterDecorator:function(b){delete this.decorators[b]},resetLoggedPropertyAccesses:function(){m.resetLoggedProperties()}};var d=h.default.log;return ke.log=d,ke.createFrame=t.createFrame,ke.logger=h.default,ke}var Ut={exports:{}},Vs;function uc(){return Vs||(Vs=1,(function(e,t){t.__esModule=!0;function n(a){this.string=a}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default})(Ut,Ut.exports)),Ut.exports}var Be={},$t={},Us;function cc(){if(Us)return $t;Us=1,$t.__esModule=!0,$t.wrapHelper=e;function e(t,n){if(typeof t!="function")return t;var a=function(){var f=arguments[arguments.length-1];return arguments[arguments.length-1]=n(f),t.apply(this,arguments)};return a}return $t}var $s;function dc(){if($s)return Be;$s=1,Be.__esModule=!0,Be.checkRevision=r,Be.template=p,Be.wrapProgram=o,Be.resolvePartial=i,Be.invokePartial=s,Be.noop=d;function e(v){return v&&v.__esModule?v:{default:v}}function t(v){if(v&&v.__esModule)return v;var w={};if(v!=null)for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(w[x]=v[x]);return w.default=v,w}var n=ge(),a=t(n),l=Re(),f=e(l),u=$n(),h=Vo(),m=cc(),c=$o();function r(v){var w=v&&v[0]||1,x=u.COMPILER_REVISION;if(!(w>=u.LAST_COMPATIBLE_COMPILER_REVISION&&w<=u.COMPILER_REVISION))if(w<u.LAST_COMPATIBLE_COMPILER_REVISION){var C=u.REVISION_CHANGES[x],S=u.REVISION_CHANGES[w];throw new f.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+C+") or downgrade your runtime to an older version ("+S+").")}else throw new f.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+v[1]+").")}function p(v,w){if(!w)throw new f.default("No environment passed to template");if(!v||!v.main)throw new f.default("Unknown template object: "+typeof v);v.main.decorator=v.main_d,w.VM.checkRevision(v.compiler);var x=v.compiler&&v.compiler[0]===7;function C(P,R,L){L.hash&&(R=a.extend({},R,L.hash),L.ids&&(L.ids[0]=!0)),P=w.VM.resolvePartial.call(this,P,R,L);var N=a.extend({},L,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),F=w.VM.invokePartial.call(this,P,R,N);if(F==null&&w.compile&&(L.partials[L.name]=w.compile(P,v.compilerOptions,w),F=L.partials[L.name](R,N)),F!=null){if(L.indent){for(var B=F.split(`
`),J=0,ee=B.length;J<ee&&!(!B[J]&&J+1===ee);J++)B[J]=L.indent+B[J];F=B.join(`
`)}return F}else throw new f.default("The partial "+L.name+" could not be compiled when running in runtime-only mode")}var S={strict:function(R,L,N){if(!R||!(L in R))throw new f.default('"'+L+'" not defined in '+R,{loc:N});return S.lookupProperty(R,L)},lookupProperty:function(R,L){var N=R[L];if(N==null||Object.prototype.hasOwnProperty.call(R,L)||c.resultIsAllowed(N,S.protoAccessControl,L))return N},lookup:function(R,L){for(var N=R.length,F=0;F<N;F++){var B=R[F]&&S.lookupProperty(R[F],L);if(B!=null)return R[F][L]}},lambda:function(R,L){return typeof R=="function"?R.call(L):R},escapeExpression:a.escapeExpression,invokePartial:C,fn:function(R){var L=v[R];return L.decorator=v[R+"_d"],L},programs:[],program:function(R,L,N,F,B){var J=this.programs[R],ee=this.fn(R);return L||B||F||N?J=o(this,R,ee,L,N,F,B):J||(J=this.programs[R]=o(this,R,ee)),J},data:function(R,L){for(;R&&L--;)R=R._parent;return R},mergeIfNeeded:function(R,L){var N=R||L;return R&&L&&R!==L&&(N=a.extend({},L,R)),N},nullContext:Object.seal({}),noop:w.VM.noop,compilerInfo:v.compiler};function E(P){var R=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],L=R.data;E._setup(R),!R.partial&&v.useData&&(L=g(P,L));var N=void 0,F=v.useBlockParams?[]:void 0;v.useDepths&&(R.depths?N=P!=R.depths[0]?[P].concat(R.depths):R.depths:N=[P]);function B(J){return""+v.main(S,J,S.helpers,S.partials,L,F,N)}return B=b(v.main,B,S,R.depths||[],L,F),B(P,R)}return E.isTop=!0,E._setup=function(P){if(P.partial)S.protoAccessControl=P.protoAccessControl,S.helpers=P.helpers,S.partials=P.partials,S.decorators=P.decorators,S.hooks=P.hooks;else{var R=a.extend({},w.helpers,P.helpers);y(R,S),S.helpers=R,v.usePartial&&(S.partials=S.mergeIfNeeded(P.partials,w.partials)),(v.usePartial||v.useDecorators)&&(S.decorators=a.extend({},w.decorators,P.decorators)),S.hooks={},S.protoAccessControl=c.createProtoAccessControl(P);var L=P.allowCallsToHelperMissing||x;h.moveHelperToHooks(S,"helperMissing",L),h.moveHelperToHooks(S,"blockHelperMissing",L)}},E._child=function(P,R,L,N){if(v.useBlockParams&&!L)throw new f.default("must pass block params");if(v.useDepths&&!N)throw new f.default("must pass parent depths");return o(S,P,v[P],R,0,L,N)},E}function o(v,w,x,C,S,E,P){function R(L){var N=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],F=P;return P&&L!=P[0]&&!(L===v.nullContext&&P[0]===null)&&(F=[L].concat(P)),x(v,L,v.helpers,v.partials,N.data||C,E&&[N.blockParams].concat(E),F)}return R=b(x,R,v,P,C,E),R.program=w,R.depth=P?P.length:0,R.blockParams=S||0,R}function i(v,w,x){return v?!v.call&&!x.name&&(x.name=v,v=x.partials[v]):x.name==="@partial-block"?v=x.data["partial-block"]:v=x.partials[x.name],v}function s(v,w,x){var C=x.data&&x.data["partial-block"];x.partial=!0,x.ids&&(x.data.contextPath=x.ids[0]||x.data.contextPath);var S=void 0;if(x.fn&&x.fn!==d&&(function(){x.data=u.createFrame(x.data);var E=x.fn;S=x.data["partial-block"]=function(R){var L=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return L.data=u.createFrame(L.data),L.data["partial-block"]=C,E(R,L)},E.partials&&(x.partials=a.extend({},x.partials,E.partials))})(),v===void 0&&S&&(v=S),v===void 0)throw new f.default("The partial "+x.name+" could not be found");if(v instanceof Function)return v(w,x)}function d(){return""}function g(v,w){return(!w||!("root"in w))&&(w=w?u.createFrame(w):{},w.root=v),w}function b(v,w,x,C,S,E){if(v.decorator){var P={};w=v.decorator(w,P,x,C&&C[0],S,E,C),a.extend(w,P)}return w}function y(v,w){Object.keys(v).forEach(function(x){var C=v[x];v[x]=_(C,w)})}function _(v,w){var x=w.lookupProperty;return m.wrapHelper(v,function(C){return a.extend({lookupProperty:x},C)})}return Be}var Ft={exports:{}},Fs;function Fo(){return Fs||(Fs=1,(function(e,t){t.__esModule=!0,t.default=function(n){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var a=globalThis.Handlebars;n.noConflict=function(){return globalThis.Handlebars===n&&(globalThis.Handlebars=a),n}},e.exports=t.default})(Ft,Ft.exports)),Ft.exports}var zs;function fc(){return zs||(zs=1,(function(e,t){t.__esModule=!0;function n(y){return y&&y.__esModule?y:{default:y}}function a(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(_[v]=y[v]);return _.default=y,_}var l=$n(),f=a(l),u=uc(),h=n(u),m=Re(),c=n(m),r=ge(),p=a(r),o=dc(),i=a(o),s=Fo(),d=n(s);function g(){var y=new f.HandlebarsEnvironment;return p.extend(y,f),y.SafeString=h.default,y.Exception=c.default,y.Utils=p,y.escapeExpression=p.escapeExpression,y.VM=i,y.template=function(_){return i.template(_,y)},y}var b=g();b.create=g,d.default(b),b.default=b,t.default=b,e.exports=t.default})(Pt,Pt.exports)),Pt.exports}var zt={exports:{}},Hs;function zo(){return Hs||(Hs=1,(function(e,t){t.__esModule=!0;var n={helpers:{helperExpression:function(l){return l.type==="SubExpression"||(l.type==="MustacheStatement"||l.type==="BlockStatement")&&!!(l.params&&l.params.length||l.hash)},scopedId:function(l){return/^\.|this\b/.test(l.original)},simpleId:function(l){return l.parts.length===1&&!n.helpers.scopedId(l)&&!l.depth}}};t.default=n,e.exports=t.default})(zt,zt.exports)),zt.exports}var tt={},Ht={exports:{}},Ws;function hc(){return Ws||(Ws=1,(function(e,t){t.__esModule=!0;var n=(function(){var a={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(h,m,c,r,p,o,i){var s=o.length-1;switch(p){case 1:return o[s-1];case 2:this.$=r.prepareProgram(o[s]);break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[s]),strip:r.stripFlags(o[s],o[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 16:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:r.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var d=r.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),g=r.prepareProgram([d],o[s-1].loc);g.chained=!0,this.$={strip:o[s-2].strip,program:g,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:r.stripFlags(o[s-2],o[s])};break;case 22:this.$=r.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],r.stripFlags(o[s-4],o[s]),this._$);break;case 23:this.$=r.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],r.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:r.stripFlags(o[s-4],o[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:r.stripFlags(o[s-4],o[s])};break;case 27:this.$=o[s];break;case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[s-2]),value:o[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[s-1]);break;case 33:this.$=o[s];break;case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:o[s]==="true",original:o[s]==="true",loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=o[s];break;case 41:this.$=o[s];break;case 42:this.$=r.preparePath(!0,o[s],this._$);break;case 43:this.$=r.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:r.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:r.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(h,m){throw new Error(h)},parse:function(h){var m=this,c=[0],r=[null],p=[],o=this.table,i="",s=0,d=0;this.lexer.setInput(h),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var g=this.lexer.yylloc;p.push(g);var b=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function y(){var N;return N=m.lexer.lex()||1,typeof N!="number"&&(N=m.symbols_[N]||N),N}for(var _,v,w,x,C={},S,E,P,R;;){if(v=c[c.length-1],this.defaultActions[v]?w=this.defaultActions[v]:((_===null||typeof _>"u")&&(_=y()),w=o[v]&&o[v][_]),typeof w>"u"||!w.length||!w[0]){var L="";{R=[];for(S in o[v])this.terminals_[S]&&S>2&&R.push("'"+this.terminals_[S]+"'");this.lexer.showPosition?L="Parse error on line "+(s+1)+`:
`+this.lexer.showPosition()+`
Expecting `+R.join(", ")+", got '"+(this.terminals_[_]||_)+"'":L="Parse error on line "+(s+1)+": Unexpected "+(_==1?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[_]||_,line:this.lexer.yylineno,loc:g,expected:R})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+_);switch(w[0]){case 1:c.push(_),r.push(this.lexer.yytext),p.push(this.lexer.yylloc),c.push(w[1]),_=null,d=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,g=this.lexer.yylloc;break;case 2:if(E=this.productions_[w[1]][1],C.$=r[r.length-E],C._$={first_line:p[p.length-(E||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(E||1)].first_column,last_column:p[p.length-1].last_column},b&&(C._$.range=[p[p.length-(E||1)].range[0],p[p.length-1].range[1]]),x=this.performAction.call(C,i,d,s,this.yy,w[1],r,p),typeof x<"u")return x;E&&(c=c.slice(0,-1*E*2),r=r.slice(0,-1*E),p=p.slice(0,-1*E)),c.push(this.productions_[w[1]][0]),r.push(C.$),p.push(C._$),P=o[c[c.length-2]][c[c.length-1]],c.push(P);break;case 3:return!0}}return!0}},l=(function(){var u={EOF:1,parseError:function(m,c){if(this.yy.parser)this.yy.parser.parseError(m,c);else throw new Error(m)},setInput:function(m){return this._input=m,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var c=m.match(/(?:\r\n?|\n).*/g);return c?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),m},unput:function(m){var c=m.length,r=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-c-1),this.offset-=c;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===p.length?this.yylloc.first_column:0)+p[p.length-r.length].length-r[0].length:this.yylloc.first_column-c},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(m){this.unput(this.match.slice(m))},pastInput:function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var m=this.match;return m.length<20&&(m+=this._input.substr(0,20-m.length)),(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var m=this.pastInput(),c=new Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var m,c,r,p,o;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length&&(r=this._input.match(this.rules[i[s]]),!(r&&(!c||r[0].length>c[0].length)&&(c=r,p=s,!this.options.flex)));s++);return c?(o=c[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],m=this.performAction.call(this,this.yy,this,i[p],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var m=this.next();return typeof m<"u"?m:this.lex()},begin:function(m){this.conditionStack.push(m)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(m){this.begin(m)}};return u.options={},u.performAction=function(m,c,r,p){function o(i,s){return c.yytext=c.yytext.substring(i,c.yyleng-s+i)}switch(r){case 0:if(c.yytext.slice(-2)==="\\\\"?(o(0,1),this.begin("mu")):c.yytext.slice(-1)==="\\"?(o(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(o(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},u.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],u.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},u})();a.lexer=l;function f(){this.yy={}}return f.prototype=a,a.Parser=f,new f})();t.default=n,e.exports=t.default})(Ht,Ht.exports)),Ht.exports}var Wt={exports:{}},Gt={exports:{}},Gs;function Ho(){return Gs||(Gs=1,(function(e,t){t.__esModule=!0;function n(c){return c&&c.__esModule?c:{default:c}}var a=Re(),l=n(a);function f(){this.parents=[]}f.prototype={constructor:f,mutating:!1,acceptKey:function(r,p){var o=this.accept(r[p]);if(this.mutating){if(o&&!f.prototype[o.type])throw new l.default('Unexpected node type "'+o.type+'" found when accepting '+p+" on "+r.type);r[p]=o}},acceptRequired:function(r,p){if(this.acceptKey(r,p),!r[p])throw new l.default(r.type+" requires "+p)},acceptArray:function(r){for(var p=0,o=r.length;p<o;p++)this.acceptKey(r,p),r[p]||(r.splice(p,1),p--,o--)},accept:function(r){if(r){if(!this[r.type])throw new l.default("Unknown type: "+r.type,r);this.current&&this.parents.unshift(this.current),this.current=r;var p=this[r.type](r);if(this.current=this.parents.shift(),!this.mutating||p)return p;if(p!==!1)return r}},Program:function(r){this.acceptArray(r.body)},MustacheStatement:u,Decorator:u,BlockStatement:h,DecoratorBlock:h,PartialStatement:m,PartialBlockStatement:function(r){m.call(this,r),this.acceptKey(r,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:u,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(r){this.acceptArray(r.pairs)},HashPair:function(r){this.acceptRequired(r,"value")}};function u(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}function h(c){u.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}function m(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}t.default=f,e.exports=t.default})(Gt,Gt.exports)),Gt.exports}var Js;function pc(){return Js||(Js=1,(function(e,t){t.__esModule=!0;function n(r){return r&&r.__esModule?r:{default:r}}var a=Ho(),l=n(a);function f(){var r=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=r}f.prototype=new l.default,f.prototype.Program=function(r){var p=!this.options.ignoreStandalone,o=!this.isRootSeen;this.isRootSeen=!0;for(var i=r.body,s=0,d=i.length;s<d;s++){var g=i[s],b=this.accept(g);if(b){var y=u(i,s,o),_=h(i,s,o),v=b.openStandalone&&y,w=b.closeStandalone&&_,x=b.inlineStandalone&&y&&_;b.close&&m(i,s,!0),b.open&&c(i,s,!0),p&&x&&(m(i,s),c(i,s)&&g.type==="PartialStatement"&&(g.indent=/([ \t]+$)/.exec(i[s-1].original)[1])),p&&v&&(m((g.program||g.inverse).body),c(i,s)),p&&w&&(m(i,s),c((g.inverse||g.program).body))}}return r},f.prototype.BlockStatement=f.prototype.DecoratorBlock=f.prototype.PartialBlockStatement=function(r){this.accept(r.program),this.accept(r.inverse);var p=r.program||r.inverse,o=r.program&&r.inverse,i=o,s=o;if(o&&o.chained)for(i=o.body[0].program;s.chained;)s=s.body[s.body.length-1].program;var d={open:r.openStrip.open,close:r.closeStrip.close,openStandalone:h(p.body),closeStandalone:u((i||p).body)};if(r.openStrip.close&&m(p.body,null,!0),o){var g=r.inverseStrip;g.open&&c(p.body,null,!0),g.close&&m(i.body,null,!0),r.closeStrip.open&&c(s.body,null,!0),!this.options.ignoreStandalone&&u(p.body)&&h(i.body)&&(c(p.body),m(i.body))}else r.closeStrip.open&&c(p.body,null,!0);return d},f.prototype.Decorator=f.prototype.MustacheStatement=function(r){return r.strip},f.prototype.PartialStatement=f.prototype.CommentStatement=function(r){var p=r.strip||{};return{inlineStandalone:!0,open:p.open,close:p.close}};function u(r,p,o){p===void 0&&(p=r.length);var i=r[p-1],s=r[p-2];if(!i)return o;if(i.type==="ContentStatement")return(s||!o?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}function h(r,p,o){p===void 0&&(p=-1);var i=r[p+1],s=r[p+2];if(!i)return o;if(i.type==="ContentStatement")return(s||!o?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}function m(r,p,o){var i=r[p==null?0:p+1];if(!(!i||i.type!=="ContentStatement"||!o&&i.rightStripped)){var s=i.value;i.value=i.value.replace(o?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==s}}function c(r,p,o){var i=r[p==null?r.length-1:p-1];if(!(!i||i.type!=="ContentStatement"||!o&&i.leftStripped)){var s=i.value;return i.value=i.value.replace(o?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==s,i.leftStripped}}t.default=f,e.exports=t.default})(Wt,Wt.exports)),Wt.exports}var be={},Ks;function mc(){if(Ks)return be;Ks=1,be.__esModule=!0,be.SourceLocation=l,be.id=f,be.stripFlags=u,be.stripComment=h,be.preparePath=m,be.prepareMustache=c,be.prepareRawBlock=r,be.prepareBlock=p,be.prepareProgram=o,be.preparePartialBlock=i;function e(s){return s&&s.__esModule?s:{default:s}}var t=Re(),n=e(t);function a(s,d){if(d=d.path?d.path.original:d,s.path.original!==d){var g={loc:s.path.loc};throw new n.default(s.path.original+" doesn't match "+d,g)}}function l(s,d){this.source=s,this.start={line:d.first_line,column:d.first_column},this.end={line:d.last_line,column:d.last_column}}function f(s){return/^\[.*\]$/.test(s)?s.substring(1,s.length-1):s}function u(s,d){return{open:s.charAt(2)==="~",close:d.charAt(d.length-3)==="~"}}function h(s){return s.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function m(s,d,g){g=this.locInfo(g);for(var b=s?"@":"",y=[],_=0,v=0,w=d.length;v<w;v++){var x=d[v].part,C=d[v].original!==x;if(b+=(d[v].separator||"")+x,!C&&(x===".."||x==="."||x==="this")){if(y.length>0)throw new n.default("Invalid path: "+b,{loc:g});x===".."&&_++}else y.push(x)}return{type:"PathExpression",data:s,depth:_,parts:y,original:b,loc:g}}function c(s,d,g,b,y,_){var v=b.charAt(3)||b.charAt(2),w=v!=="{"&&v!=="&",x=/\*/.test(b);return{type:x?"Decorator":"MustacheStatement",path:s,params:d,hash:g,escaped:w,strip:y,loc:this.locInfo(_)}}function r(s,d,g,b){a(s,g),b=this.locInfo(b);var y={type:"Program",body:d,strip:{},loc:b};return{type:"BlockStatement",path:s.path,params:s.params,hash:s.hash,program:y,openStrip:{},inverseStrip:{},closeStrip:{},loc:b}}function p(s,d,g,b,y,_){b&&b.path&&a(s,b);var v=/\*/.test(s.open);d.blockParams=s.blockParams;var w=void 0,x=void 0;if(g){if(v)throw new n.default("Unexpected inverse block on decorator",g);g.chain&&(g.program.body[0].closeStrip=b.strip),x=g.strip,w=g.program}return y&&(y=w,w=d,d=y),{type:v?"DecoratorBlock":"BlockStatement",path:s.path,params:s.params,hash:s.hash,program:d,inverse:w,openStrip:s.strip,inverseStrip:x,closeStrip:b&&b.strip,loc:this.locInfo(_)}}function o(s,d){if(!d&&s.length){var g=s[0].loc,b=s[s.length-1].loc;g&&b&&(d={source:g.source,start:{line:g.start.line,column:g.start.column},end:{line:b.end.line,column:b.end.column}})}return{type:"Program",body:s,strip:{},loc:d}}function i(s,d,g,b){return a(s,g),{type:"PartialBlockStatement",name:s.path,params:s.params,hash:s.hash,program:d,openStrip:s.strip,closeStrip:g&&g.strip,loc:this.locInfo(b)}}return be}var Ys;function gc(){if(Ys)return tt;Ys=1,tt.__esModule=!0,tt.parseWithoutProcessing=r,tt.parse=p;function e(o){if(o&&o.__esModule)return o;var i={};if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);return i.default=o,i}function t(o){return o&&o.__esModule?o:{default:o}}var n=hc(),a=t(n),l=pc(),f=t(l),u=mc(),h=e(u),m=ge();tt.parser=a.default;var c={};m.extend(c,h);function r(o,i){if(o.type==="Program")return o;a.default.yy=c,c.locInfo=function(d){return new c.SourceLocation(i&&i.srcName,d)};var s=a.default.parse(o);return s}function p(o,i){var s=r(o,i),d=new f.default(i);return d.accept(s)}return tt}var rt={},Xs;function vc(){if(Xs)return rt;Xs=1,rt.__esModule=!0,rt.Compiler=h,rt.precompile=m,rt.compile=c;function e(o){return o&&o.__esModule?o:{default:o}}var t=Re(),n=e(t),a=ge(),l=zo(),f=e(l),u=[].slice;function h(){}h.prototype={compiler:h,equals:function(i){var s=this.opcodes.length;if(i.opcodes.length!==s)return!1;for(var d=0;d<s;d++){var g=this.opcodes[d],b=i.opcodes[d];if(g.opcode!==b.opcode||!r(g.args,b.args))return!1}s=this.children.length;for(var d=0;d<s;d++)if(!this.children[d].equals(i.children[d]))return!1;return!0},guid:0,compile:function(i,s){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=s,this.stringParams=s.stringParams,this.trackIds=s.trackIds,s.blockParams=s.blockParams||[],s.knownHelpers=a.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},s.knownHelpers),this.accept(i)},compileProgram:function(i){var s=new this.compiler,d=s.compile(i,this.options),g=this.guid++;return this.usePartial=this.usePartial||d.usePartial,this.children[g]=d,this.useDepths=this.useDepths||d.useDepths,g},accept:function(i){if(!this[i.type])throw new n.default("Unknown type: "+i.type,i);this.sourceNode.unshift(i);var s=this[i.type](i);return this.sourceNode.shift(),s},Program:function(i){this.options.blockParams.unshift(i.blockParams);for(var s=i.body,d=s.length,g=0;g<d;g++)this.accept(s[g]);return this.options.blockParams.shift(),this.isSimple=d===1,this.blockParams=i.blockParams?i.blockParams.length:0,this},BlockStatement:function(i){p(i);var s=i.program,d=i.inverse;s=s&&this.compileProgram(s),d=d&&this.compileProgram(d);var g=this.classifySexpr(i);g==="helper"?this.helperSexpr(i,s,d):g==="simple"?(this.simpleSexpr(i),this.opcode("pushProgram",s),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue",i.path.original)):(this.ambiguousSexpr(i,s,d),this.opcode("pushProgram",s),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(i){var s=i.program&&this.compileProgram(i.program),d=this.setupFullMustacheParams(i,s,void 0),g=i.path;this.useDecorators=!0,this.opcode("registerDecorator",d.length,g.original)},PartialStatement:function(i){this.usePartial=!0;var s=i.program;s&&(s=this.compileProgram(i.program));var d=i.params;if(d.length>1)throw new n.default("Unsupported number of partial arguments: "+d.length,i);d.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):d.push({type:"PathExpression",parts:[],depth:0}));var g=i.name.original,b=i.name.type==="SubExpression";b&&this.accept(i.name),this.setupFullMustacheParams(i,s,void 0,!0);var y=i.indent||"";this.options.preventIndent&&y&&(this.opcode("appendContent",y),y=""),this.opcode("invokePartial",b,g,y),this.opcode("append")},PartialBlockStatement:function(i){this.PartialStatement(i)},MustacheStatement:function(i){this.SubExpression(i),i.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(i){this.DecoratorBlock(i)},ContentStatement:function(i){i.value&&this.opcode("appendContent",i.value)},CommentStatement:function(){},SubExpression:function(i){p(i);var s=this.classifySexpr(i);s==="simple"?this.simpleSexpr(i):s==="helper"?this.helperSexpr(i):this.ambiguousSexpr(i)},ambiguousSexpr:function(i,s,d){var g=i.path,b=g.parts[0],y=s!=null||d!=null;this.opcode("getContext",g.depth),this.opcode("pushProgram",s),this.opcode("pushProgram",d),g.strict=!0,this.accept(g),this.opcode("invokeAmbiguous",b,y)},simpleSexpr:function(i){var s=i.path;s.strict=!0,this.accept(s),this.opcode("resolvePossibleLambda")},helperSexpr:function(i,s,d){var g=this.setupFullMustacheParams(i,s,d),b=i.path,y=b.parts[0];if(this.options.knownHelpers[y])this.opcode("invokeKnownHelper",g.length,y);else{if(this.options.knownHelpersOnly)throw new n.default("You specified knownHelpersOnly, but used the unknown helper "+y,i);b.strict=!0,b.falsy=!0,this.accept(b),this.opcode("invokeHelper",g.length,b.original,f.default.helpers.simpleId(b))}},PathExpression:function(i){this.addDepth(i.depth),this.opcode("getContext",i.depth);var s=i.parts[0],d=f.default.helpers.scopedId(i),g=!i.depth&&!d&&this.blockParamIndex(s);g?this.opcode("lookupBlockParam",g,i.parts):s?i.data?(this.options.data=!0,this.opcode("lookupData",i.depth,i.parts,i.strict)):this.opcode("lookupOnContext",i.parts,i.falsy,i.strict,d):this.opcode("pushContext")},StringLiteral:function(i){this.opcode("pushString",i.value)},NumberLiteral:function(i){this.opcode("pushLiteral",i.value)},BooleanLiteral:function(i){this.opcode("pushLiteral",i.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(i){var s=i.pairs,d=0,g=s.length;for(this.opcode("pushHash");d<g;d++)this.pushParam(s[d].value);for(;d--;)this.opcode("assignToHash",s[d].key);this.opcode("popHash")},opcode:function(i){this.opcodes.push({opcode:i,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(i){i&&(this.useDepths=!0)},classifySexpr:function(i){var s=f.default.helpers.simpleId(i.path),d=s&&!!this.blockParamIndex(i.path.parts[0]),g=!d&&f.default.helpers.helperExpression(i),b=!d&&(g||s);if(b&&!g){var y=i.path.parts[0],_=this.options;_.knownHelpers[y]?g=!0:_.knownHelpersOnly&&(b=!1)}return g?"helper":b?"ambiguous":"simple"},pushParams:function(i){for(var s=0,d=i.length;s<d;s++)this.pushParam(i[s])},pushParam:function(i){var s=i.value!=null?i.value:i.original||"";if(this.stringParams)s.replace&&(s=s.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",s,i.type),i.type==="SubExpression"&&this.accept(i);else{if(this.trackIds){var d=void 0;if(i.parts&&!f.default.helpers.scopedId(i)&&!i.depth&&(d=this.blockParamIndex(i.parts[0])),d){var g=i.parts.slice(1).join(".");this.opcode("pushId","BlockParam",d,g)}else s=i.original||s,s.replace&&(s=s.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",i.type,s)}this.accept(i)}},setupFullMustacheParams:function(i,s,d,g){var b=i.params;return this.pushParams(b),this.opcode("pushProgram",s),this.opcode("pushProgram",d),i.hash?this.accept(i.hash):this.opcode("emptyHash",g),b},blockParamIndex:function(i){for(var s=0,d=this.options.blockParams.length;s<d;s++){var g=this.options.blockParams[s],b=g&&a.indexOf(g,i);if(g&&b>=0)return[s,b]}}};function m(o,i,s){if(o==null||typeof o!="string"&&o.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+o);i=i||{},"data"in i||(i.data=!0),i.compat&&(i.useDepths=!0);var d=s.parse(o,i),g=new s.Compiler().compile(d,i);return new s.JavaScriptCompiler().compile(g,i)}function c(o,i,s){if(i===void 0&&(i={}),o==null||typeof o!="string"&&o.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+o);i=a.extend({},i),"data"in i||(i.data=!0),i.compat&&(i.useDepths=!0);var d=void 0;function g(){var y=s.parse(o,i),_=new s.Compiler().compile(y,i),v=new s.JavaScriptCompiler().compile(_,i,void 0,!0);return s.template(v)}function b(y,_){return d||(d=g()),d.call(this,y,_)}return b._setup=function(y){return d||(d=g()),d._setup(y)},b._child=function(y,_,v,w){return d||(d=g()),d._child(y,_,v,w)},b}function r(o,i){if(o===i)return!0;if(a.isArray(o)&&a.isArray(i)&&o.length===i.length){for(var s=0;s<o.length;s++)if(!r(o[s],i[s]))return!1;return!0}}function p(o){if(!o.path.parts){var i=o.path;o.path={type:"PathExpression",data:!1,depth:0,parts:[i.original+""],original:i.original+"",loc:i.loc}}}return rt}var Jt={exports:{}},Kt={exports:{}},ft={},Ar={},Yt={},Xt={},Qs;function bc(){if(Qs)return Xt;Qs=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Xt.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},Xt.decode=function(t){var n=65,a=90,l=97,f=122,u=48,h=57,m=43,c=47,r=26,p=52;return n<=t&&t<=a?t-n:l<=t&&t<=f?t-l+r:u<=t&&t<=h?t-u+p:t==m?62:t==c?63:-1},Xt}var Zs;function Wo(){if(Zs)return Yt;Zs=1;var e=bc(),t=5,n=1<<t,a=n-1,l=n;function f(h){return h<0?(-h<<1)+1:(h<<1)+0}function u(h){var m=(h&1)===1,c=h>>1;return m?-c:c}return Yt.encode=function(m){var c="",r,p=f(m);do r=p&a,p>>>=t,p>0&&(r|=l),c+=e.encode(r);while(p>0);return c},Yt.decode=function(m,c,r){var p=m.length,o=0,i=0,s,d;do{if(c>=p)throw new Error("Expected more digits in base 64 VLQ value.");if(d=e.decode(m.charCodeAt(c++)),d===-1)throw new Error("Invalid base64 digit: "+m.charAt(c-1));s=!!(d&l),d&=a,o=o+(d<<i),i+=t}while(s);r.value=u(o),r.rest=c},Yt}var Or={},ei;function xt(){return ei||(ei=1,(function(e){function t(v,w,x){if(w in v)return v[w];if(arguments.length===3)return x;throw new Error('"'+w+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function l(v){var w=v.match(n);return w?{scheme:w[1],auth:w[2],host:w[3],port:w[4],path:w[5]}:null}e.urlParse=l;function f(v){var w="";return v.scheme&&(w+=v.scheme+":"),w+="//",v.auth&&(w+=v.auth+"@"),v.host&&(w+=v.host),v.port&&(w+=":"+v.port),v.path&&(w+=v.path),w}e.urlGenerate=f;function u(v){var w=v,x=l(v);if(x){if(!x.path)return v;w=x.path}for(var C=e.isAbsolute(w),S=w.split(/\/+/),E,P=0,R=S.length-1;R>=0;R--)E=S[R],E==="."?S.splice(R,1):E===".."?P++:P>0&&(E===""?(S.splice(R+1,P),P=0):(S.splice(R,2),P--));return w=S.join("/"),w===""&&(w=C?"/":"."),x?(x.path=w,f(x)):w}e.normalize=u;function h(v,w){v===""&&(v="."),w===""&&(w=".");var x=l(w),C=l(v);if(C&&(v=C.path||"/"),x&&!x.scheme)return C&&(x.scheme=C.scheme),f(x);if(x||w.match(a))return w;if(C&&!C.host&&!C.path)return C.host=w,f(C);var S=w.charAt(0)==="/"?w:u(v.replace(/\/+$/,"")+"/"+w);return C?(C.path=S,f(C)):S}e.join=h,e.isAbsolute=function(v){return v.charAt(0)==="/"||n.test(v)};function m(v,w){v===""&&(v="."),v=v.replace(/\/$/,"");for(var x=0;w.indexOf(v+"/")!==0;){var C=v.lastIndexOf("/");if(C<0||(v=v.slice(0,C),v.match(/^([^\/]+:\/)?\/*$/)))return w;++x}return Array(x+1).join("../")+w.substr(v.length+1)}e.relative=m;var c=(function(){var v=Object.create(null);return!("__proto__"in v)})();function r(v){return v}function p(v){return i(v)?"$"+v:v}e.toSetString=c?r:p;function o(v){return i(v)?v.slice(1):v}e.fromSetString=c?r:o;function i(v){if(!v)return!1;var w=v.length;if(w<9||v.charCodeAt(w-1)!==95||v.charCodeAt(w-2)!==95||v.charCodeAt(w-3)!==111||v.charCodeAt(w-4)!==116||v.charCodeAt(w-5)!==111||v.charCodeAt(w-6)!==114||v.charCodeAt(w-7)!==112||v.charCodeAt(w-8)!==95||v.charCodeAt(w-9)!==95)return!1;for(var x=w-10;x>=0;x--)if(v.charCodeAt(x)!==36)return!1;return!0}function s(v,w,x){var C=g(v.source,w.source);return C!==0||(C=v.originalLine-w.originalLine,C!==0)||(C=v.originalColumn-w.originalColumn,C!==0||x)||(C=v.generatedColumn-w.generatedColumn,C!==0)||(C=v.generatedLine-w.generatedLine,C!==0)?C:g(v.name,w.name)}e.compareByOriginalPositions=s;function d(v,w,x){var C=v.generatedLine-w.generatedLine;return C!==0||(C=v.generatedColumn-w.generatedColumn,C!==0||x)||(C=g(v.source,w.source),C!==0)||(C=v.originalLine-w.originalLine,C!==0)||(C=v.originalColumn-w.originalColumn,C!==0)?C:g(v.name,w.name)}e.compareByGeneratedPositionsDeflated=d;function g(v,w){return v===w?0:v===null?1:w===null?-1:v>w?1:-1}function b(v,w){var x=v.generatedLine-w.generatedLine;return x!==0||(x=v.generatedColumn-w.generatedColumn,x!==0)||(x=g(v.source,w.source),x!==0)||(x=v.originalLine-w.originalLine,x!==0)||(x=v.originalColumn-w.originalColumn,x!==0)?x:g(v.name,w.name)}e.compareByGeneratedPositionsInflated=b;function y(v){return JSON.parse(v.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=y;function _(v,w,x){if(w=w||"",v&&(v[v.length-1]!=="/"&&w[0]!=="/"&&(v+="/"),w=v+w),x){var C=l(x);if(!C)throw new Error("sourceMapURL could not be parsed");if(C.path){var S=C.path.lastIndexOf("/");S>=0&&(C.path=C.path.substring(0,S+1))}w=h(f(C),w)}return u(w)}e.computeSourceURL=_})(Or)),Or}var Pr={},ti;function Go(){if(ti)return Pr;ti=1;var e=xt(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function a(){this._array=[],this._set=n?new Map:Object.create(null)}return a.fromArray=function(f,u){for(var h=new a,m=0,c=f.length;m<c;m++)h.add(f[m],u);return h},a.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(f,u){var h=n?f:e.toSetString(f),m=n?this.has(f):t.call(this._set,h),c=this._array.length;(!m||u)&&this._array.push(f),m||(n?this._set.set(f,c):this._set[h]=c)},a.prototype.has=function(f){if(n)return this._set.has(f);var u=e.toSetString(f);return t.call(this._set,u)},a.prototype.indexOf=function(f){if(n){var u=this._set.get(f);if(u>=0)return u}else{var h=e.toSetString(f);if(t.call(this._set,h))return this._set[h]}throw new Error('"'+f+'" is not in the set.')},a.prototype.at=function(f){if(f>=0&&f<this._array.length)return this._array[f];throw new Error("No element indexed by "+f)},a.prototype.toArray=function(){return this._array.slice()},Pr.ArraySet=a,Pr}var Er={},ri;function yc(){if(ri)return Er;ri=1;var e=xt();function t(a,l){var f=a.generatedLine,u=l.generatedLine,h=a.generatedColumn,m=l.generatedColumn;return u>f||u==f&&m>=h||e.compareByGeneratedPositionsInflated(a,l)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(l,f){this._array.forEach(l,f)},n.prototype.add=function(l){t(this._last,l)?(this._last=l,this._array.push(l)):(this._sorted=!1,this._array.push(l))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Er.MappingList=n,Er}var ni;function Jo(){if(ni)return Ar;ni=1;var e=Wo(),t=xt(),n=Go().ArraySet,a=yc().MappingList;function l(f){f||(f={}),this._file=t.getArg(f,"file",null),this._sourceRoot=t.getArg(f,"sourceRoot",null),this._skipValidation=t.getArg(f,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new a,this._sourcesContents=null}return l.prototype._version=3,l.fromSourceMap=function(u){var h=u.sourceRoot,m=new l({file:u.file,sourceRoot:h});return u.eachMapping(function(c){var r={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(r.source=c.source,h!=null&&(r.source=t.relative(h,r.source)),r.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(r.name=c.name)),m.addMapping(r)}),u.sources.forEach(function(c){var r=c;h!==null&&(r=t.relative(h,c)),m._sources.has(r)||m._sources.add(r);var p=u.sourceContentFor(c);p!=null&&m.setSourceContent(c,p)}),m},l.prototype.addMapping=function(u){var h=t.getArg(u,"generated"),m=t.getArg(u,"original",null),c=t.getArg(u,"source",null),r=t.getArg(u,"name",null);this._skipValidation||this._validateMapping(h,m,c,r),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),r!=null&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:h.line,generatedColumn:h.column,originalLine:m!=null&&m.line,originalColumn:m!=null&&m.column,source:c,name:r})},l.prototype.setSourceContent=function(u,h){var m=u;this._sourceRoot!=null&&(m=t.relative(this._sourceRoot,m)),h!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(m)]=h):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(m)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},l.prototype.applySourceMap=function(u,h,m){var c=h;if(h==null){if(u.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=u.file}var r=this._sourceRoot;r!=null&&(c=t.relative(r,c));var p=new n,o=new n;this._mappings.unsortedForEach(function(i){if(i.source===c&&i.originalLine!=null){var s=u.originalPositionFor({line:i.originalLine,column:i.originalColumn});s.source!=null&&(i.source=s.source,m!=null&&(i.source=t.join(m,i.source)),r!=null&&(i.source=t.relative(r,i.source)),i.originalLine=s.line,i.originalColumn=s.column,s.name!=null&&(i.name=s.name))}var d=i.source;d!=null&&!p.has(d)&&p.add(d);var g=i.name;g!=null&&!o.has(g)&&o.add(g)},this),this._sources=p,this._names=o,u.sources.forEach(function(i){var s=u.sourceContentFor(i);s!=null&&(m!=null&&(i=t.join(m,i)),r!=null&&(i=t.relative(r,i)),this.setSourceContent(i,s))},this)},l.prototype._validateMapping=function(u,h,m,c){if(h&&typeof h.line!="number"&&typeof h.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0&&!h&&!m&&!c)){if(u&&"line"in u&&"column"in u&&h&&"line"in h&&"column"in h&&u.line>0&&u.column>=0&&h.line>0&&h.column>=0&&m)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:m,original:h,name:c}))}},l.prototype._serializeMappings=function(){for(var u=0,h=1,m=0,c=0,r=0,p=0,o="",i,s,d,g,b=this._mappings.toArray(),y=0,_=b.length;y<_;y++){if(s=b[y],i="",s.generatedLine!==h)for(u=0;s.generatedLine!==h;)i+=";",h++;else if(y>0){if(!t.compareByGeneratedPositionsInflated(s,b[y-1]))continue;i+=","}i+=e.encode(s.generatedColumn-u),u=s.generatedColumn,s.source!=null&&(g=this._sources.indexOf(s.source),i+=e.encode(g-p),p=g,i+=e.encode(s.originalLine-1-c),c=s.originalLine-1,i+=e.encode(s.originalColumn-m),m=s.originalColumn,s.name!=null&&(d=this._names.indexOf(s.name),i+=e.encode(d-r),r=d)),o+=i}return o},l.prototype._generateSourcesContent=function(u,h){return u.map(function(m){if(!this._sourcesContents)return null;h!=null&&(m=t.relative(h,m));var c=t.toSetString(m);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},l.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(u.file=this._file),this._sourceRoot!=null&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},l.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ar.SourceMapGenerator=l,Ar}var ht={},Rr={},si;function wc(){return si||(si=1,(function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,a,l,f,u,h){var m=Math.floor((a-n)/2)+n,c=u(l,f[m],!0);return c===0?m:c>0?a-m>1?t(m,a,l,f,u,h):h==e.LEAST_UPPER_BOUND?a<f.length?a:-1:m:m-n>1?t(n,m,l,f,u,h):h==e.LEAST_UPPER_BOUND?m:n<0?-1:n}e.search=function(a,l,f,u){if(l.length===0)return-1;var h=t(-1,l.length,a,l,f,u||e.GREATEST_LOWER_BOUND);if(h<0)return-1;for(;h-1>=0&&f(l[h],l[h-1],!0)===0;)--h;return h}})(Rr)),Rr}var Ir={},ii;function _c(){if(ii)return Ir;ii=1;function e(a,l,f){var u=a[l];a[l]=a[f],a[f]=u}function t(a,l){return Math.round(a+Math.random()*(l-a))}function n(a,l,f,u){if(f<u){var h=t(f,u),m=f-1;e(a,h,u);for(var c=a[u],r=f;r<u;r++)l(a[r],c)<=0&&(m+=1,e(a,m,r));e(a,m+1,r);var p=m+1;n(a,l,f,p-1),n(a,l,p+1,u)}}return Ir.quickSort=function(a,l){n(a,l,0,a.length-1)},Ir}var oi;function xc(){if(oi)return ht;oi=1;var e=xt(),t=wc(),n=Go().ArraySet,a=Wo(),l=_c().quickSort;function f(c,r){var p=c;return typeof c=="string"&&(p=e.parseSourceMapInput(c)),p.sections!=null?new m(p,r):new u(p,r)}f.fromSourceMap=function(c,r){return u.fromSourceMap(c,r)},f.prototype._version=3,f.prototype.__generatedMappings=null,Object.defineProperty(f.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),f.prototype.__originalMappings=null,Object.defineProperty(f.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),f.prototype._charIsMappingSeparator=function(r,p){var o=r.charAt(p);return o===";"||o===","},f.prototype._parseMappings=function(r,p){throw new Error("Subclasses must implement _parseMappings")},f.GENERATED_ORDER=1,f.ORIGINAL_ORDER=2,f.GREATEST_LOWER_BOUND=1,f.LEAST_UPPER_BOUND=2,f.prototype.eachMapping=function(r,p,o){var i=p||null,s=o||f.GENERATED_ORDER,d;switch(s){case f.GENERATED_ORDER:d=this._generatedMappings;break;case f.ORIGINAL_ORDER:d=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var g=this.sourceRoot;d.map(function(b){var y=b.source===null?null:this._sources.at(b.source);return y=e.computeSourceURL(g,y,this._sourceMapURL),{source:y,generatedLine:b.generatedLine,generatedColumn:b.generatedColumn,originalLine:b.originalLine,originalColumn:b.originalColumn,name:b.name===null?null:this._names.at(b.name)}},this).forEach(r,i)},f.prototype.allGeneratedPositionsFor=function(r){var p=e.getArg(r,"line"),o={source:e.getArg(r,"source"),originalLine:p,originalColumn:e.getArg(r,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var i=[],s=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(s>=0){var d=this._originalMappings[s];if(r.column===void 0)for(var g=d.originalLine;d&&d.originalLine===g;)i.push({line:e.getArg(d,"generatedLine",null),column:e.getArg(d,"generatedColumn",null),lastColumn:e.getArg(d,"lastGeneratedColumn",null)}),d=this._originalMappings[++s];else for(var b=d.originalColumn;d&&d.originalLine===p&&d.originalColumn==b;)i.push({line:e.getArg(d,"generatedLine",null),column:e.getArg(d,"generatedColumn",null),lastColumn:e.getArg(d,"lastGeneratedColumn",null)}),d=this._originalMappings[++s]}return i},ht.SourceMapConsumer=f;function u(c,r){var p=c;typeof c=="string"&&(p=e.parseSourceMapInput(c));var o=e.getArg(p,"version"),i=e.getArg(p,"sources"),s=e.getArg(p,"names",[]),d=e.getArg(p,"sourceRoot",null),g=e.getArg(p,"sourcesContent",null),b=e.getArg(p,"mappings"),y=e.getArg(p,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);d&&(d=e.normalize(d)),i=i.map(String).map(e.normalize).map(function(_){return d&&e.isAbsolute(d)&&e.isAbsolute(_)?e.relative(d,_):_}),this._names=n.fromArray(s.map(String),!0),this._sources=n.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(_){return e.computeSourceURL(d,_,r)}),this.sourceRoot=d,this.sourcesContent=g,this._mappings=b,this._sourceMapURL=r,this.file=y}u.prototype=Object.create(f.prototype),u.prototype.consumer=f,u.prototype._findSourceIndex=function(c){var r=c;if(this.sourceRoot!=null&&(r=e.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==c)return p;return-1},u.fromSourceMap=function(r,p){var o=Object.create(u.prototype),i=o._names=n.fromArray(r._names.toArray(),!0),s=o._sources=n.fromArray(r._sources.toArray(),!0);o.sourceRoot=r._sourceRoot,o.sourcesContent=r._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=r._file,o._sourceMapURL=p,o._absoluteSources=o._sources.toArray().map(function(x){return e.computeSourceURL(o.sourceRoot,x,p)});for(var d=r._mappings.toArray().slice(),g=o.__generatedMappings=[],b=o.__originalMappings=[],y=0,_=d.length;y<_;y++){var v=d[y],w=new h;w.generatedLine=v.generatedLine,w.generatedColumn=v.generatedColumn,v.source&&(w.source=s.indexOf(v.source),w.originalLine=v.originalLine,w.originalColumn=v.originalColumn,v.name&&(w.name=i.indexOf(v.name)),b.push(w)),g.push(w)}return l(o.__originalMappings,e.compareByOriginalPositions),o},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function h(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(r,p){for(var o=1,i=0,s=0,d=0,g=0,b=0,y=r.length,_=0,v={},w={},x=[],C=[],S,E,P,R,L;_<y;)if(r.charAt(_)===";")o++,_++,i=0;else if(r.charAt(_)===",")_++;else{for(S=new h,S.generatedLine=o,R=_;R<y&&!this._charIsMappingSeparator(r,R);R++);if(E=r.slice(_,R),P=v[E],P)_+=E.length;else{for(P=[];_<R;)a.decode(r,_,w),L=w.value,_=w.rest,P.push(L);if(P.length===2)throw new Error("Found a source, but no line and column");if(P.length===3)throw new Error("Found a source and line, but no column");v[E]=P}S.generatedColumn=i+P[0],i=S.generatedColumn,P.length>1&&(S.source=g+P[1],g+=P[1],S.originalLine=s+P[2],s=S.originalLine,S.originalLine+=1,S.originalColumn=d+P[3],d=S.originalColumn,P.length>4&&(S.name=b+P[4],b+=P[4])),C.push(S),typeof S.originalLine=="number"&&x.push(S)}l(C,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,l(x,e.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(r,p,o,i,s,d){if(r[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+r[o]);if(r[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+r[i]);return t.search(r,p,s,d)},u.prototype.computeColumnSpans=function(){for(var r=0;r<this._generatedMappings.length;++r){var p=this._generatedMappings[r];if(r+1<this._generatedMappings.length){var o=this._generatedMappings[r+1];if(p.generatedLine===o.generatedLine){p.lastGeneratedColumn=o.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(r){var p={generatedLine:e.getArg(r,"line"),generatedColumn:e.getArg(r,"column")},o=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(r,"bias",f.GREATEST_LOWER_BOUND));if(o>=0){var i=this._generatedMappings[o];if(i.generatedLine===p.generatedLine){var s=e.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=e.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var d=e.getArg(i,"name",null);return d!==null&&(d=this._names.at(d)),{source:s,line:e.getArg(i,"originalLine",null),column:e.getArg(i,"originalColumn",null),name:d}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(r){return r==null}):!1},u.prototype.sourceContentFor=function(r,p){if(!this.sourcesContent)return null;var o=this._findSourceIndex(r);if(o>=0)return this.sourcesContent[o];var i=r;this.sourceRoot!=null&&(i=e.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=e.urlParse(this.sourceRoot))){var d=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(d))return this.sourcesContent[this._sources.indexOf(d)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(p)return null;throw new Error('"'+i+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(r){var p=e.getArg(r,"source");if(p=this._findSourceIndex(p),p<0)return{line:null,column:null,lastColumn:null};var o={source:p,originalLine:e.getArg(r,"line"),originalColumn:e.getArg(r,"column")},i=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(r,"bias",f.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===o.source)return{line:e.getArg(s,"generatedLine",null),column:e.getArg(s,"generatedColumn",null),lastColumn:e.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ht.BasicSourceMapConsumer=u;function m(c,r){var p=c;typeof c=="string"&&(p=e.parseSourceMapInput(c));var o=e.getArg(p,"version"),i=e.getArg(p,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new n,this._names=new n;var s={line:-1,column:0};this._sections=i.map(function(d){if(d.url)throw new Error("Support for url field in sections not implemented.");var g=e.getArg(d,"offset"),b=e.getArg(g,"line"),y=e.getArg(g,"column");if(b<s.line||b===s.line&&y<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=g,{generatedOffset:{generatedLine:b+1,generatedColumn:y+1},consumer:new f(e.getArg(d,"map"),r)}})}return m.prototype=Object.create(f.prototype),m.prototype.constructor=f,m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){for(var c=[],r=0;r<this._sections.length;r++)for(var p=0;p<this._sections[r].consumer.sources.length;p++)c.push(this._sections[r].consumer.sources[p]);return c}}),m.prototype.originalPositionFor=function(r){var p={generatedLine:e.getArg(r,"line"),generatedColumn:e.getArg(r,"column")},o=t.search(p,this._sections,function(s,d){var g=s.generatedLine-d.generatedOffset.generatedLine;return g||s.generatedColumn-d.generatedOffset.generatedColumn}),i=this._sections[o];return i?i.consumer.originalPositionFor({line:p.generatedLine-(i.generatedOffset.generatedLine-1),column:p.generatedColumn-(i.generatedOffset.generatedLine===p.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(r){return r.consumer.hasContentsOfAllSources()})},m.prototype.sourceContentFor=function(r,p){for(var o=0;o<this._sections.length;o++){var i=this._sections[o],s=i.consumer.sourceContentFor(r,!0);if(s)return s}if(p)return null;throw new Error('"'+r+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(r){for(var p=0;p<this._sections.length;p++){var o=this._sections[p];if(o.consumer._findSourceIndex(e.getArg(r,"source"))!==-1){var i=o.consumer.generatedPositionFor(r);if(i){var s={line:i.line+(o.generatedOffset.generatedLine-1),column:i.column+(o.generatedOffset.generatedLine===i.line?o.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},m.prototype._parseMappings=function(r,p){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var i=this._sections[o],s=i.consumer._generatedMappings,d=0;d<s.length;d++){var g=s[d],b=i.consumer._sources.at(g.source);b=e.computeSourceURL(i.consumer.sourceRoot,b,this._sourceMapURL),this._sources.add(b),b=this._sources.indexOf(b);var y=null;g.name&&(y=i.consumer._names.at(g.name),this._names.add(y),y=this._names.indexOf(y));var _={source:b,generatedLine:g.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:g.generatedColumn+(i.generatedOffset.generatedLine===g.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:g.originalLine,originalColumn:g.originalColumn,name:y};this.__generatedMappings.push(_),typeof _.originalLine=="number"&&this.__originalMappings.push(_)}l(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),l(this.__originalMappings,e.compareByOriginalPositions)},ht.IndexedSourceMapConsumer=m,ht}var Lr={},ai;function Sc(){if(ai)return Lr;ai=1;var e=Jo().SourceMapGenerator,t=xt(),n=/(\r?\n)/,a=10,l="$$$isSourceNode$$$";function f(u,h,m,c,r){this.children=[],this.sourceContents={},this.line=u??null,this.column=h??null,this.source=m??null,this.name=r??null,this[l]=!0,c!=null&&this.add(c)}return f.fromStringWithSourceMap=function(h,m,c){var r=new f,p=h.split(n),o=0,i=function(){var y=v(),_=v()||"";return y+_;function v(){return o<p.length?p[o++]:void 0}},s=1,d=0,g=null;return m.eachMapping(function(y){if(g!==null)if(s<y.generatedLine)b(g,i()),s++,d=0;else{var _=p[o]||"",v=_.substr(0,y.generatedColumn-d);p[o]=_.substr(y.generatedColumn-d),d=y.generatedColumn,b(g,v),g=y;return}for(;s<y.generatedLine;)r.add(i()),s++;if(d<y.generatedColumn){var _=p[o]||"";r.add(_.substr(0,y.generatedColumn)),p[o]=_.substr(y.generatedColumn),d=y.generatedColumn}g=y},this),o<p.length&&(g&&b(g,i()),r.add(p.splice(o).join(""))),m.sources.forEach(function(y){var _=m.sourceContentFor(y);_!=null&&(c!=null&&(y=t.join(c,y)),r.setSourceContent(y,_))}),r;function b(y,_){if(y===null||y.source===void 0)r.add(_);else{var v=c?t.join(c,y.source):y.source;r.add(new f(y.originalLine,y.originalColumn,v,_,y.name))}}},f.prototype.add=function(h){if(Array.isArray(h))h.forEach(function(m){this.add(m)},this);else if(h[l]||typeof h=="string")h&&this.children.push(h);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},f.prototype.prepend=function(h){if(Array.isArray(h))for(var m=h.length-1;m>=0;m--)this.prepend(h[m]);else if(h[l]||typeof h=="string")this.children.unshift(h);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},f.prototype.walk=function(h){for(var m,c=0,r=this.children.length;c<r;c++)m=this.children[c],m[l]?m.walk(h):m!==""&&h(m,{source:this.source,line:this.line,column:this.column,name:this.name})},f.prototype.join=function(h){var m,c,r=this.children.length;if(r>0){for(m=[],c=0;c<r-1;c++)m.push(this.children[c]),m.push(h);m.push(this.children[c]),this.children=m}return this},f.prototype.replaceRight=function(h,m){var c=this.children[this.children.length-1];return c[l]?c.replaceRight(h,m):typeof c=="string"?this.children[this.children.length-1]=c.replace(h,m):this.children.push("".replace(h,m)),this},f.prototype.setSourceContent=function(h,m){this.sourceContents[t.toSetString(h)]=m},f.prototype.walkSourceContents=function(h){for(var m=0,c=this.children.length;m<c;m++)this.children[m][l]&&this.children[m].walkSourceContents(h);for(var r=Object.keys(this.sourceContents),m=0,c=r.length;m<c;m++)h(t.fromSetString(r[m]),this.sourceContents[r[m]])},f.prototype.toString=function(){var h="";return this.walk(function(m){h+=m}),h},f.prototype.toStringWithSourceMap=function(h){var m={code:"",line:1,column:0},c=new e(h),r=!1,p=null,o=null,i=null,s=null;return this.walk(function(d,g){m.code+=d,g.source!==null&&g.line!==null&&g.column!==null?((p!==g.source||o!==g.line||i!==g.column||s!==g.name)&&c.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:m.line,column:m.column},name:g.name}),p=g.source,o=g.line,i=g.column,s=g.name,r=!0):r&&(c.addMapping({generated:{line:m.line,column:m.column}}),p=null,r=!1);for(var b=0,y=d.length;b<y;b++)d.charCodeAt(b)===a?(m.line++,m.column=0,b+1===y?(p=null,r=!1):r&&c.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:m.line,column:m.column},name:g.name})):m.column++}),this.walkSourceContents(function(d,g){c.setSourceContent(d,g)}),{code:m.code,map:c}},Lr.SourceNode=f,Lr}var li;function kc(){return li||(li=1,ft.SourceMapGenerator=Jo().SourceMapGenerator,ft.SourceMapConsumer=xc().SourceMapConsumer,ft.SourceNode=Sc().SourceNode),ft}var ui;function Cc(){return ui||(ui=1,(function(e,t){t.__esModule=!0;var n=ge(),a=void 0;try{var l=kc();a=l.SourceNode}catch{}a||(a=function(h,m,c,r){this.src="",r&&this.add(r)},a.prototype={add:function(m){n.isArray(m)&&(m=m.join("")),this.src+=m},prepend:function(m){n.isArray(m)&&(m=m.join("")),this.src=m+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function f(h,m,c){if(n.isArray(h)){for(var r=[],p=0,o=h.length;p<o;p++)r.push(m.wrap(h[p],c));return r}else if(typeof h=="boolean"||typeof h=="number")return h+"";return h}function u(h){this.srcFile=h,this.source=[]}u.prototype={isEmpty:function(){return!this.source.length},prepend:function(m,c){this.source.unshift(this.wrap(m,c))},push:function(m,c){this.source.push(this.wrap(m,c))},merge:function(){var m=this.empty();return this.each(function(c){m.add(["  ",c,`
`])}),m},each:function(m){for(var c=0,r=this.source.length;c<r;c++)m(this.source[c])},empty:function(){var m=this.currentLocation||{start:{}};return new a(m.start.line,m.start.column,this.srcFile)},wrap:function(m){var c=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return m instanceof a?m:(m=f(m,this,c),new a(c.start.line,c.start.column,this.srcFile,m))},functionCall:function(m,c,r){return r=this.generateList(r),this.wrap([m,c?"."+c+"(":"(",r,")"])},quotedString:function(m){return'"'+(m+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(m){var c=this,r=[];Object.keys(m).forEach(function(o){var i=f(m[o],c);i!=="undefined"&&r.push([c.quotedString(o),":",i])});var p=this.generateList(r);return p.prepend("{"),p.add("}"),p},generateList:function(m){for(var c=this.empty(),r=0,p=m.length;r<p;r++)r&&c.add(","),c.add(f(m[r],this));return c},generateArray:function(m){var c=this.generateList(m);return c.prepend("["),c.add("]"),c}},t.default=u,e.exports=t.default})(Kt,Kt.exports)),Kt.exports}var ci;function Ac(){return ci||(ci=1,(function(e,t){t.__esModule=!0;function n(o){return o&&o.__esModule?o:{default:o}}var a=$n(),l=Re(),f=n(l),u=ge(),h=Cc(),m=n(h);function c(o){this.value=o}function r(){}r.prototype={nameLookup:function(i,s){return this.internalNameLookup(i,s)},depthedLookup:function(i){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(i),")"]},compilerInfo:function(){var i=a.COMPILER_REVISION,s=a.REVISION_CHANGES[i];return[i,s]},appendToBuffer:function(i,s,d){return u.isArray(i)||(i=[i]),i=this.source.wrap(i,s),this.environment.isSimple?["return ",i,";"]:d?["buffer += ",i,";"]:(i.appendToBuffer=!0,i)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(i,s){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",i,",",JSON.stringify(s),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(i,s,d,g){this.environment=i,this.options=s,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!g,this.name=this.environment.name,this.isChild=!!d,this.context=d||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(i,s),this.useDepths=this.useDepths||i.useDepths||i.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||i.useBlockParams;var b=i.opcodes,y=void 0,_=void 0,v=void 0,w=void 0;for(v=0,w=b.length;v<w;v++)y=b[v],this.source.currentLocation=y.loc,_=_||y.loc,this[y.opcode].apply(this,y.args);if(this.source.currentLocation=_,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),g?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var x=this.createFunctionContext(g);if(this.isChild)return x;var C={compiler:this.compilerInfo(),main:x};this.decorators&&(C.main_d=this.decorators,C.useDecorators=!0);var S=this.context,E=S.programs,P=S.decorators;for(v=0,w=E.length;v<w;v++)E[v]&&(C[v]=E[v],P[v]&&(C[v+"_d"]=P[v],C.useDecorators=!0));return this.environment.usePartial&&(C.usePartial=!0),this.options.data&&(C.useData=!0),this.useDepths&&(C.useDepths=!0),this.useBlockParams&&(C.useBlockParams=!0),this.options.compat&&(C.compat=!0),g?C.compilerOptions=this.options:(C.compiler=JSON.stringify(C.compiler),this.source.currentLocation={start:{line:1,column:0}},C=this.objectLiteral(C),s.srcName?(C=C.toStringWithSourceMap({file:s.destName}),C.map=C.map&&C.map.toString()):C=C.toString()),C},preamble:function(){this.lastContext=0,this.source=new m.default(this.options.srcName),this.decorators=new m.default(this.options.srcName)},createFunctionContext:function(i){var s=this,d="",g=this.stackVars.concat(this.registers.list);g.length>0&&(d+=", "+g.join(", "));var b=0;Object.keys(this.aliases).forEach(function(v){var w=s.aliases[v];w.children&&w.referenceCount>1&&(d+=", alias"+ ++b+"="+v,w.children[0]="alias"+b)}),this.lookupPropertyFunctionIsUsed&&(d+=", "+this.lookupPropertyFunctionVarDeclaration());var y=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&y.push("blockParams"),this.useDepths&&y.push("depths");var _=this.mergeSource(d);return i?(y.push(_),Function.apply(this,y)):this.source.wrap(["function(",y.join(","),`) {
  `,_,"}"])},mergeSource:function(i){var s=this.environment.isSimple,d=!this.forceBuffer,g=void 0,b=void 0,y=void 0,_=void 0;return this.source.each(function(v){v.appendToBuffer?(y?v.prepend("  + "):y=v,_=v):(y&&(b?y.prepend("buffer += "):g=!0,_.add(";"),y=_=void 0),b=!0,s||(d=!1))}),d?y?(y.prepend("return "),_.add(";")):b||this.source.push('return "";'):(i+=", buffer = "+(g?"":this.initializeBuffer()),y?(y.prepend("return buffer + "),_.add(";")):this.source.push("return buffer;")),i&&this.source.prepend("var "+i.substring(2)+(g?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(i){var s=this.aliasable("container.hooks.blockHelperMissing"),d=[this.contextName(0)];this.setupHelperArgs(i,0,d);var g=this.popStack();d.splice(1,0,g),this.push(this.source.functionCall(s,"call",d))},ambiguousBlockValue:function(){var i=this.aliasable("container.hooks.blockHelperMissing"),s=[this.contextName(0)];this.setupHelperArgs("",0,s,!0),this.flushInline();var d=this.topStack();s.splice(1,0,d),this.pushSource(["if (!",this.lastHelper,") { ",d," = ",this.source.functionCall(i,"call",s),"}"])},appendContent:function(i){this.pendingContent?i=this.pendingContent+i:this.pendingLocation=this.source.currentLocation,this.pendingContent=i},append:function(){if(this.isInline())this.replaceStack(function(s){return[" != null ? ",s,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var i=this.popStack();this.pushSource(["if (",i," != null) { ",this.appendToBuffer(i,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(i){this.lastContext=i},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(i,s,d,g){var b=0;!g&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(i[b++])):this.pushContext(),this.resolvePath("context",i,b,s,d)},lookupBlockParam:function(i,s){this.useBlockParams=!0,this.push(["blockParams[",i[0],"][",i[1],"]"]),this.resolvePath("context",s,1)},lookupData:function(i,s,d){i?this.pushStackLiteral("container.data(data, "+i+")"):this.pushStackLiteral("data"),this.resolvePath("data",s,0,!0,d)},resolvePath:function(i,s,d,g,b){var y=this;if(this.options.strict||this.options.assumeObjects){this.push(p(this.options.strict&&b,this,s,d,i));return}for(var _=s.length;d<_;d++)this.replaceStack(function(v){var w=y.nameLookup(v,s[d],i);return g?[" && ",w]:[" != null ? ",w," : ",v]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(i,s){this.pushContext(),this.pushString(s),s!=="SubExpression"&&(typeof i=="string"?this.pushString(i):this.pushStackLiteral(i))},emptyHash:function(i){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(i?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var i=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(i.ids)),this.stringParams&&(this.push(this.objectLiteral(i.contexts)),this.push(this.objectLiteral(i.types))),this.push(this.objectLiteral(i.values))},pushString:function(i){this.pushStackLiteral(this.quotedString(i))},pushLiteral:function(i){this.pushStackLiteral(i)},pushProgram:function(i){i!=null?this.pushStackLiteral(this.programExpression(i)):this.pushStackLiteral(null)},registerDecorator:function(i,s){var d=this.nameLookup("decorators",s,"decorator"),g=this.setupHelperArgs(s,i);this.decorators.push(["fn = ",this.decorators.functionCall(d,"",["fn","props","container",g])," || fn;"])},invokeHelper:function(i,s,d){var g=this.popStack(),b=this.setupHelper(i,s),y=[];d&&y.push(b.name),y.push(g),this.options.strict||y.push(this.aliasable("container.hooks.helperMissing"));var _=["(",this.itemsSeparatedBy(y,"||"),")"],v=this.source.functionCall(_,"call",b.callParams);this.push(v)},itemsSeparatedBy:function(i,s){var d=[];d.push(i[0]);for(var g=1;g<i.length;g++)d.push(s,i[g]);return d},invokeKnownHelper:function(i,s){var d=this.setupHelper(i,s);this.push(this.source.functionCall(d.name,"call",d.callParams))},invokeAmbiguous:function(i,s){this.useRegister("helper");var d=this.popStack();this.emptyHash();var g=this.setupHelper(0,i,s),b=this.lastHelper=this.nameLookup("helpers",i,"helper"),y=["(","(helper = ",b," || ",d,")"];this.options.strict||(y[0]="(helper = ",y.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",y,g.paramsInit?["),(",g.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",g.callParams)," : helper))"])},invokePartial:function(i,s,d){var g=[],b=this.setupParams(s,1,g);i&&(s=this.popStack(),delete b.name),d&&(b.indent=JSON.stringify(d)),b.helpers="helpers",b.partials="partials",b.decorators="container.decorators",i?g.unshift(s):g.unshift(this.nameLookup("partials",s,"partial")),this.options.compat&&(b.depths="depths"),b=this.objectLiteral(b),g.push(b),this.push(this.source.functionCall("container.invokePartial","",g))},assignToHash:function(i){var s=this.popStack(),d=void 0,g=void 0,b=void 0;this.trackIds&&(b=this.popStack()),this.stringParams&&(g=this.popStack(),d=this.popStack());var y=this.hash;d&&(y.contexts[i]=d),g&&(y.types[i]=g),b&&(y.ids[i]=b),y.values[i]=s},pushId:function(i,s,d){i==="BlockParam"?this.pushStackLiteral("blockParams["+s[0]+"].path["+s[1]+"]"+(d?" + "+JSON.stringify("."+d):"")):i==="PathExpression"?this.pushString(s):i==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(i,s){for(var d=i.children,g=void 0,b=void 0,y=0,_=d.length;y<_;y++){g=d[y],b=new this.compiler;var v=this.matchExistingProgram(g);if(v==null){this.context.programs.push("");var w=this.context.programs.length;g.index=w,g.name="program"+w,this.context.programs[w]=b.compile(g,s,this.context,!this.precompile),this.context.decorators[w]=b.decorators,this.context.environments[w]=g,this.useDepths=this.useDepths||b.useDepths,this.useBlockParams=this.useBlockParams||b.useBlockParams,g.useDepths=this.useDepths,g.useBlockParams=this.useBlockParams}else g.index=v.index,g.name="program"+v.index,this.useDepths=this.useDepths||v.useDepths,this.useBlockParams=this.useBlockParams||v.useBlockParams}},matchExistingProgram:function(i){for(var s=0,d=this.context.environments.length;s<d;s++){var g=this.context.environments[s];if(g&&g.equals(i))return g}},programExpression:function(i){var s=this.environment.children[i],d=[s.index,"data",s.blockParams];return(this.useBlockParams||this.useDepths)&&d.push("blockParams"),this.useDepths&&d.push("depths"),"container.program("+d.join(", ")+")"},useRegister:function(i){this.registers[i]||(this.registers[i]=!0,this.registers.list.push(i))},push:function(i){return i instanceof c||(i=this.source.wrap(i)),this.inlineStack.push(i),i},pushStackLiteral:function(i){this.push(new c(i))},pushSource:function(i){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),i&&this.source.push(i)},replaceStack:function(i){var s=["("],d=void 0,g=void 0,b=void 0;if(!this.isInline())throw new f.default("replaceStack on non-inline");var y=this.popStack(!0);if(y instanceof c)d=[y.value],s=["(",d],b=!0;else{g=!0;var _=this.incrStack();s=["((",this.push(_)," = ",y,")"],d=this.topStack()}var v=i.call(this,d);b||this.popStack(),g&&this.stackSlot--,this.push(s.concat(v,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var i=this.inlineStack;this.inlineStack=[];for(var s=0,d=i.length;s<d;s++){var g=i[s];if(g instanceof c)this.compileStack.push(g);else{var b=this.incrStack();this.pushSource([b," = ",g,";"]),this.compileStack.push(b)}}},isInline:function(){return this.inlineStack.length},popStack:function(i){var s=this.isInline(),d=(s?this.inlineStack:this.compileStack).pop();if(!i&&d instanceof c)return d.value;if(!s){if(!this.stackSlot)throw new f.default("Invalid stack pop");this.stackSlot--}return d},topStack:function(){var i=this.isInline()?this.inlineStack:this.compileStack,s=i[i.length-1];return s instanceof c?s.value:s},contextName:function(i){return this.useDepths&&i?"depths["+i+"]":"depth"+i},quotedString:function(i){return this.source.quotedString(i)},objectLiteral:function(i){return this.source.objectLiteral(i)},aliasable:function(i){var s=this.aliases[i];return s?(s.referenceCount++,s):(s=this.aliases[i]=this.source.wrap(i),s.aliasable=!0,s.referenceCount=1,s)},setupHelper:function(i,s,d){var g=[],b=this.setupHelperArgs(s,i,g,d),y=this.nameLookup("helpers",s,"helper"),_=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:g,paramsInit:b,name:y,callParams:[_].concat(g)}},setupParams:function(i,s,d){var g={},b=[],y=[],_=[],v=!d,w=void 0;v&&(d=[]),g.name=this.quotedString(i),g.hash=this.popStack(),this.trackIds&&(g.hashIds=this.popStack()),this.stringParams&&(g.hashTypes=this.popStack(),g.hashContexts=this.popStack());var x=this.popStack(),C=this.popStack();(C||x)&&(g.fn=C||"container.noop",g.inverse=x||"container.noop");for(var S=s;S--;)w=this.popStack(),d[S]=w,this.trackIds&&(_[S]=this.popStack()),this.stringParams&&(y[S]=this.popStack(),b[S]=this.popStack());return v&&(g.args=this.source.generateArray(d)),this.trackIds&&(g.ids=this.source.generateArray(_)),this.stringParams&&(g.types=this.source.generateArray(y),g.contexts=this.source.generateArray(b)),this.options.data&&(g.data="data"),this.useBlockParams&&(g.blockParams="blockParams"),g},setupHelperArgs:function(i,s,d,g){var b=this.setupParams(i,s,d);return b.loc=JSON.stringify(this.source.currentLocation),b=this.objectLiteral(b),g?(this.useRegister("options"),d.push("options"),["options=",b]):d?(d.push(b),""):b}},(function(){for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),i=r.RESERVED_WORDS={},s=0,d=o.length;s<d;s++)i[o[s]]=!0})(),r.isValidJavaScriptVariableName=function(o){return!r.RESERVED_WORDS[o]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(o)};function p(o,i,s,d,g){var b=i.popStack(),y=s.length;for(o&&y--;d<y;d++)b=i.nameLookup(b,s[d],g);return o?[i.aliasable("container.strict"),"(",b,", ",i.quotedString(s[d]),", ",JSON.stringify(i.source.currentLocation)," )"]:b}t.default=r,e.exports=t.default})(Jt,Jt.exports)),Jt.exports}var di;function Oc(){return di||(di=1,(function(e,t){t.__esModule=!0;function n(y){return y&&y.__esModule?y:{default:y}}var a=fc(),l=n(a),f=zo(),u=n(f),h=gc(),m=vc(),c=Ac(),r=n(c),p=Ho(),o=n(p),i=Fo(),s=n(i),d=l.default.create;function g(){var y=d();return y.compile=function(_,v){return m.compile(_,v,y)},y.precompile=function(_,v){return m.precompile(_,v,y)},y.AST=u.default,y.Compiler=m.Compiler,y.JavaScriptCompiler=r.default,y.Parser=h.parser,y.parse=h.parse,y.parseWithoutProcessing=h.parseWithoutProcessing,y}var b=g();b.create=g,s.default(b),b.Visitor=o.default,b.default=b,t.default=b,e.exports=t.default})(Ot,Ot.exports)),Ot.exports}var Pc=Oc();const Ec=An(Pc);class Fn{}const Oe={parseNumber:e=>typeof e!="number"?Number.parseFloat(e):e,parseBorderRadius:e=>he(ye(e),Oe.parseNumber,vu(10)),applyTransforms:(e,t)=>mu(e,K(n=>n(e),t))};function zn(e,t){const n=K(a=>a.gen(e).trim(),t);return Ae(`
`,n)}class Hn extends Fn{name="project";_template;constructor(){super(),this._template=Wn().compile(Hn.TEMPLATE,{noEscape:!0})}gen(t){return this._template(t)}static TEMPLATE=`
    .project {
      background-color: {{backgroundColor}};
    }
  `}class gr extends Fn{name="row";_template;_options;constructor(t={}){super(),this._options=t,this._template=Wn().compile(gr.TEMPLATE,{noEscape:!0})}gen(t){const n=Oe.applyTransforms(t,{rowBorderRadiusUnit:a=>a.rowBorderRadiusIsPixels?"px":"%",rowBorderRadiusTopLeft:Oe.parseBorderRadius("rowBorderRadiusTopLeft"),rowBorderRadiusTopRight:Oe.parseBorderRadius("rowBorderRadiusTopRight"),rowBorderRadiusBottomLeft:Oe.parseBorderRadius("rowBorderRadiusBottomLeft"),rowBorderRadiusBottomRight:Oe.parseBorderRadius("rowBorderRadiusBottomRight")});return this._template({...n,global:this._options.global,container:this._options.container})}static TEMPLATE=`
    {{#if container}}{{container}} {{/if}}.project-row{{#if global}}:not(.hasPrivateStyling){{/if}} {
      --row-title-font: {{quote rowTitle}};
      --row-title-size: {{rowTitleTextSize}}%;
      --row-title-align: {{rowTitleAlign}};
      --row-title-color: {{rowTitleColor}};
      --row-text-font: {{quote rowText}};
      --row-text-align: {{rowTextAlign}};
      --row-text-size: {{rowTextTextSize}}%;
      --row-text-color: {{rowTextColor}};
      --row-text-padding-x: {{rowTextPaddingX}}px;
      --row-text-padding-y: {{rowTextPaddingY}}%;
      --row-image-width: {{rowImageWidth}}%;
      --row-image-margin-top: {{rowImageMarginTop}}%;
      --row-image-margin-bottom: {{rowImageMarginBottom}}%;
      --row-img-border: {{#if rowImgBorderIsOn}}{{rowImgBorderWidth}}px {{rowImgBorderStyle}} {{rowImgBorderColor}}{{else}}none{{/if}};
      --row-img-overflow: {{#if rowImgOverflowIsOn}}hidden{{else}}initial{{/if}};
      --row-bg-color: {{#if rowBgColorIsOn}}{{rowBgColor}}{{else}}transparent{{/if}};
      --row-margin: {{rowMargin}}%;
      --row-border: {{#if rowBorderIsOn}}{{rowBorderWidth}}px {{rowBorderStyle}} {{rowBorderColor}}{{else}}none{{/if}};
      --row-border-radius: {{rowBorderRadiusTopLeft}}{{rowBorderRadiusUnit}} {{rowBorderRadiusTopRight}}{{rowBorderRadiusUnit}} {{rowBorderRadiusBottomRight}}{{rowBorderRadiusUnit}} {{rowBorderRadiusBottomLeft}}{{rowBorderRadiusUnit}};
      --row-body-margin: {{rowBodyMarginTop}}px {{rowBodyMarginSides}}% {{rowBodyMarginBottom}}px {{rowBodyMarginSides}}%;
      --row-overflow: {{#if rowOverFlowIsOn}}hidden{{else}}initial{{/if}};
    }
  `}class St extends Fn{name="obj";_template;_options;constructor(t={}){super(),this._options=t,this._template=Wn().compile(St.TEMPLATE,{noEscape:!0})}gen(t){const n=Oe.applyTransforms(t,{objectBorderRadiusUnit:a=>a.objectBorderRadiusIsPixels?"px":"%",objectBorderRadiusTopLeft:Oe.parseBorderRadius("objectBorderRadiusTopLeft"),objectBorderRadiusTopRight:Oe.parseBorderRadius("objectBorderRadiusTopRight"),objectBorderRadiusBottomLeft:Oe.parseBorderRadius("objectBorderRadiusBottomLeft"),objectBorderRadiusBottomRight:Oe.parseBorderRadius("objectBorderRadiusBottomRight")});return this._template({...n,global:this._options.global,container:this._options.container})}static TEMPLATE=`
    {{#if container}}{{container}} {{/if}}.project-obj{{#if global}}:not(.hasPrivateStyling){{/if}} {
      --obj-title-font: {{quote objectTitle}};
      --obj-title-size: {{objectTitleTextSize}}%;
      --obj-title-align: {{objectTitleAlign}};
      --obj-title-color: {{objectTitleColor}};
      --obj-text-font: {{quote objectText}};
      --obj-text-align: {{objectTextAlign}};
      --obj-text-size: {{objectTextTextSize}}%;
      --obj-text-color: {{objectTextColor}};
      --obj-text-padding: max({{objectTextPadding}}px, 0.75rem);
      --obj-image-width: {{objectImageWidth}}%;
      --obj-image-margin-top: {{objectImageMarginTop}}px;
      --obj-image-margin-bottom: {{objectImageMarginBottom}}px;
      --obj-img-object-fit: {{#if objectImgObjectFillIsOn}}{{objectImgObjectFillStyle}}{{else}}initial{{/if}};
      --obj-img-object-height: {{#if objectImgObjectFillHeight}}{{objectImgObjectFillHeight}}px{{else}}auto{{/if}};
      --obj-addon-text-font: {{quote addonText}};
      --obj-addon-text-size: {{addonTextTextSize}}%;
      --obj-addon-text-color: {{addonTextColor}};
      --obj-addon-text-align: {{addonTextAlign}};
      --obj-addon-title-font: {{quote addonTitle}};
      --obj-addon-title-size: {{addonTitleTextSize}}%;
      --obj-addon-title-color: {{addonTitleColor}};
      --obj-addon-title-align: {{addonTitleAlign}};
      --obj-score-font: {{quote scoreText}};
      --obj-score-size: {{scoreTextSize}}%;
      --obj-score-align: {{scoreTextAlign}};
      --obj-score-color: {{scoreTextColor}};
      --obj-bg-color: {{#if objectBgColorIsOn}}{{objectBgColor}}{{else}}initial{{/if}};
      --obj-margin: {{objectMargin}}px; /* Not used, see comment below */
      --obj-border: {{#if objectBorderIsOn}}{{objectBorderWidth}}px {{objectBorderStyle}} {{objectBorderColor}}{{else}}none{{/if}};
      --obj-border-radius: {{objectBorderRadiusTopLeft}}{{objectBorderRadiusUnit}} {{objectBorderRadiusTopRight}}{{objectBorderRadiusUnit}} {{objectBorderRadiusBottomRight}}{{objectBorderRadiusUnit}} {{objectBorderRadiusBottomLeft}}{{objectBorderRadiusUnit}};
      --obj-selected-bg-color: {{#if selBgColorIsOn}}{{selFilterBgColor}}{{else}}initial{{/if}};
      --obj-selected-filter: {{#if selFilterGrayIsOn}}grayscale({{selFilterGray}}%){{else}}none{{/if}};
      --obj-disabled-bg-color: {{#if reqBgColorIsOn}}{{reqFilterBgColor}}{{else}}initial{{/if}};
      --obj-disabled-filter: {{#if reqFilterGrayIsOn}}grayscale({{reqFilterGray}}%){{else}}none{{/if}};
      --obj-addon-disabled-bg-color: {{#if reqBgColorIsOn}}{{reqFilterBgColor}}{{else}}initial{{/if}};
      --obj-addon-disabled-filter: {{#if reqFilterGrayIsOn}}grayscale({{reqFilterGray}}%){{else}}none{{/if}};
    }
  `}const Wn=(()=>{let e;const t=()=>{e=Ec.create(),e.registerHelper("quote",n=>JSON.stringify(n.toString()))};return()=>(e||t(),e)})(),Rc=z({__name:"StyleObj",props:{styles:{},objId:{}},setup(e){const t=[new St({container:`#obj-${e.objId}`})],n=M(()=>zn(e.styles,t));return(a,l)=>(O(),$(Un,{stylesheet:k(n)},null,8,["stylesheet"]))}}),Ic=Object.assign(Rc,{__name:"StyleObj"});function Ko({obj:e,row:t,...n}){const a=pe(),{selectedIds:l,selected:f}=de(),u=M(()=>Ue(e.value)),h=M(()=>u.value(l.value)),m=M(()=>Je(e.value.id,f.value)),c=M(()=>h.value&&!e.value.isNotSelectable&&!t?.value.isInfoRow&&(n.canToggle?.value??!0)),r=M(()=>e.value.isSelectableMultiple?f.value[e.value.id]??0:0),p=M(()=>Number.parseInt(e.value.numMultipleTimesMinus)),o=M(()=>Number.parseInt(e.value.numMultipleTimesPluss));return{isEnabled:h,isSelected:m,canToggle:c,selectedAmount:r,minSelectedAmount:p,maxSelectedAmount:o,toggle:()=>{c.value&&!e.value.isSelectableMultiple&&a.setSelected(e.value.id,!m.value)},increment:()=>{c.value&&a.incSelected(e.value.id)},decrement:()=>{c.value&&a.decSelected(e.value.id)}}}const Lc={class:"obj-select-multi"},jc={class:"mx-1"},Bc=z({__name:"ProjectObjMulti",props:{obj:{},canToggle:{type:Boolean}},setup(e){const t=e,{canToggle:n,selectedAmount:a,minSelectedAmount:l,maxSelectedAmount:f,increment:u,decrement:h}=Ko({obj:M(()=>t.obj),canToggle:M(()=>t.canToggle)});return(m,c)=>(O(),I("div",Lc,[k(n)?(O(),I("div",{key:0,class:Q(["iconify carbon--subtract-alt text-xl",{"text-green-400":k(a)>k(l),"text-grey-400":k(a)<=k(l)}]),onClick:c[0]||(c[0]=(...r)=>k(h)&&k(h)(...r))},null,2)):T("",!0),A("span",jc,W(k(a)),1),k(n)?(O(),I("div",{key:1,class:Q(["iconify carbon--add-alt text-xl",{"text-green-400":k(a)<k(f),"text-grey-400":k(a)>=k(l)}]),onClick:c[1]||(c[1]=(...r)=>k(u)&&k(u)(...r))},null,2)):T("",!0)]))}}),Tc=Object.assign(Bc,{__name:"ProjectObjMulti"}),fi={"col-12":[],"col-sm-11":["md:col-11"],"col-sm-10":["md:col-10"],"col-sm-9":["md:col-9"],"col-sm-8":["md:col-8"],"col-sm-7":["md:col-7"],"col-sm-6":["sm:col-6"],"col-sm-5":["sm:col-6","md:col-5"],"col-md-4":["sm:col-6","md:col-4"],"col-md-3":["sm:col-6","md:col-3"],"w-20":["sm:col-6","md:col-3","w-md-20"],"col-lg-2":["sm:col-6","md:col-3","col-lg-2"],"w-14":["sm:col-6","w-md-14"],"w-12":["sm:col-6","w-md-12"],"w-11":["sm:col-6","w-md-11"],"w-10":["sm:col-6","w-md-10"],"w-9":["sm:col-6","w-md-9"],"col-xl-1":["sm:col-6","col-xl-1"]},hi={"col-12":"mh-12","col-sm-11":"mh-12","col-sm-10":"mh-12","col-sm-9":"mh-9","col-sm-8":"mh-9","col-sm-7":"mh-9","col-sm-6":"mh-6","col-sm-5":"mh-6","col-md-4":"mh-6","col-md-3":"mh-3","w-20":"mh-3","col-lg-2":"mh-3","w-14":"mh-3","w-12":"mh-3","w-11":"mh-3","w-10":"mh-3","w-9":"mh-3","col-xl-1":"mh-3"};function Yo(e,t,n){let a=t.objectWidth;return e.objectWidth&&(a=e.objectWidth),n&&(a=n),a in fi?["col","col-12",...fi[a]]:(console.log(`Missing size reducer for ${a}`),["col","col-12",a])}const Mc=z({__name:"ViewScore",props:{score:{}},setup(e){const{selectedIds:t,getPointType:n}=de(),a=Ue(e.score),l=M(()=>{const f=n.value(e.score.id);return a(t.value)&&(Se(f)?ue(f.activatedId)||Ln(f.activatedId,t.value):!0)});return(f,u)=>(O(),I("div",{class:Q(["obj-score",{disabled:!l.value}])},W(e.score.beforeText+" "+Math.abs(Number.parseInt(e.score.value))+" "+e.score.afterText),3))}}),Nc=Object.assign(Mc,{__name:"ViewScore"}),Dc={key:0,class:"obj-scores"},qc=z({__name:"ViewScores",props:{scores:{}},setup(e){return(t,n)=>e.scores.length>0?(O(),I("div",Dc,[(O(!0),I(X,null,ae(e.scores,(a,l)=>(O(),$(Nc,{key:l,score:a},null,8,["score"]))),128))])):T("",!0)}}),Vc=Object.assign(qc,{__name:"ViewScores"}),ur=e=>e.replace(/\n/g,"<br/>");var Ce=(e=>(e[e.Viewer=0]="Viewer",e[e.Editor=1]="Editor",e[e.BackpackEnabled=2]="BackpackEnabled",e[e.BackpackDisabled=3]="BackpackDisabled",e))(Ce||{});const Uc=pn(()=>mn(()=>Promise.resolve().then(()=>Sm),void 0,import.meta.url).then(e=>e.default||e)),$c=["id"],Fc={class:"obj-image-wrapper"},zc=["decoding","loading","src","href","alt"],Hc={class:"obj-header"},Wc={class:"obj-title"},Gc=["innerHTML"],Jc={key:1,class:"obj-addons"},Kc={class:"controls flex flex-row justify-center items-center cursor-pointer py-1"},Yc={class:"scroll-btn flex flex-row items-center"},Xc={key:0},Qc={key:1},Zc=z({__name:"ViewProjectObj",props:{row:{},obj:{},viewObject:{},width:{},forceWidth:{},template:{},display:{},allowOverflow:{type:Boolean},showAddons:{type:Boolean}},setup(e){qa(E=>({v37dec53d:k(p)}));const t=e,n=Ko({obj:M(()=>t.obj),row:M(()=>t.row),canToggle:M(()=>t.viewObject!==Ce.BackpackDisabled)}),{isSelected:a,canToggle:l,toggle:f}=n,u=M(()=>t.forceWidth?[t.forceWidth]:Yo(t.obj,t.row,t.width)),h=M(()=>{if(t.allowOverflow||t.display?.showObjectOverflow)return null;let E=t.forceWidth??t.row.objectWidth;return t.obj.objectWidth&&(E=t.obj.objectWidth),t.width&&(E=t.width),E in hi?hi[E]:"mh-3"}),m=M(()=>!(t.allowOverflow||t.display?.showObjectOverflow)),c=M(()=>!!(t.showAddons||t.display?.showObjectAddons)),r=M(()=>{switch(t.template??t.obj.template){case"1":return"obj-template-top";case"2":return"obj-template-left";case"3":return"obj-template-right"}return"obj-template-top"}),p=M(()=>t.obj.isPrivateStyling?t.obj.styling.objectBgColorIsOn?t.obj.styling.objectBgColor:"transparent":t.row.styling?.objectBgColorIsOn?t.row.styling.objectBgColor:Se(w.project)&&w.project.data.styling.objectBgColorIsOn?w.project.data.styling.objectBgColor:"transparent"),o=M(()=>fu(/^https?:\/\//,t.obj.image)),i=Va("objContentRef"),s=yl(i),d=M(()=>{if(t.display?.showObjectControls==="always")return ce(t.obj.text)||ce(t.obj.addons);if(t.display?.showObjectControls==="never")return!1;if(ce(t.obj.text)||ce(t.obj.addons)){s.height.value,s.width.value;const E=i.value;return E?!t.allowOverflow&&(E.scrollHeight>E.clientHeight||ce(t.obj.addons)):!1}else return!1}),g=M(()=>t.display?.showObjectControls==="auto"||t.display?.showObjectControls==="never"||ue(t.obj.text)&&ue(t.obj.addons)),b=M(()=>t.display?.showObjectControls==="always"&&t.allowOverflow),y=Ee(),_=()=>{y.showObjectDetails={id:t.obj.id,tab:"details"}},v=()=>{y.showObjectDetails={id:t.obj.id,tab:"parents"}},w=pe(),x=M(()=>{switch(t.viewObject){case Ce.BackpackEnabled:case Ce.BackpackDisabled:return!0;default:return n.isEnabled.value}}),C=M(()=>{switch(t.viewObject){case Ce.BackpackEnabled:case Ce.BackpackDisabled:return!0;default:return!1}}),S=M(()=>t.viewObject===Ce.BackpackEnabled||t.viewObject===Ce.BackpackDisabled);return(E,P)=>{const R=qo,L=Uc;return O(),I("div",{id:`obj-${e.obj.id}`,class:Q(k(u))},[e.obj.isPrivateStyling?(O(),$(Ic,{key:0,styles:e.obj.styling,"obj-id":e.obj.id},null,8,["styles","obj-id"])):T("",!0),A("div",{ref:"objContainerRef",class:Q(["project-obj obj-default",{selected:k(a)&&!k(S),disabled:!k(x),notSelectable:e.obj.isNotSelectable||e.row.isInfoRow,canToggle:k(l),hideDisabledAddons:t.display?.hideDisabledAddons,hasPrivateStyling:e.obj.isPrivateStyling}]),onClick:P[2]||(P[2]=(...N)=>k(f)&&k(f)(...N))},[A("div",{class:Q(["project-obj-content",[k(r),k(h)]])},[A("div",Fc,[e.obj.image&&!e.display?.hideObjectImages?(O(),I("img",{key:0,class:"obj-image",decoding:k(C)?"sync":"auto",loading:k(C)?"eager":"lazy",src:e.obj.image,href:k(o)?e.obj.image:"",alt:e.obj.title},null,8,zc)):T("",!0)]),A("div",Hc,[A("div",Wc,W(e.obj.title),1),e.obj.isSelectableMultiple?(O(),$(Tc,{key:0,obj:e.obj,"can-toggle":k(l)},null,8,["obj","can-toggle"])):T("",!0),e.display?.hideObjectScores?T("",!0):(O(),$(Vc,{key:1,scores:e.obj.scores},null,8,["scores"])),e.display?.hideObjectRequirements?T("",!0):(O(),$(R,{key:2,requireds:e.obj.requireds,"enable-show-more":!0,onShowMore:P[0]||(P[0]=N=>v())},null,8,["requireds"]))]),A("div",{ref_key:"objContentRef",ref:i,class:Q(["obj-content",{"hide-overflow":k(m)}])},[e.obj.text&&!e.display?.hideObjectText?(O(),I("div",{key:0,class:"obj-text",innerHTML:k(ur)(e.obj.text)},null,8,Gc)):T("",!0),k(c)?(O(),I("div",Jc,[(O(!0),I(X,null,ae(e.obj.addons,(N,F)=>(O(),$(L,{key:F,index:F,addon:N,"obj-id":e.obj.id},null,8,["index","addon","obj-id"]))),128))])):T("",!0)],2),A("div",{class:Q(["obj-controls",{show:k(d),floating:k(g),sticky:k(b)}]),onClick:P[1]||(P[1]=Cn(N=>_(),["stop","prevent"]))},[A("div",Kc,[A("div",Yc,[P[3]||(P[3]=A("div",{class:"iconify size-6 carbon--zoom-in bg-surface-200 text-surface-200"},null,-1)),k(ce)(e.obj.addons)?(O(),I("span",Xc,W(k(mt)(e.obj.addons))+" "+W(k(mt)(e.obj.addons)>1?"Addons":"Addon")+" ... ",1)):(O(),I("span",Qc,"More ..."))])]),P[4]||(P[4]=A("div",{class:"background"},null,-1))],2)],2)],2)],10,$c)}}}),Gn=Object.assign(le(Zc,[["__scopeId","data-v-a17e03cb"]]),{__name:"ViewProjectObj"}),ed=z({__name:"StyleRow",props:{styles:{},rowId:{}},setup(e){const t=[new gr({container:`#row-${e.rowId}`}),new St({container:`#row-${e.rowId}`})],n=M(()=>zn(e.styles,t));return(a,l)=>(O(),$(Un,{stylesheet:k(n)},null,8,["stylesheet"]))}}),td=Object.assign(ed,{__name:"StyleRow"}),rd={class:"items-container"},nd={key:0,class:"loader-container"},sd={class:"flex flex-col items-stretch"},id=z({__name:"CollectionLoader",props:{items:{},isVisible:{type:Boolean},step:{},wrapper:{}},setup(e){const t=e,n=U([]),a=U(0),l=M(()=>a.value>=mt(t.items)),f=M(()=>!l.value||!h.ready.value),u=()=>{const c=a.value;if(c<mt(t.items)){const r=mo(c,c+t.step,t.items);n.value=fr(n.value,r),a.value+=mt(r)}else m.pause()},h=nl(500,{controls:!0,immediate:t.isVisible}),m=co(u,100,{immediate:t.isVisible});return it(()=>t.isVisible,c=>{c&&!l.value?(m.resume(),h.start()):(m.pause(),h.stop())}),(c,r)=>{const p=Tn;return e.isVisible?(O(),I("div",{key:0,class:Q(["collection-loader",{loading:k(f)}])},[On(A("div",rd,[(O(),$(oo(e.wrapper?.tag??"div"),$a(Fa(e.wrapper?.props??{})),{default:H(()=>[(O(!0),I(X,null,ae(k(n),o=>ds(c.$slots,"item",Ua({ref_for:!0},{item:o}))),256))]),_:3},16))],512),[[Pn,!k(f)]]),k(f)?(O(),I("div",nd,[ds(c.$slots,"loader",{},()=>[A("div",sd,[j(p,{width:"100%",height:"300px"})])])])):T("",!0)],2)):T("",!0)}}}),od=Object.assign(id,{__name:"CollectionLoader"}),ad=["id"],ld=["src","alt"],ud={key:1,class:"row-header"},cd=["innerHTML"],dd=["innerHTML"],fd={class:"row g-2"},hd=z({__name:"ViewProjectRow",props:{row:{},display:{}},setup(e){const t=e,{selectedIds:n}=de(),a=M(()=>Ue(t.row)),l=M(()=>a.value(n.value)),f=M(()=>ce(t.row.title)),u=M(()=>ce(t.row.titleText));return(h,m)=>{const c=Gn,r=Tn;return O(),I("div",{id:`row-${e.row.id}`,class:"project-row-wrapper"},[e.row.isPrivateStyling?(O(),$(td,{key:0,styles:e.row.styling,"row-id":e.row.id},null,8,["styles","row-id"])):T("",!0),A("div",{class:Q(["project-row",{hidden:!l.value,hasPrivateStyle:e.row.isPrivateStyling}])},[e.row.image&&!e.display?.hideRowImages?(O(),I("img",{key:0,class:"row-image",src:e.row.image,alt:e.row.title},null,8,ld)):T("",!0),f.value||u.value?(O(),I("div",ud,[f.value?(O(),I("div",{key:0,class:"row-title",innerHTML:k(ur)(e.row.title)},null,8,cd)):T("",!0),u.value&&!e.display?.hideRowText?(O(),I("div",{key:1,class:"row-text",innerHTML:k(ur)(e.row.titleText??"")},null,8,dd)):T("",!0)])):T("",!0),e.row.objects.length>0?(O(),$(od,{key:2,"is-visible":l.value,items:e.row.objects,step:10,wrapper:{tag:"div",props:{class:"row g-2"}}},{item:H(({item:p})=>[(O(),$(c,{key:p.id,obj:p,row:e.row,display:e.display},null,8,["obj","row","display"]))]),loader:H(()=>[A("div",fd,[(O(!0),I(X,null,ae(e.row.objects,p=>(O(),I("div",{key:p.id,class:Q(k(Yo)(p,e.row))},[j(r,{width:"100%",height:"200px"})],2))),128))])]),_:1},8,["is-visible","items"])):T("",!0)],2)],8,ad)}}}),pd=Object.assign(hd,{__name:"ViewProjectRow"}),md=z({__name:"ScrollToTopButton",setup(e){const t=wl(),n=M(()=>t.y.value<100),a=()=>{t.y.value=0};return(l,f)=>(O(),I("div",{class:Q(["scroll-to-top",{hidden:k(n)}]),onClick:f[0]||(f[0]=u=>a())},[...f[1]||(f[1]=[A("div",{class:"iconify solar--arrow-up-linear"},null,-1)])],2))}}),gd=Object.assign(le(md,[["__scopeId","data-v-9dd1b4d5"]]),{__name:"ScrollToTopButton"}),pi=Object.freeze({hideRowImages:!1,hideRowText:!1,hideObjectImages:!1,hideObjectScores:!1,hideObjectRequirements:!1,hideObjectText:!1,showObjectControls:"auto",showObjectOverflow:!1,showObjectAddons:!1,hideDisabledAddons:!1,hideAddonRequirements:!1,hideAddonText:!1}),yn=Object.freeze({default:Object.freeze({name:"Default",...pi}),extended:Object.freeze({name:"Extended",...pi,showObjectControls:"never",showObjectOverflow:!0,showObjectAddons:!0}),minimal:Object.freeze({name:"Minimal",hideRowImages:!0,hideRowText:!0,hideObjectImages:!0,hideObjectScores:!1,hideObjectRequirements:!1,hideObjectText:!0,showObjectControls:"always",showObjectOverflow:!1,showObjectAddons:!1,hideDisabledAddons:!1,hideAddonRequirements:!1,hideAddonText:!0})}),lt=Sn("viewer-settings",()=>{const e=U(!1),t=U(!1),n=U(!1),a=U(!0),l=U(""),f=U(!1),u=U({type:"preset",name:"default"});return{showDisabledAddonsInBackpack:e,hideImagesInBackpack:t,hideTextInBackpack:n,lockBackpackObjects:a,loadProjectOnStartup:l,lightThemeUI:f,displaySettings:u,resolveDisplaySettings:c=>{const r=u.value;if(r.type==="preset"){const p=yn[r.name];return vn(p,c??{})}else return vn(r.settings,c??{})},hasPreference:()=>ce(l.value)}},{persist:{storage:za.localStorage()}}),ut=()=>kn(lt()),vd={key:0,class:"w-full h-full py-[1rem] px-[1rem] flex flex-col items-center overflow-auto relative"},bd={class:"absolute top-0 right-0 pt-2 pr-2 z-20"},yd={class:"absolute top-0 right-0 pt-2 pr-2 z-20"},wd=z({__name:"ObjectModal",setup(e){const t=pn(()=>mn(()=>import("./gy24xQma.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76]),import.meta.url)),n=pn(()=>mn(()=>import("./ByyonEb1.js"),__vite__mapDeps([77,3,4,43,27,9,14,11,12,8,13,15,16,17,1,2,6,7,10,18,19,20,21,5,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,78]),import.meta.url)),a=Ee(),l=pe(),{resolveDisplaySettings:f}=lt(),u=M({get:()=>a.showObjectDetails!==!1,set:i=>{i===!1&&(a.showObjectDetails=!1)}}),h=M(()=>{if(a.showObjectDetails)return l.getObject(a.showObjectDetails.id)}),m=M(()=>{if(a.showObjectDetails&&"addonId"in a.showObjectDetails&&Se(a.showObjectDetails.addonId))return l.getObjectAddon(a.showObjectDetails.id,a.showObjectDetails.addonId)}),c=M(()=>{if(!h.value)return;const i=l.getObjectRow(h.value.id);return l.getRow(i)}),r=M(()=>typeof a.showObjectDetails=="object"?a.showObjectDetails.tab:null),p=M(()=>f()),o=()=>{a.showObjectDetails=!1};return(i,s)=>{const d=pr;return O(),$(d,{visible:k(u),"onUpdate:visible":s[2]||(s[2]=g=>oe(u)?u.value=g:null),"pt:root:class":"!border-0 !bg-transparent !shadow-none overflow-hidden h-full !max-h-full ","pt:mask:class":"backdrop-blur-sm","block-scroll":!0,"dismissable-mask":!0,modal:!0,"close-on-escape":!0},{container:H(()=>[k(h)&&k(c)?(O(),I("div",vd,[k(r)==="details"?(O(),$(k(t),{key:0,obj:k(h),row:k(c),display:k(p)},{right:H(()=>[A("div",bd,[A("div",{class:"iconify carbon--close-outline size-6 text-surface-200 cursor-pointer",onClick:s[0]||(s[0]=g=>o())})])]),_:1},8,["obj","row","display"])):T("",!0),k(r)==="parents"?(O(),$(k(n),{key:1,obj:k(h),row:k(c),addon:k(m)},{right:H(()=>[A("div",yd,[A("div",{class:"iconify carbon--close-outline size-6 text-surface-200 cursor-pointer",onClick:s[1]||(s[1]=g=>o())})])]),_:1},8,["obj","row","addon"])):T("",!0)])):T("",!0)]),_:1},8,["visible"])}}}),_d=Object.assign(wd,{__name:"ObjectModal"});function Xo(){const e=pe(),t=(l,f)=>{const u=xe(f??l),h=xe(l);return he(K(m=>({obj:e.getObject(m),count:l[m]})),Ge(({obj:m,count:c})=>he(Te(r=>{const p=e.getPointType(r.id);return Ue(r)(u)&&(ue(p.activatedId)||Ln(p.activatedId,u))}),K(({id:r,value:p})=>{const o=Number.parseInt(p);return{id:r,cost:o>0?o*c:0,gain:o<0?-(o*c):0}}))(m.scores)),Dn((m,c)=>({cost:m.cost+c.cost,gain:m.gain+c.gain}),{cost:0,gain:0},({id:m})=>m))(h)},n=l=>K(f=>f.gain-f.cost,l);return{points:M(()=>{const l=Le(e.selected),f=he(K(({id:u,startingSum:h})=>[u,h]),sr)(e.pointTypes);return he(t,n,gu(Nn,f))(l)}),computePointsForSelection:t}}function Jn(){const{getObject:e,getObjectRow:t,getRow:n}=pe(),{selected:a,selectedIds:l,backpack:f,indexMap:u}=de(),{computePointsForSelection:h}=Xo();return{packRows:M(()=>{const c=u.value,r=Le(a.value),p=(g,b)=>g===b?0:g>b?1:-1,o=(g,b)=>{const y=c[g.row.id].index,_=c[b.row.id].index;return p(y,_)},i=(g,b)=>{const y=c[g.row.id].objects[g.obj.id],_=c[b.row.id].objects[b.obj.id];return p(y,_)},s=K(([g,b])=>{const y=e(g),_=Te(v=>Ue(v)(l.value),y.addons);return{obj:y,row:n(t(g)),addons:_,count:b}},Ve(r)),d=qn(({obj:g,row:b})=>fo(g.groups)?.id??b.resultGroupId,s);return Ge(g=>{if(g.resultGroupId in d){const b=d[g.resultGroupId]??[],y=In((w,x)=>{const C=x.obj.id;return qe(C,ye(C,r),w)},{},b),_=h(y,r);return[{packRow:g,choices:xu([o,i],b),scores:_}]}else return[]},f.value)})}}function Qo(){const{packRows:e}=Jn(),{getObject:t}=pe(),{selected:n}=de(),a=(m,c)=>{let r=m.title;return(c>1||m.isSelectableMultiple)&&(r+=` x ${c}`),r},l=m=>he(K(({packRow:c,choices:r})=>{const p=K(({obj:o,addons:i,count:s})=>{let d=a(o,s);if(ce(i)&&m.exportAddons){const g=K(b=>b.title,i);d+=` [${Ae(", ",g)}]`}return d},r);return m.exportHeaders?fr(`**${c.title}**
`,Ae(", ",p)):Ae(", ",p)}),Ae(m.exportHeaders?`
`:", "))(e.value),f=()=>he(K(([m,c])=>{const r=t(m);return c>1||r.isSelectableMultiple?`${m}/ON#${c}`:m}),Ae(","))(Ve(n.value)),u=()=>he(K(([m,c])=>c>1?`${m}:${c}`:m),Ae(";"))(Ve(n.value));return{createExportText:l,createExportCode:m=>m.legacy?f():u()}}const xd={class:"export-text"},Sd={class:"flex md:flex-row flex-col export-text-toggle md:gap-5 gap-1"},kd={class:"flex flex-row gap-1"},Cd={class:"flex flex-row gap-1"},Ad={key:0},Od={key:1},Pd=z({__name:"ExportText",setup(e){const{createExportText:t}=Qo(),n=U(!0),a=U(!0),l=M(()=>t({exportAddons:a.value,exportHeaders:n.value})),f=U(!1);function u(){navigator.clipboard.writeText(l.value),f.value=!0,setTimeout(()=>{f.value=!1},4e3)}return(h,m)=>{const c=at,r=Mn,p=we;return O(),I("div",xd,[j(c,{class:"export-text-input min-h-[6rem] grow",placeholder:"Nothing has been selected yet ...",value:l.value},null,8,["value"]),A("div",Sd,[A("div",kd,[j(r,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=o=>n.value=o),"input-id":"sectionTitleSwitch"},null,8,["modelValue"]),m[2]||(m[2]=A("label",{for:"sectionTitleSwitch"}," Add Section Titles ",-1))]),A("div",Cd,[j(r,{modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=o=>a.value=o),"input-id":"includeAddonsSwitch"},null,8,["modelValue"]),m[3]||(m[3]=A("label",{for:"includeAddonsSwitch"}," Add Active Addons to Export ",-1))])]),j(p,{variant:"outlined",class:Q(["export-text-btn",{isCopied:f.value}]),onClick:u},{default:H(()=>[f.value?(O(),I("span",Ad,"Copied to Clipboard!")):(O(),I("span",Od,"Copy to Clipboard"))]),_:1},8,["class"])])}}}),Zo=Object.assign(le(Pd,[["__scopeId","data-v-7576a621"]]),{__name:"ExportText"}),Ed={class:"score-text"},Rd={key:1,class:"score-text"},Id=z({__name:"ViewScoreStatus",props:{vertical:{type:Boolean},short:{type:Boolean}},setup(e){const t=e,{selected:n,pointTypes:a}=de(),{points:l}=Xo(),f=M(()=>{const u=a.value;return he(Te(h=>ue(h.activatedId)||Je(h.activatedId,n.value)),K(h=>({score:h,value:l.value[h.id]??0})))(u)});return(u,h)=>(O(),I("div",{class:Q(["flex gap-2",{"flex-col":t.vertical}])},[(O(!0),I(X,null,ae(f.value,({score:m,value:c})=>(O(),I("span",{key:m.id,class:"flex score gap-1 flex-row"},[m.beforeText?(O(),I("span",{key:0,class:Q([t.short?["hidden","lg:block"]:[],"me-1"])},W(m.beforeText),3)):T("",!0),A("span",Ed,W(c),1),m.afterText?(O(),I("span",Rd,W(m.afterText),1)):T("",!0)]))),128))],2))}}),ea=Object.assign(le(Id,[["__scopeId","data-v-07ed94e3"]]),{__name:"ViewScoreStatus"}),Ld=z({__name:"RowScores",props:{scores:{},horizontal:{type:Boolean}},setup(e){const t=pe(),n=e,a=M(()=>K(([l,f])=>{const u=t.getPointType(l),h=[];return f.gain>0&&h.push(`+${f.gain}`),f.cost>0&&h.push(`-${f.cost}`),{score:u,values:Ae(", ",h)}},Ve(n.scores)));return(l,f)=>(O(),I("div",{class:Q(["row-scores",{horizontal:n.horizontal??!1}])},[(O(!0),I(X,null,ae(k(a),({score:u,values:h})=>(O(),I("span",{key:u.id,class:"row-score-item"},W(h)+" "+W(u.afterText),1))),128))],2))}}),ta=Object.assign(le(Ld,[["__scopeId","data-v-b8f11d4c"]]),{__name:"RowScores"}),jd={ref:"backpackRef",class:"backpack-container"},Bd={key:0,class:"project-title text-primary text-3xl"},Td={class:"pack-info-container"},Md={class:"pack-scores text-surface-0"},Nd={class:"pack-row-title-container"},Dd={class:"pack-row-title text-primary"},qd={class:"pack-row-info"},Vd={class:"row g-2"},Ud=z({__name:"BackpackView",props:{showTitle:{type:Boolean},verticalScore:{type:Boolean},lockBackpack:{type:Boolean},display:{}},setup(e){const t=e,{project:n}=pe(),{packRows:a}=Jn(),l=M(()=>t.lockBackpack?Ce.BackpackDisabled:Ce.BackpackEnabled);return(f,u)=>{const h=ea,m=Gn;return O(),I("div",jd,[e.showTitle?(O(),I("div",Bd,W(k(n)?.projectName),1)):T("",!0),A("div",Td,[A("div",Md,[j(h,{vertical:e.verticalScore},null,8,["vertical"])])]),(O(!0),I(X,null,ae(k(a),({packRow:c,choices:r,scores:p})=>(O(),I("div",{key:c.id,class:"pack-row"},[A("div",Nd,[A("span",Dd,W(c.title),1),A("div",qd,[j(ta,{scores:p,horizontal:!0},null,8,["scores"])])]),A("div",Vd,[(O(!0),I(X,null,ae(r,({obj:o,row:i})=>(O(),$(m,{key:o.id,obj:o,row:i,width:c.objectWidth,"view-object":l.value,display:e.display,"allow-overflow":!0,"show-addons":!0},null,8,["obj","row","width","view-object","display"]))),128))])]))),128))],512)}}}),ra=Object.assign(Ud,{__name:"BackpackView"}),$d={class:"export-code"},Fd={class:"flex flex-row gap-1"},zd={key:0},Hd={key:1},Wd=z({__name:"ExportCode",setup(e){const{createExportCode:t}=Qo(),n=U(!0),a=M(()=>t({legacy:!n.value})),l=U(!1);function f(){navigator.clipboard.writeText(a.value),l.value=!0,setTimeout(()=>{l.value=!1},4e3)}return(u,h)=>{const m=at,c=Mn,r=we;return O(),I("div",$d,[j(m,{class:"export-code-input min-h-[6rem] grow",placeholder:"Nothing has been selected yet ...",value:a.value},null,8,["value"]),A("div",Fd,[j(c,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=p=>n.value=p),"input-id":"useNewStyleCodesSwitch"},null,8,["modelValue"]),h[1]||(h[1]=A("label",{for:"useNewStyleCodesSwitch"}," Use new style of build codes ",-1))]),j(r,{variant:"outlined",class:Q(["export-code-btn",{isCopied:l.value}]),onClick:f},{default:H(()=>[l.value?(O(),I("span",zd,"Copied to Clipboard!")):(O(),I("span",Hd,"Copy to Clipboard"))]),_:1},8,["class"])])}}}),na=Object.assign(le(Wd,[["__scopeId","data-v-cd4ce488"]]),{__name:"ExportCode"}),Gd={class:"import-code-wrapper"},Jd=z({__name:"ImportCode",setup(e){const t=En(),n=cr(),{selected:a}=de(),{setSelected:l}=pe(),f=U(),u=/^(?:[a-zA-Z0-9-_!@&.]+(?:\/ON#\d+)?)(?:,[a-zA-Z0-9-_!@&.]+(?:\/ON#\d+)?)*$/;function h(m){let c=f.value?.trim();if(!c){ce(a.value)&&t.require({header:"Clear choices?",message:"There are currently selected choices.",icon:"pi pi-exclamation-triangle",group:"modal",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Clear Choices"},accept:async()=>{a.value={},n.add({severity:"info",summary:"Build Cleared",life:1e3})}});return}(c.endsWith(",")||c.endsWith(";"))&&(c=c.substring(0,c.length-1)),(c.startsWith(",")||c.startsWith(";"))&&(c=c.substring(1));const r={};u.test(c)?(console.log("Legacy Import Mode"),st(",",c).forEach(p=>{const o=p.indexOf("/ON#");if(o===-1)r[p]=1;else{const i=p.substring(0,o),s=p.substring(o+4);r[i]=Number.parseInt(s)}})):st(";",c).forEach(p=>{if(p.indexOf(":")===-1)r[p]=1;else{const[i,s]=st(":",p);r[i]=Number.parseInt(s)}}),ce(a.value)?t.require({header:"Load this build?",message:"There are choices already selected.",icon:"pi pi-exclamation-triangle",group:"modal",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Import"},accept:async()=>{l(r,!0,!0),f.value="",n.add({severity:"info",summary:"Build code loaded",life:1e3})}}):(l(r,!0,!0),f.value="",n.add({severity:"info",summary:"Build code loaded",life:1e3}))}return(m,c)=>{const r=at,p=we;return O(),I("div",Gd,[j(r,{modelValue:f.value,"onUpdate:modelValue":c[0]||(c[0]=o=>f.value=o),class:"import-code grow min-h-[6rem]",placeholder:"Will delete all selected items if empty!!"},null,8,["modelValue"]),j(p,{class:"import-btn",variant:"outlined",onClick:c[1]||(c[1]=o=>h())},{default:H(()=>[...c[2]||(c[2]=[Z(" Import Build ",-1)])]),_:1})])}}}),sa=Object.assign(le(Jd,[["__scopeId","data-v-303928dc"]]),{__name:"ImportCode"});function vt(e){const t=e.sizes.shift(),n=Math.max(Math.ceil(t[0]),1),a=Math.max(Math.ceil(t[1]),1),l=[n-1,a-1,1,1],f=performance.now(),u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope;let h,m;u?(h=new OffscreenCanvas(1,1),m=new OffscreenCanvas(n,a)):(h=document.createElement("canvas"),h.width=1,h.height=1,m=document.createElement("canvas"),m.width=n,m.height=a);const c=h.getContext("2d"),r=m.getContext("2d");r&&(r.fillRect.apply(r,l),c.drawImage(m,n-1,a-1,1,1,0,0,1,1));const p=c&&c.getImageData(0,0,1,1).data[3]!==0,o=parseInt(performance.now()-f);return[h,m].forEach((i=>{i.height=0,i.width=0})),u?(postMessage({width:n,height:a,testTime:o,isTestPass:p}),!p&&e.sizes.length&&setTimeout((()=>{vt(e)}),0)):p?e.onSuccess({width:n,height:a,testTime:o}):(e.onError({width:n,height:a,testTime:o}),e.sizes.length&&setTimeout((()=>{vt(e)}),0)),p}const jr={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},nt={max:null,min:1,sizes:[],step:1024,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},pt={};function Br(e){const t=e.width===e.height,n=e.height===1,a=e.width===1,l=[];if(!e.width||!e.height)e.sizes.forEach((f=>{const u=t||n?f:1,h=t||a?f:1;l.push([u,h])}));else{const f=e.min||nt.min,u=e.step||nt.step;let h=Math.max(e.width,e.height);for(;h>=f;){const m=t||n?h:1,c=t||a?h:1;l.push([m,c]),h-=u}}return l}function Qt(e){const t=typeof window<"u",n=t&&"Promise"in window,a=t&&"HTMLCanvasElement"in window,l=t&&"OffscreenCanvas"in window,f=URL.createObjectURL(new Blob([])).slice(-36),u=performance.now(),{onError:h,onSuccess:m,...c}=e,r=()=>parseInt(performance.now()-u);let p=null;if(!a)return!1;if(e.useWorker&&l){const o=`
            var canvasTest = ${vt.toString()};
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `,i=new Blob([o],{type:"application/javascript"}),s=URL.createObjectURL(i);p=new Worker(s),URL.revokeObjectURL(s),p.onmessage=function(d){const{width:g,height:b,testTime:y,isTestPass:_}=d.data,v={width:g,height:b,testTime:y,totalTime:r()};_?(pt[f].onSuccess(v),delete pt[f]):pt[f].onError(v)}}if(n)return new Promise((o=>{const i={...e,onError(s){let{width:d,height:g,testTime:b}=s;const y={width:d,height:g,testTime:b,totalTime:r()};let _;if(e.sizes.length===0)_=!0;else{const[[v,w]]=e.sizes.slice(-1);_=d===v&&g===w}h(y),_&&o({...y,success:!1})},onSuccess(s){let{width:d,height:g,testTime:b}=s;const y={width:d,height:g,testTime:b,totalTime:r()};m(y),o({...y,success:!0})}};if(p){const{onError:s,onSuccess:d}=i;pt[f]={onError:s,onSuccess:d},p.postMessage(c)}else vt(i)}));if(p)pt[f]={onError:h,onSuccess:m},p.postMessage(c);else return vt(e)}const Kd={maxArea(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Br({width:e.max,height:e.max,min:e.min,step:e.step,sizes:[...jr.area]}),n={...nt,...e,sizes:t};return Qt(n)},maxHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Br({width:1,height:e.max,min:e.min,step:e.step,sizes:[...jr.height]}),n={...nt,...e,sizes:t};return Qt(n)},maxWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Br({width:e.max,height:1,min:e.min,step:e.step,sizes:[...jr.width]}),n={...nt,...e,sizes:t};return Qt(n)},test(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...nt,...e};return t.sizes=[...t.sizes],t.width&&t.height&&(t.sizes=[[t.width,t.height]]),Qt(t)}};var Zt={exports:{}},mi;function Yd(){if(mi)return Zt.exports;mi=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return Zt.exports=t(),Zt.exports.createColors=t,Zt.exports}const Xd={},Qd=Object.freeze(Object.defineProperty({__proto__:null,default:Xd},Symbol.toStringTag,{value:"Module"})),Pe=Ha(Qd);var Tr,gi;function Kn(){if(gi)return Tr;gi=1;let e=Yd(),t=Pe;class n extends Error{constructor(l,f,u,h,m,c){super(l),this.name="CssSyntaxError",this.reason=l,m&&(this.file=m),h&&(this.source=h),c&&(this.plugin=c),typeof f<"u"&&typeof u<"u"&&(typeof f=="number"?(this.line=f,this.column=u):(this.line=f.line,this.column=f.column,this.endLine=u.line,this.endColumn=u.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(l){if(!this.source)return"";let f=this.source;l==null&&(l=e.isColorSupported);let u=i=>i,h=i=>i,m=i=>i;if(l){let{bold:i,gray:s,red:d}=e.createColors(!0);h=g=>i(d(g)),u=g=>s(g),t&&(m=g=>t(g))}let c=f.split(/\r?\n/),r=Math.max(this.line-3,0),p=Math.min(this.line+2,c.length),o=String(p).length;return c.slice(r,p).map((i,s)=>{let d=r+1+s,g=" "+(" "+d).slice(-o)+" | ";if(d===this.line){if(i.length>160){let y=20,_=Math.max(0,this.column-y),v=Math.max(this.column+y,this.endColumn+y),w=i.slice(_,v),x=u(g.replace(/\d/g," "))+i.slice(0,Math.min(this.column-1,y-1)).replace(/[^\t]/g," ");return h(">")+u(g)+m(w)+`
 `+x+h("^")}let b=u(g.replace(/\d/g," "))+i.slice(0,this.column-1).replace(/[^\t]/g," ");return h(">")+u(g)+m(i)+`
 `+b+h("^")}return" "+u(g)+m(i)}).join(`
`)}toString(){let l=this.showSourceCode();return l&&(l=`

`+l+`
`),this.name+": "+this.message+l}}return Tr=n,n.default=n,Tr}var Mr,vi;function ia(){if(vi)return Mr;vi=1;const e={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function t(a){return a[0].toUpperCase()+a.slice(1)}class n{constructor(l){this.builder=l}atrule(l,f){let u="@"+l.name,h=l.params?this.rawValue(l,"params"):"";if(typeof l.raws.afterName<"u"?u+=l.raws.afterName:h&&(u+=" "),l.nodes)this.block(l,u+h);else{let m=(l.raws.between||"")+(f?";":"");this.builder(u+h+m,l)}}beforeAfter(l,f){let u;l.type==="decl"?u=this.raw(l,null,"beforeDecl"):l.type==="comment"?u=this.raw(l,null,"beforeComment"):f==="before"?u=this.raw(l,null,"beforeRule"):u=this.raw(l,null,"beforeClose");let h=l.parent,m=0;for(;h&&h.type!=="root";)m+=1,h=h.parent;if(u.includes(`
`)){let c=this.raw(l,null,"indent");if(c.length)for(let r=0;r<m;r++)u+=c}return u}block(l,f){let u=this.raw(l,"between","beforeOpen");this.builder(f+u+"{",l,"start");let h;l.nodes&&l.nodes.length?(this.body(l),h=this.raw(l,"after")):h=this.raw(l,"after","emptyBody"),h&&this.builder(h),this.builder("}",l,"end")}body(l){let f=l.nodes.length-1;for(;f>0&&l.nodes[f].type==="comment";)f-=1;let u=this.raw(l,"semicolon");for(let h=0;h<l.nodes.length;h++){let m=l.nodes[h],c=this.raw(m,"before");c&&this.builder(c),this.stringify(m,f!==h||u)}}comment(l){let f=this.raw(l,"left","commentLeft"),u=this.raw(l,"right","commentRight");this.builder("/*"+f+l.text+u+"*/",l)}decl(l,f){let u=this.raw(l,"between","colon"),h=l.prop+u+this.rawValue(l,"value");l.important&&(h+=l.raws.important||" !important"),f&&(h+=";"),this.builder(h,l)}document(l){this.body(l)}raw(l,f,u){let h;if(u||(u=f),f&&(h=l.raws[f],typeof h<"u"))return h;let m=l.parent;if(u==="before"&&(!m||m.type==="root"&&m.first===l||m&&m.type==="document"))return"";if(!m)return e[u];let c=l.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[u]<"u")return c.rawCache[u];if(u==="before"||u==="after")return this.beforeAfter(l,u);{let r="raw"+t(u);this[r]?h=this[r](c,l):c.walk(p=>{if(h=p.raws[f],typeof h<"u")return!1})}return typeof h>"u"&&(h=e[u]),c.rawCache[u]=h,h}rawBeforeClose(l){let f;return l.walk(u=>{if(u.nodes&&u.nodes.length>0&&typeof u.raws.after<"u")return f=u.raws.after,f.includes(`
`)&&(f=f.replace(/[^\n]+$/,"")),!1}),f&&(f=f.replace(/\S/g,"")),f}rawBeforeComment(l,f){let u;return l.walkComments(h=>{if(typeof h.raws.before<"u")return u=h.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),typeof u>"u"?u=this.raw(f,null,"beforeDecl"):u&&(u=u.replace(/\S/g,"")),u}rawBeforeDecl(l,f){let u;return l.walkDecls(h=>{if(typeof h.raws.before<"u")return u=h.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),typeof u>"u"?u=this.raw(f,null,"beforeRule"):u&&(u=u.replace(/\S/g,"")),u}rawBeforeOpen(l){let f;return l.walk(u=>{if(u.type!=="decl"&&(f=u.raws.between,typeof f<"u"))return!1}),f}rawBeforeRule(l){let f;return l.walk(u=>{if(u.nodes&&(u.parent!==l||l.first!==u)&&typeof u.raws.before<"u")return f=u.raws.before,f.includes(`
`)&&(f=f.replace(/[^\n]+$/,"")),!1}),f&&(f=f.replace(/\S/g,"")),f}rawColon(l){let f;return l.walkDecls(u=>{if(typeof u.raws.between<"u")return f=u.raws.between.replace(/[^\s:]/g,""),!1}),f}rawEmptyBody(l){let f;return l.walk(u=>{if(u.nodes&&u.nodes.length===0&&(f=u.raws.after,typeof f<"u"))return!1}),f}rawIndent(l){if(l.raws.indent)return l.raws.indent;let f;return l.walk(u=>{let h=u.parent;if(h&&h!==l&&h.parent&&h.parent===l&&typeof u.raws.before<"u"){let m=u.raws.before.split(`
`);return f=m[m.length-1],f=f.replace(/\S/g,""),!1}}),f}rawSemicolon(l){let f;return l.walk(u=>{if(u.nodes&&u.nodes.length&&u.last.type==="decl"&&(f=u.raws.semicolon,typeof f<"u"))return!1}),f}rawValue(l,f){let u=l[f],h=l.raws[f];return h&&h.value===u?h.raw:u}root(l){this.body(l),l.raws.after&&this.builder(l.raws.after)}rule(l){this.block(l,this.rawValue(l,"selector")),l.raws.ownSemicolon&&this.builder(l.raws.ownSemicolon,l,"end")}stringify(l,f){if(!this[l.type])throw new Error("Unknown AST node type "+l.type+". Maybe you need to change PostCSS stringifier.");this[l.type](l,f)}}return Mr=n,n.default=n,Mr}var Nr,bi;function vr(){if(bi)return Nr;bi=1;let e=ia();function t(n,a){new e(a).stringify(n)}return Nr=t,t.default=t,Nr}var er={},yi;function Yn(){return yi||(yi=1,er.isClean=Symbol("isClean"),er.my=Symbol("my")),er}var Dr,wi;function br(){if(wi)return Dr;wi=1;let e=Kn(),t=ia(),n=vr(),{isClean:a,my:l}=Yn();function f(m,c){let r=new m.constructor;for(let p in m){if(!Object.prototype.hasOwnProperty.call(m,p)||p==="proxyCache")continue;let o=m[p],i=typeof o;p==="parent"&&i==="object"?c&&(r[p]=c):p==="source"?r[p]=o:Array.isArray(o)?r[p]=o.map(s=>f(s,r)):(i==="object"&&o!==null&&(o=f(o)),r[p]=o)}return r}function u(m,c){if(c&&typeof c.offset<"u")return c.offset;let r=1,p=1,o=0;for(let i=0;i<m.length;i++){if(p===c.line&&r===c.column){o=i;break}m[i]===`
`?(r=1,p+=1):r+=1}return o}class h{get proxyOf(){return this}constructor(c={}){this.raws={},this[a]=!1,this[l]=!0;for(let r in c)if(r==="nodes"){this.nodes=[];for(let p of c[r])typeof p.clone=="function"?this.append(p.clone()):this.append(p)}else this[r]=c[r]}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let r=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${r.input.from}:${r.start.line}:${r.start.column}$&`)}return c}after(c){return this.parent.insertAfter(this,c),this}assign(c={}){for(let r in c)this[r]=c[r];return this}before(c){return this.parent.insertBefore(this,c),this}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}clone(c={}){let r=f(this);for(let p in c)r[p]=c[p];return r}cloneAfter(c={}){let r=this.clone(c);return this.parent.insertAfter(this,r),r}cloneBefore(c={}){let r=this.clone(c);return this.parent.insertBefore(this,r),r}error(c,r={}){if(this.source){let{end:p,start:o}=this.rangeBy(r);return this.source.input.error(c,{column:o.column,line:o.line},{column:p.column,line:p.line},r)}return new e(c)}getProxyProcessor(){return{get(c,r){return r==="proxyOf"?c:r==="root"?()=>c.root().toProxy():c[r]},set(c,r,p){return c[r]===p||(c[r]=p,(r==="prop"||r==="value"||r==="name"||r==="params"||r==="important"||r==="text")&&c.markDirty()),!0}}}markClean(){this[a]=!0}markDirty(){if(this[a]){this[a]=!1;let c=this;for(;c=c.parent;)c[a]=!1}}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}positionBy(c={}){let r=this.source.start;if(c.index)r=this.positionInside(c.index);else if(c.word){let p="document"in this.source.input?this.source.input.document:this.source.input.css,i=p.slice(u(p,this.source.start),u(p,this.source.end)).indexOf(c.word);i!==-1&&(r=this.positionInside(i))}return r}positionInside(c){let r=this.source.start.column,p=this.source.start.line,o="document"in this.source.input?this.source.input.document:this.source.input.css,i=u(o,this.source.start),s=i+c;for(let d=i;d<s;d++)o[d]===`
`?(r=1,p+=1):r+=1;return{column:r,line:p,offset:s}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c={}){let r="document"in this.source.input?this.source.input.document:this.source.input.css,p={column:this.source.start.column,line:this.source.start.line,offset:u(r,this.source.start)},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:u(r,this.source.end)+1}:{column:p.column+1,line:p.line,offset:p.offset+1};if(c.word){let s=r.slice(u(r,this.source.start),u(r,this.source.end)).indexOf(c.word);s!==-1&&(p=this.positionInside(s),o=this.positionInside(s+c.word.length))}else c.start?p={column:c.start.column,line:c.start.line,offset:u(r,c.start)}:c.index&&(p=this.positionInside(c.index)),c.end?o={column:c.end.column,line:c.end.line,offset:u(r,c.end)}:typeof c.endIndex=="number"?o=this.positionInside(c.endIndex):c.index&&(o=this.positionInside(c.index+1));return(o.line<p.line||o.line===p.line&&o.column<=p.column)&&(o={column:p.column+1,line:p.line,offset:p.offset+1}),{end:o,start:p}}raw(c,r){return new t().raw(this,c,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let r=this,p=!1;for(let o of c)o===this?p=!0:p?(this.parent.insertAfter(r,o),r=o):this.parent.insertBefore(r,o);p||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,r){let p={},o=r==null;r=r||new Map;let i=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let d=this[s];if(Array.isArray(d))p[s]=d.map(g=>typeof g=="object"&&g.toJSON?g.toJSON(null,r):g);else if(typeof d=="object"&&d.toJSON)p[s]=d.toJSON(null,r);else if(s==="source"){if(d==null)continue;let g=r.get(d.input);g==null&&(g=i,r.set(d.input,i),i++),p[s]={end:d.end,inputId:g,start:d.start}}else p[s]=d}return o&&(p.inputs=[...r.keys()].map(s=>s.toJSON())),p}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=n){c.stringify&&(c=c.stringify);let r="";return c(this,p=>{r+=p}),r}warn(c,r,p={}){let o={node:this};for(let i in p)o[i]=p[i];return c.warn(r,o)}}return Dr=h,h.default=h,Dr}var qr,_i;function yr(){if(_i)return qr;_i=1;let e=br();class t extends e{constructor(a){super(a),this.type="comment"}}return qr=t,t.default=t,qr}var Vr,xi;function wr(){if(xi)return Vr;xi=1;let e=br();class t extends e{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(a){a&&typeof a.value<"u"&&typeof a.value!="string"&&(a={...a,value:String(a.value)}),super(a),this.type="decl"}}return Vr=t,t.default=t,Vr}var Ur,Si;function Xe(){if(Si)return Ur;Si=1;let e=yr(),t=wr(),n=br(),{isClean:a,my:l}=Yn(),f,u,h,m;function c(o){return o.map(i=>(i.nodes&&(i.nodes=c(i.nodes)),delete i.source,i))}function r(o){if(o[a]=!1,o.proxyOf.nodes)for(let i of o.proxyOf.nodes)r(i)}class p extends n{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...i){for(let s of i){let d=this.normalize(s,this.last);for(let g of d)this.proxyOf.nodes.push(g)}return this.markDirty(),this}cleanRaws(i){if(super.cleanRaws(i),this.nodes)for(let s of this.nodes)s.cleanRaws(i)}each(i){if(!this.proxyOf.nodes)return;let s=this.getIterator(),d,g;for(;this.indexes[s]<this.proxyOf.nodes.length&&(d=this.indexes[s],g=i(this.proxyOf.nodes[d],d),g!==!1);)this.indexes[s]+=1;return delete this.indexes[s],g}every(i){return this.nodes.every(i)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let i=this.lastEach;return this.indexes[i]=0,i}getProxyProcessor(){return{get(i,s){return s==="proxyOf"?i:i[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?(...d)=>i[s](...d.map(g=>typeof g=="function"?(b,y)=>g(b.toProxy(),y):g)):s==="every"||s==="some"?d=>i[s]((g,...b)=>d(g.toProxy(),...b)):s==="root"?()=>i.root().toProxy():s==="nodes"?i.nodes.map(d=>d.toProxy()):s==="first"||s==="last"?i[s].toProxy():i[s]:i[s]},set(i,s,d){return i[s]===d||(i[s]=d,(s==="name"||s==="params"||s==="selector")&&i.markDirty()),!0}}}index(i){return typeof i=="number"?i:(i.proxyOf&&(i=i.proxyOf),this.proxyOf.nodes.indexOf(i))}insertAfter(i,s){let d=this.index(i),g=this.normalize(s,this.proxyOf.nodes[d]).reverse();d=this.index(i);for(let y of g)this.proxyOf.nodes.splice(d+1,0,y);let b;for(let y in this.indexes)b=this.indexes[y],d<b&&(this.indexes[y]=b+g.length);return this.markDirty(),this}insertBefore(i,s){let d=this.index(i),g=d===0?"prepend":!1,b=this.normalize(s,this.proxyOf.nodes[d],g).reverse();d=this.index(i);for(let _ of b)this.proxyOf.nodes.splice(d,0,_);let y;for(let _ in this.indexes)y=this.indexes[_],d<=y&&(this.indexes[_]=y+b.length);return this.markDirty(),this}normalize(i,s){if(typeof i=="string")i=c(u(i).nodes);else if(typeof i>"u")i=[];else if(Array.isArray(i)){i=i.slice(0);for(let g of i)g.parent&&g.parent.removeChild(g,"ignore")}else if(i.type==="root"&&this.type!=="document"){i=i.nodes.slice(0);for(let g of i)g.parent&&g.parent.removeChild(g,"ignore")}else if(i.type)i=[i];else if(i.prop){if(typeof i.value>"u")throw new Error("Value field is missed in node creation");typeof i.value!="string"&&(i.value=String(i.value)),i=[new t(i)]}else if(i.selector||i.selectors)i=[new m(i)];else if(i.name)i=[new f(i)];else if(i.text)i=[new e(i)];else throw new Error("Unknown node type in node creation");return i.map(g=>(g[l]||p.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[a]&&r(g),g.raws||(g.raws={}),typeof g.raws.before>"u"&&s&&typeof s.raws.before<"u"&&(g.raws.before=s.raws.before.replace(/\S/g,"")),g.parent=this.proxyOf,g))}prepend(...i){i=i.reverse();for(let s of i){let d=this.normalize(s,this.first,"prepend").reverse();for(let g of d)this.proxyOf.nodes.unshift(g);for(let g in this.indexes)this.indexes[g]=this.indexes[g]+d.length}return this.markDirty(),this}push(i){return i.parent=this,this.proxyOf.nodes.push(i),this}removeAll(){for(let i of this.proxyOf.nodes)i.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(i){i=this.index(i),this.proxyOf.nodes[i].parent=void 0,this.proxyOf.nodes.splice(i,1);let s;for(let d in this.indexes)s=this.indexes[d],s>=i&&(this.indexes[d]=s-1);return this.markDirty(),this}replaceValues(i,s,d){return d||(d=s,s={}),this.walkDecls(g=>{s.props&&!s.props.includes(g.prop)||s.fast&&!g.value.includes(s.fast)||(g.value=g.value.replace(i,d))}),this.markDirty(),this}some(i){return this.nodes.some(i)}walk(i){return this.each((s,d)=>{let g;try{g=i(s,d)}catch(b){throw s.addToError(b)}return g!==!1&&s.walk&&(g=s.walk(i)),g})}walkAtRules(i,s){return s?i instanceof RegExp?this.walk((d,g)=>{if(d.type==="atrule"&&i.test(d.name))return s(d,g)}):this.walk((d,g)=>{if(d.type==="atrule"&&d.name===i)return s(d,g)}):(s=i,this.walk((d,g)=>{if(d.type==="atrule")return s(d,g)}))}walkComments(i){return this.walk((s,d)=>{if(s.type==="comment")return i(s,d)})}walkDecls(i,s){return s?i instanceof RegExp?this.walk((d,g)=>{if(d.type==="decl"&&i.test(d.prop))return s(d,g)}):this.walk((d,g)=>{if(d.type==="decl"&&d.prop===i)return s(d,g)}):(s=i,this.walk((d,g)=>{if(d.type==="decl")return s(d,g)}))}walkRules(i,s){return s?i instanceof RegExp?this.walk((d,g)=>{if(d.type==="rule"&&i.test(d.selector))return s(d,g)}):this.walk((d,g)=>{if(d.type==="rule"&&d.selector===i)return s(d,g)}):(s=i,this.walk((d,g)=>{if(d.type==="rule")return s(d,g)}))}}return p.registerParse=o=>{u=o},p.registerRule=o=>{m=o},p.registerAtRule=o=>{f=o},p.registerRoot=o=>{h=o},Ur=p,p.default=p,p.rebuild=o=>{o.type==="atrule"?Object.setPrototypeOf(o,f.prototype):o.type==="rule"?Object.setPrototypeOf(o,m.prototype):o.type==="decl"?Object.setPrototypeOf(o,t.prototype):o.type==="comment"?Object.setPrototypeOf(o,e.prototype):o.type==="root"&&Object.setPrototypeOf(o,h.prototype),o[l]=!0,o.nodes&&o.nodes.forEach(i=>{p.rebuild(i)})},Ur}var $r,ki;function Xn(){if(ki)return $r;ki=1;let e=Xe();class t extends e{constructor(a){super(a),this.type="atrule"}append(...a){return this.proxyOf.nodes||(this.nodes=[]),super.append(...a)}prepend(...a){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...a)}}return $r=t,t.default=t,e.registerAtRule(t),$r}var Fr,Ci;function Qn(){if(Ci)return Fr;Ci=1;let e=Xe(),t,n;class a extends e{constructor(f){super({type:"document",...f}),this.nodes||(this.nodes=[])}toResult(f={}){return new t(new n,this,f).stringify()}}return a.registerLazyResult=l=>{t=l},a.registerProcessor=l=>{n=l},Fr=a,a.default=a,Fr}var zr,Ai;function Zd(){if(Ai)return zr;Ai=1;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return zr={nanoid:(a=21)=>{let l="",f=a|0;for(;f--;)l+=e[Math.random()*64|0];return l},customAlphabet:(a,l=21)=>(f=l)=>{let u="",h=f|0;for(;h--;)u+=a[Math.random()*a.length|0];return u}},zr}var Hr,Oi;function oa(){if(Oi)return Hr;Oi=1;let{existsSync:e,readFileSync:t}=Pe,{dirname:n,join:a}=Pe,{SourceMapConsumer:l,SourceMapGenerator:f}=Pe;function u(m){return Buffer?Buffer.from(m,"base64").toString():window.atob(m)}class h{constructor(c,r){if(r.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let p=r.map?r.map.prev:void 0,o=this.loadMap(r.from,p);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=n(this.mapFile)),o&&(this.text=o)}consumer(){return this.consumerCache||(this.consumerCache=new l(this.text)),this.consumerCache}decodeInline(c){let r=/^data:application\/json;charset=utf-?8;base64,/,p=/^data:application\/json;base64,/,o=/^data:application\/json;charset=utf-?8,/,i=/^data:application\/json,/,s=c.match(o)||c.match(i);if(s)return decodeURIComponent(c.substr(s[0].length));let d=c.match(r)||c.match(p);if(d)return u(c.substr(d[0].length));let g=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+g)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let r=c.match(/\/\*\s*# sourceMappingURL=/g);if(!r)return;let p=c.lastIndexOf(r.pop()),o=c.indexOf("*/",p);p>-1&&o>-1&&(this.annotation=this.getAnnotationURL(c.substring(p,o)))}loadFile(c){if(this.root=n(c),e(c))return this.mapFile=c,t(c,"utf-8").toString().trim()}loadMap(c,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){let p=r(c);if(p){let o=this.loadFile(p);if(!o)throw new Error("Unable to load previous source map: "+p.toString());return o}}else{if(r instanceof l)return f.fromSourceMap(r).toString();if(r instanceof f)return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let p=this.annotation;return c&&(p=a(n(c),p)),this.loadFile(p)}}}startWith(c,r){return c?c.substr(0,r.length)===r:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Hr=h,h.default=h,Hr}var Wr,Pi;function _r(){if(Pi)return Wr;Pi=1;let{nanoid:e}=Zd(),{isAbsolute:t,resolve:n}=Pe,{SourceMapConsumer:a,SourceMapGenerator:l}=Pe,{fileURLToPath:f,pathToFileURL:u}=Pe,h=Kn(),m=oa(),c=Pe,r=Symbol("lineToIndexCache"),p=!!(a&&l),o=!!(n&&t);function i(d){if(d[r])return d[r];let g=d.css.split(`
`),b=new Array(g.length),y=0;for(let _=0,v=g.length;_<v;_++)b[_]=y,y+=g[_].length+1;return d[r]=b,b}class s{get from(){return this.file||this.id}constructor(g,b={}){if(g===null||typeof g>"u"||typeof g=="object"&&!g.toString)throw new Error(`PostCSS received ${g} instead of CSS string`);if(this.css=g.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,b.document&&(this.document=b.document.toString()),b.from&&(!o||/^\w+:\/\//.test(b.from)||t(b.from)?this.file=b.from:this.file=n(b.from)),o&&p){let y=new m(this.css,b);if(y.text){this.map=y;let _=y.consumer().file;!this.file&&_&&(this.file=this.mapResolve(_))}}this.file||(this.id="<input css "+e(6)+">"),this.map&&(this.map.file=this.from)}error(g,b,y,_={}){let v,w,x,C,S;if(b&&typeof b=="object"){let P=b,R=y;if(typeof P.offset=="number"){C=P.offset;let L=this.fromOffset(C);b=L.line,y=L.col}else b=P.line,y=P.column,C=this.fromLineAndColumn(b,y);if(typeof R.offset=="number"){x=R.offset;let L=this.fromOffset(x);w=L.line,v=L.col}else w=R.line,v=R.column,x=this.fromLineAndColumn(R.line,R.column)}else if(y)C=this.fromLineAndColumn(b,y);else{C=b;let P=this.fromOffset(C);b=P.line,y=P.col}let E=this.origin(b,y,w,v);return E?S=new h(g,E.endLine===void 0?E.line:{column:E.column,line:E.line},E.endLine===void 0?E.column:{column:E.endColumn,line:E.endLine},E.source,E.file,_.plugin):S=new h(g,w===void 0?b:{column:y,line:b},w===void 0?y:{column:v,line:w},this.css,this.file,_.plugin),S.input={column:y,endColumn:v,endLine:w,endOffset:x,line:b,offset:C,source:this.css},this.file&&(u&&(S.input.url=u(this.file).toString()),S.input.file=this.file),S}fromLineAndColumn(g,b){return i(this)[g-1]+b-1}fromOffset(g){let b=i(this),y=b[b.length-1],_=0;if(g>=y)_=b.length-1;else{let v=b.length-2,w;for(;_<v;)if(w=_+(v-_>>1),g<b[w])v=w-1;else if(g>=b[w+1])_=w+1;else{_=w;break}}return{col:g-b[_]+1,line:_+1}}mapResolve(g){return/^\w+:\/\//.test(g)?g:n(this.map.consumer().sourceRoot||this.map.root||".",g)}origin(g,b,y,_){if(!this.map)return!1;let v=this.map.consumer(),w=v.originalPositionFor({column:b,line:g});if(!w.source)return!1;let x;typeof y=="number"&&(x=v.originalPositionFor({column:_,line:y}));let C;t(w.source)?C=u(w.source):C=new URL(w.source,this.map.consumer().sourceRoot||u(this.map.mapFile));let S={column:w.column,endColumn:x&&x.column,endLine:x&&x.line,line:w.line,url:C.toString()};if(C.protocol==="file:")if(f)S.file=f(C);else throw new Error("file: protocol is not available in this PostCSS build");let E=v.sourceContentFor(w.source);return E&&(S.source=E),S}toJSON(){let g={};for(let b of["hasBOM","css","file","id"])this[b]!=null&&(g[b]=this[b]);return this.map&&(g.map={...this.map},g.map.consumerCache&&(g.map.consumerCache=void 0)),g}}return Wr=s,s.default=s,c&&c.registerInput&&c.registerInput(s),Wr}var Gr,Ei;function kt(){if(Ei)return Gr;Ei=1;let e=Xe(),t,n;class a extends e{constructor(f){super(f),this.type="root",this.nodes||(this.nodes=[])}normalize(f,u,h){let m=super.normalize(f);if(u){if(h==="prepend")this.nodes.length>1?u.raws.before=this.nodes[1].raws.before:delete u.raws.before;else if(this.first!==u)for(let c of m)c.raws.before=u.raws.before}return m}removeChild(f,u){let h=this.index(f);return!u&&h===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[h].raws.before),super.removeChild(f)}toResult(f={}){return new t(new n,this,f).stringify()}}return a.registerLazyResult=l=>{t=l},a.registerProcessor=l=>{n=l},Gr=a,a.default=a,e.registerRoot(a),Gr}var Jr,Ri;function aa(){if(Ri)return Jr;Ri=1;let e={comma(t){return e.split(t,[","],!0)},space(t){let n=[" ",`
`,"	"];return e.split(t,n)},split(t,n,a){let l=[],f="",u=!1,h=0,m=!1,c="",r=!1;for(let p of t)r?r=!1:p==="\\"?r=!0:m?p===c&&(m=!1):p==='"'||p==="'"?(m=!0,c=p):p==="("?h+=1:p===")"?h>0&&(h-=1):h===0&&n.includes(p)&&(u=!0),u?(f!==""&&l.push(f.trim()),f="",u=!1):f+=p;return(a||f!=="")&&l.push(f.trim()),l}};return Jr=e,e.default=e,Jr}var Kr,Ii;function Zn(){if(Ii)return Kr;Ii=1;let e=Xe(),t=aa();class n extends e{get selectors(){return t.comma(this.selector)}set selectors(l){let f=this.selector?this.selector.match(/,\s*/):null,u=f?f[0]:","+this.raw("between","beforeOpen");this.selector=l.join(u)}constructor(l){super(l),this.type="rule",this.nodes||(this.nodes=[])}}return Kr=n,n.default=n,e.registerRule(n),Kr}var Yr,Li;function ef(){if(Li)return Yr;Li=1;let e=Xn(),t=yr(),n=wr(),a=_r(),l=oa(),f=kt(),u=Zn();function h(m,c){if(Array.isArray(m))return m.map(o=>h(o));let{inputs:r,...p}=m;if(r){c=[];for(let o of r){let i={...o,__proto__:a.prototype};i.map&&(i.map={...i.map,__proto__:l.prototype}),c.push(i)}}if(p.nodes&&(p.nodes=m.nodes.map(o=>h(o,c))),p.source){let{inputId:o,...i}=p.source;p.source=i,o!=null&&(p.source.input=c[o])}if(p.type==="root")return new f(p);if(p.type==="decl")return new n(p);if(p.type==="rule")return new u(p);if(p.type==="comment")return new t(p);if(p.type==="atrule")return new e(p);throw new Error("Unknown node type: "+m.type)}return Yr=h,h.default=h,Yr}var Xr,ji;function la(){if(ji)return Xr;ji=1;let{dirname:e,relative:t,resolve:n,sep:a}=Pe,{SourceMapConsumer:l,SourceMapGenerator:f}=Pe,{pathToFileURL:u}=Pe,h=_r(),m=!!(l&&f),c=!!(e&&n&&t&&a);class r{constructor(o,i,s,d){this.stringify=o,this.mapOpts=s.map||{},this.root=i,this.opts=s,this.css=d,this.originalCSS=d,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let o;this.isInline()?o="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?o=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?o=this.mapOpts.annotation(this.opts.to,this.root):o=this.outputFile()+".map";let i=`
`;this.css.includes(`\r
`)&&(i=`\r
`),this.css+=i+"/*# sourceMappingURL="+o+" */"}applyPrevMaps(){for(let o of this.previous()){let i=this.toUrl(this.path(o.file)),s=o.root||e(o.file),d;this.mapOpts.sourcesContent===!1?(d=new l(o.text),d.sourcesContent&&(d.sourcesContent=null)):d=o.consumer(),this.map.applySourceMap(d,i,this.toUrl(this.path(s)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let o;for(let i=this.root.nodes.length-1;i>=0;i--)o=this.root.nodes[i],o.type==="comment"&&o.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(i)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&m&&this.isMap())return this.generateMap();{let o="";return this.stringify(this.root,i=>{o+=i}),[o]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let o=this.previous()[0].consumer();o.file=this.outputFile(),this.map=f.fromSourceMap(o,{ignoreInvalidMapping:!0})}else this.map=new f({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new f({file:this.outputFile(),ignoreInvalidMapping:!0});let o=1,i=1,s="<no source>",d={generated:{column:0,line:0},original:{column:0,line:0},source:""},g,b;this.stringify(this.root,(y,_,v)=>{if(this.css+=y,_&&v!=="end"&&(d.generated.line=o,d.generated.column=i-1,_.source&&_.source.start?(d.source=this.sourcePath(_),d.original.line=_.source.start.line,d.original.column=_.source.start.column-1,this.map.addMapping(d)):(d.source=s,d.original.line=1,d.original.column=0,this.map.addMapping(d))),b=y.match(/\n/g),b?(o+=b.length,g=y.lastIndexOf(`
`),i=y.length-g):i+=y.length,_&&v!=="start"){let w=_.parent||{raws:{}};(!(_.type==="decl"||_.type==="atrule"&&!_.nodes)||_!==w.last||w.raws.semicolon)&&(_.source&&_.source.end?(d.source=this.sourcePath(_),d.original.line=_.source.end.line,d.original.column=_.source.end.column-1,d.generated.line=o,d.generated.column=i-2,this.map.addMapping(d)):(d.source=s,d.original.line=1,d.original.column=0,d.generated.line=o,d.generated.column=i-1,this.map.addMapping(d)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(o=>o.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let o=this.mapOpts.annotation;return typeof o<"u"&&o!==!0?!1:this.previous().length?this.previous().some(i=>i.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(o=>o.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(o){if(this.mapOpts.absolute||o.charCodeAt(0)===60||/^\w+:\/\//.test(o))return o;let i=this.memoizedPaths.get(o);if(i)return i;let s=this.opts.to?e(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=e(n(s,this.mapOpts.annotation)));let d=t(s,o);return this.memoizedPaths.set(o,d),d}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(o=>{if(o.source&&o.source.input.map){let i=o.source.input.map;this.previousMaps.includes(i)||this.previousMaps.push(i)}});else{let o=new h(this.originalCSS,this.opts);o.map&&this.previousMaps.push(o.map)}return this.previousMaps}setSourcesContent(){let o={};if(this.root)this.root.walk(i=>{if(i.source){let s=i.source.input.from;if(s&&!o[s]){o[s]=!0;let d=this.usesFileUrls?this.toFileUrl(s):this.toUrl(this.path(s));this.map.setSourceContent(d,i.source.input.css)}}});else if(this.css){let i=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(i,this.css)}}sourcePath(o){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(o.source.input.from):this.toUrl(this.path(o.source.input.from))}toBase64(o){return Buffer?Buffer.from(o).toString("base64"):window.btoa(unescape(encodeURIComponent(o)))}toFileUrl(o){let i=this.memoizedFileURLs.get(o);if(i)return i;if(u){let s=u(o).toString();return this.memoizedFileURLs.set(o,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(o){let i=this.memoizedURLs.get(o);if(i)return i;a==="\\"&&(o=o.replace(/\\/g,"/"));let s=encodeURI(o).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(o,s),s}}return Xr=r,Xr}var Qr,Bi;function tf(){if(Bi)return Qr;Bi=1;const e=39,t=34,n=92,a=47,l=10,f=32,u=12,h=9,m=13,c=91,r=93,p=40,o=41,i=123,s=125,d=59,g=42,b=58,y=64,_=/[\t\n\f\r "#'()/;[\\\]{}]/g,v=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,w=/.[\r\n"'(/\\]/,x=/[\da-f]/i;return Qr=function(S,E={}){let P=S.css.valueOf(),R=E.ignoreErrors,L,N,F,B,J,ee,D,G,q,Y,te=P.length,V=0,ie=[],ve=[];function je(){return V}function _e(De){throw S.error("Unclosed "+De,V)}function Ne(){return ve.length===0&&V>=te}function $e(De){if(ve.length)return ve.pop();if(V>=te)return;let Sr=De?De.ignoreUnclosed:!1;switch(L=P.charCodeAt(V),L){case l:case f:case h:case m:case u:{B=V;do B+=1,L=P.charCodeAt(B);while(L===f||L===l||L===h||L===m||L===u);ee=["space",P.slice(V,B)],V=B-1;break}case c:case r:case i:case s:case b:case d:case o:{let us=String.fromCharCode(L);ee=[us,us,V];break}case p:{if(Y=ie.length?ie.pop()[1]:"",q=P.charCodeAt(V+1),Y==="url"&&q!==e&&q!==t&&q!==f&&q!==l&&q!==h&&q!==u&&q!==m){B=V;do{if(D=!1,B=P.indexOf(")",B+1),B===-1)if(R||Sr){B=V;break}else _e("bracket");for(G=B;P.charCodeAt(G-1)===n;)G-=1,D=!D}while(D);ee=["brackets",P.slice(V,B+1),V,B],V=B}else B=P.indexOf(")",V+1),N=P.slice(V,B+1),B===-1||w.test(N)?ee=["(","(",V]:(ee=["brackets",N,V,B],V=B);break}case e:case t:{J=L===e?"'":'"',B=V;do{if(D=!1,B=P.indexOf(J,B+1),B===-1)if(R||Sr){B=V+1;break}else _e("string");for(G=B;P.charCodeAt(G-1)===n;)G-=1,D=!D}while(D);ee=["string",P.slice(V,B+1),V,B],V=B;break}case y:{_.lastIndex=V+1,_.test(P),_.lastIndex===0?B=P.length-1:B=_.lastIndex-2,ee=["at-word",P.slice(V,B+1),V,B],V=B;break}case n:{for(B=V,F=!0;P.charCodeAt(B+1)===n;)B+=1,F=!F;if(L=P.charCodeAt(B+1),F&&L!==a&&L!==f&&L!==l&&L!==h&&L!==m&&L!==u&&(B+=1,x.test(P.charAt(B)))){for(;x.test(P.charAt(B+1));)B+=1;P.charCodeAt(B+1)===f&&(B+=1)}ee=["word",P.slice(V,B+1),V,B],V=B;break}default:{L===a&&P.charCodeAt(V+1)===g?(B=P.indexOf("*/",V+2)+1,B===0&&(R||Sr?B=P.length:_e("comment")),ee=["comment",P.slice(V,B+1),V,B],V=B):(v.lastIndex=V+1,v.test(P),v.lastIndex===0?B=P.length-1:B=v.lastIndex-2,ee=["word",P.slice(V,B+1),V,B],ie.push(ee),V=B);break}}return V++,ee}function Ze(De){ve.push(De)}return{back:Ze,endOfFile:Ne,nextToken:$e,position:je}},Qr}var Zr,Ti;function rf(){if(Ti)return Zr;Ti=1;let e=Xn(),t=yr(),n=wr(),a=kt(),l=Zn(),f=tf();const u={empty:!0,space:!0};function h(c){for(let r=c.length-1;r>=0;r--){let p=c[r],o=p[3]||p[2];if(o)return o}}class m{constructor(r){this.input=r,this.root=new a,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:r,start:{column:1,line:1,offset:0}}}atrule(r){let p=new e;p.name=r[1].slice(1),p.name===""&&this.unnamedAtrule(p,r),this.init(p,r[2]);let o,i,s,d=!1,g=!1,b=[],y=[];for(;!this.tokenizer.endOfFile();){if(r=this.tokenizer.nextToken(),o=r[0],o==="("||o==="["?y.push(o==="("?")":"]"):o==="{"&&y.length>0?y.push("}"):o===y[y.length-1]&&y.pop(),y.length===0)if(o===";"){p.source.end=this.getPosition(r[2]),p.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){g=!0;break}else if(o==="}"){if(b.length>0){for(s=b.length-1,i=b[s];i&&i[0]==="space";)i=b[--s];i&&(p.source.end=this.getPosition(i[3]||i[2]),p.source.end.offset++)}this.end(r);break}else b.push(r);else b.push(r);if(this.tokenizer.endOfFile()){d=!0;break}}p.raws.between=this.spacesAndCommentsFromEnd(b),b.length?(p.raws.afterName=this.spacesAndCommentsFromStart(b),this.raw(p,"params",b),d&&(r=b[b.length-1],p.source.end=this.getPosition(r[3]||r[2]),p.source.end.offset++,this.spaces=p.raws.between,p.raws.between="")):(p.raws.afterName="",p.params=""),g&&(p.nodes=[],this.current=p)}checkMissedSemicolon(r){let p=this.colon(r);if(p===!1)return;let o=0,i;for(let s=p-1;s>=0&&(i=r[s],!(i[0]!=="space"&&(o+=1,o===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(r){let p=0,o,i,s;for(let[d,g]of r.entries()){if(i=g,s=i[0],s==="("&&(p+=1),s===")"&&(p-=1),p===0&&s===":")if(!o)this.doubleColon(i);else{if(o[0]==="word"&&o[1]==="progid")continue;return d}o=i}return!1}comment(r){let p=new t;this.init(p,r[2]),p.source.end=this.getPosition(r[3]||r[2]),p.source.end.offset++;let o=r[1].slice(2,-2);if(/^\s*$/.test(o))p.text="",p.raws.left=o,p.raws.right="";else{let i=o.match(/^(\s*)([^]*\S)(\s*)$/);p.text=i[2],p.raws.left=i[1],p.raws.right=i[3]}}createTokenizer(){this.tokenizer=f(this.input)}decl(r,p){let o=new n;this.init(o,r[0][2]);let i=r[r.length-1];for(i[0]===";"&&(this.semicolon=!0,r.pop()),o.source.end=this.getPosition(i[3]||i[2]||h(r)),o.source.end.offset++;r[0][0]!=="word";)r.length===1&&this.unknownWord(r),o.raws.before+=r.shift()[1];for(o.source.start=this.getPosition(r[0][2]),o.prop="";r.length;){let y=r[0][0];if(y===":"||y==="space"||y==="comment")break;o.prop+=r.shift()[1]}o.raws.between="";let s;for(;r.length;)if(s=r.shift(),s[0]===":"){o.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),o.raws.between+=s[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));let d=[],g;for(;r.length&&(g=r[0][0],!(g!=="space"&&g!=="comment"));)d.push(r.shift());this.precheckMissedSemicolon(r);for(let y=r.length-1;y>=0;y--){if(s=r[y],s[1].toLowerCase()==="!important"){o.important=!0;let _=this.stringFrom(r,y);_=this.spacesFromEnd(r)+_,_!==" !important"&&(o.raws.important=_);break}else if(s[1].toLowerCase()==="important"){let _=r.slice(0),v="";for(let w=y;w>0;w--){let x=_[w][0];if(v.trim().startsWith("!")&&x!=="space")break;v=_.pop()[1]+v}v.trim().startsWith("!")&&(o.important=!0,o.raws.important=v,r=_)}if(s[0]!=="space"&&s[0]!=="comment")break}r.some(y=>y[0]!=="space"&&y[0]!=="comment")&&(o.raws.between+=d.map(y=>y[1]).join(""),d=[]),this.raw(o,"value",d.concat(r),p),o.value.includes(":")&&!p&&this.checkMissedSemicolon(r)}doubleColon(r){throw this.input.error("Double colon",{offset:r[2]},{offset:r[2]+r[1].length})}emptyRule(r){let p=new l;this.init(p,r[2]),p.selector="",p.raws.between="",this.current=p}end(r){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(r[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(r)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(r){if(this.spaces+=r[1],this.current.nodes){let p=this.current.nodes[this.current.nodes.length-1];p&&p.type==="rule"&&!p.raws.ownSemicolon&&(p.raws.ownSemicolon=this.spaces,this.spaces="",p.source.end=this.getPosition(r[2]),p.source.end.offset+=p.raws.ownSemicolon.length)}}getPosition(r){let p=this.input.fromOffset(r);return{column:p.col,line:p.line,offset:r}}init(r,p){this.current.push(r),r.source={input:this.input,start:this.getPosition(p)},r.raws.before=this.spaces,this.spaces="",r.type!=="comment"&&(this.semicolon=!1)}other(r){let p=!1,o=null,i=!1,s=null,d=[],g=r[1].startsWith("--"),b=[],y=r;for(;y;){if(o=y[0],b.push(y),o==="("||o==="[")s||(s=y),d.push(o==="("?")":"]");else if(g&&i&&o==="{")s||(s=y),d.push("}");else if(d.length===0)if(o===";")if(i){this.decl(b,g);return}else break;else if(o==="{"){this.rule(b);return}else if(o==="}"){this.tokenizer.back(b.pop()),p=!0;break}else o===":"&&(i=!0);else o===d[d.length-1]&&(d.pop(),d.length===0&&(s=null));y=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(p=!0),d.length>0&&this.unclosedBracket(s),p&&i){if(!g)for(;b.length&&(y=b[b.length-1][0],!(y!=="space"&&y!=="comment"));)this.tokenizer.back(b.pop());this.decl(b,g)}else this.unknownWord(b)}parse(){let r;for(;!this.tokenizer.endOfFile();)switch(r=this.tokenizer.nextToken(),r[0]){case"space":this.spaces+=r[1];break;case";":this.freeSemicolon(r);break;case"}":this.end(r);break;case"comment":this.comment(r);break;case"at-word":this.atrule(r);break;case"{":this.emptyRule(r);break;default:this.other(r);break}this.endFile()}precheckMissedSemicolon(){}raw(r,p,o,i){let s,d,g=o.length,b="",y=!0,_,v;for(let w=0;w<g;w+=1)s=o[w],d=s[0],d==="space"&&w===g-1&&!i?y=!1:d==="comment"?(v=o[w-1]?o[w-1][0]:"empty",_=o[w+1]?o[w+1][0]:"empty",!u[v]&&!u[_]?b.slice(-1)===","?y=!1:b+=s[1]:y=!1):b+=s[1];if(!y){let w=o.reduce((x,C)=>x+C[1],"");r.raws[p]={raw:w,value:b}}r[p]=b}rule(r){r.pop();let p=new l;this.init(p,r[0][2]),p.raws.between=this.spacesAndCommentsFromEnd(r),this.raw(p,"selector",r),this.current=p}spacesAndCommentsFromEnd(r){let p,o="";for(;r.length&&(p=r[r.length-1][0],!(p!=="space"&&p!=="comment"));)o=r.pop()[1]+o;return o}spacesAndCommentsFromStart(r){let p,o="";for(;r.length&&(p=r[0][0],!(p!=="space"&&p!=="comment"));)o+=r.shift()[1];return o}spacesFromEnd(r){let p,o="";for(;r.length&&(p=r[r.length-1][0],p==="space");)o=r.pop()[1]+o;return o}stringFrom(r,p){let o="";for(let i=p;i<r.length;i++)o+=r[i][1];return r.splice(p,r.length-p),o}unclosedBlock(){let r=this.current.source.start;throw this.input.error("Unclosed block",r.line,r.column)}unclosedBracket(r){throw this.input.error("Unclosed bracket",{offset:r[2]},{offset:r[2]+1})}unexpectedClose(r){throw this.input.error("Unexpected }",{offset:r[2]},{offset:r[2]+1})}unknownWord(r){throw this.input.error("Unknown word "+r[0][1],{offset:r[0][2]},{offset:r[0][2]+r[0][1].length})}unnamedAtrule(r,p){throw this.input.error("At-rule without name",{offset:p[2]},{offset:p[2]+p[1].length})}}return Zr=m,Zr}var en,Mi;function es(){if(Mi)return en;Mi=1;let e=Xe(),t=_r(),n=rf();function a(l,f){let u=new t(l,f),h=new n(u);try{h.parse()}catch(m){throw m}return h.root}return en=a,a.default=a,e.registerParse(a),en}var tn,Ni;function ua(){if(Ni)return tn;Ni=1;class e{constructor(n,a={}){if(this.type="warning",this.text=n,a.node&&a.node.source){let l=a.node.rangeBy(a);this.line=l.start.line,this.column=l.start.column,this.endLine=l.end.line,this.endColumn=l.end.column}for(let l in a)this[l]=a[l]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return tn=e,e.default=e,tn}var rn,Di;function ts(){if(Di)return rn;Di=1;let e=ua();class t{get content(){return this.css}constructor(a,l,f){this.processor=a,this.messages=[],this.root=l,this.opts=f,this.css="",this.map=void 0}toString(){return this.css}warn(a,l={}){l.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(l.plugin=this.lastPlugin.postcssPlugin);let f=new e(a,l);return this.messages.push(f),f}warnings(){return this.messages.filter(a=>a.type==="warning")}}return rn=t,t.default=t,rn}var nn,qi;function ca(){if(qi)return nn;qi=1;let e=Xe(),t=Qn(),n=la(),a=es(),l=ts(),f=kt(),u=vr(),{isClean:h,my:m}=Yn();const c={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},r={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},p={Once:!0,postcssPlugin:!0,prepare:!0},o=0;function i(_){return typeof _=="object"&&typeof _.then=="function"}function s(_){let v=!1,w=c[_.type];return _.type==="decl"?v=_.prop.toLowerCase():_.type==="atrule"&&(v=_.name.toLowerCase()),v&&_.append?[w,w+"-"+v,o,w+"Exit",w+"Exit-"+v]:v?[w,w+"-"+v,w+"Exit",w+"Exit-"+v]:_.append?[w,o,w+"Exit"]:[w,w+"Exit"]}function d(_){let v;return _.type==="document"?v=["Document",o,"DocumentExit"]:_.type==="root"?v=["Root",o,"RootExit"]:v=s(_),{eventIndex:0,events:v,iterator:0,node:_,visitorIndex:0,visitors:[]}}function g(_){return _[h]=!1,_.nodes&&_.nodes.forEach(v=>g(v)),_}let b={};class y{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(v,w,x){this.stringified=!1,this.processed=!1;let C;if(typeof w=="object"&&w!==null&&(w.type==="root"||w.type==="document"))C=g(w);else if(w instanceof y||w instanceof l)C=g(w.root),w.map&&(typeof x.map>"u"&&(x.map={}),x.map.inline||(x.map.inline=!1),x.map.prev=w.map);else{let S=a;x.syntax&&(S=x.syntax.parse),x.parser&&(S=x.parser),S.parse&&(S=S.parse);try{C=S(w,x)}catch(E){this.processed=!0,this.error=E}C&&!C[m]&&e.rebuild(C)}this.result=new l(v,C,x),this.helpers={...b,postcss:b,result:this.result},this.plugins=this.processor.plugins.map(S=>typeof S=="object"&&S.prepare?{...S,...S.prepare(this.result)}:S)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(v,w){let x=this.result.lastPlugin;try{w&&w.addToError(v),this.error=v,v.name==="CssSyntaxError"&&!v.plugin?(v.plugin=x.postcssPlugin,v.setMessage()):x.postcssVersion}catch(C){console&&console.error&&console.error(C)}return v}prepareVisitors(){this.listeners={};let v=(w,x,C)=>{this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push([w,C])};for(let w of this.plugins)if(typeof w=="object")for(let x in w){if(!r[x]&&/^[A-Z]/.test(x))throw new Error(`Unknown event ${x} in ${w.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!p[x])if(typeof w[x]=="object")for(let C in w[x])C==="*"?v(w,x,w[x][C]):v(w,x+"-"+C.toLowerCase(),w[x][C]);else typeof w[x]=="function"&&v(w,x,w[x])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let v=0;v<this.plugins.length;v++){let w=this.plugins[v],x=this.runOnRoot(w);if(i(x))try{await x}catch(C){throw this.handleError(C)}}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[h];){v[h]=!0;let w=[d(v)];for(;w.length>0;){let x=this.visitTick(w);if(i(x))try{await x}catch(C){let S=w[w.length-1].node;throw this.handleError(C,S)}}}if(this.listeners.OnceExit)for(let[w,x]of this.listeners.OnceExit){this.result.lastPlugin=w;try{if(v.type==="document"){let C=v.nodes.map(S=>x(S,this.helpers));await Promise.all(C)}else await x(v,this.helpers)}catch(C){throw this.handleError(C)}}}return this.processed=!0,this.stringify()}runOnRoot(v){this.result.lastPlugin=v;try{if(typeof v=="object"&&v.Once){if(this.result.root.type==="document"){let w=this.result.root.nodes.map(x=>v.Once(x,this.helpers));return i(w[0])?Promise.all(w):w}return v.Once(this.result.root,this.helpers)}else if(typeof v=="function")return v(this.result.root,this.result)}catch(w){throw this.handleError(w)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let v=this.result.opts,w=u;v.syntax&&(w=v.syntax.stringify),v.stringifier&&(w=v.stringifier),w.stringify&&(w=w.stringify);let C=new n(w,this.result.root,this.result.opts).generate();return this.result.css=C[0],this.result.map=C[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let v of this.plugins){let w=this.runOnRoot(v);if(i(w))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[h];)v[h]=!0,this.walkSync(v);if(this.listeners.OnceExit)if(v.type==="document")for(let w of v.nodes)this.visitSync(this.listeners.OnceExit,w);else this.visitSync(this.listeners.OnceExit,v)}return this.result}then(v,w){return this.async().then(v,w)}toString(){return this.css}visitSync(v,w){for(let[x,C]of v){this.result.lastPlugin=x;let S;try{S=C(w,this.helpers)}catch(E){throw this.handleError(E,w.proxyOf)}if(w.type!=="root"&&w.type!=="document"&&!w.parent)return!0;if(i(S))throw this.getAsyncError()}}visitTick(v){let w=v[v.length-1],{node:x,visitors:C}=w;if(x.type!=="root"&&x.type!=="document"&&!x.parent){v.pop();return}if(C.length>0&&w.visitorIndex<C.length){let[E,P]=C[w.visitorIndex];w.visitorIndex+=1,w.visitorIndex===C.length&&(w.visitors=[],w.visitorIndex=0),this.result.lastPlugin=E;try{return P(x.toProxy(),this.helpers)}catch(R){throw this.handleError(R,x)}}if(w.iterator!==0){let E=w.iterator,P;for(;P=x.nodes[x.indexes[E]];)if(x.indexes[E]+=1,!P[h]){P[h]=!0,v.push(d(P));return}w.iterator=0,delete x.indexes[E]}let S=w.events;for(;w.eventIndex<S.length;){let E=S[w.eventIndex];if(w.eventIndex+=1,E===o){x.nodes&&x.nodes.length&&(x[h]=!0,w.iterator=x.getIterator());return}else if(this.listeners[E]){w.visitors=this.listeners[E];return}}v.pop()}walkSync(v){v[h]=!0;let w=s(v);for(let x of w)if(x===o)v.nodes&&v.each(C=>{C[h]||this.walkSync(C)});else{let C=this.listeners[x];if(C&&this.visitSync(C,v.toProxy()))return}}warnings(){return this.sync().warnings()}}return y.registerPostcss=_=>{b=_},nn=y,y.default=y,f.registerLazyResult(y),t.registerLazyResult(y),nn}var sn,Vi;function nf(){if(Vi)return sn;Vi=1;let e=la(),t=es();const n=ts();let a=vr();class l{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let u,h=t;try{u=h(this._css,this._opts)}catch(m){this.error=m}if(this.error)throw this.error;return this._root=u,u}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(u,h,m){h=h.toString(),this.stringified=!1,this._processor=u,this._css=h,this._opts=m,this._map=void 0;let c,r=a;this.result=new n(this._processor,c,this._opts),this.result.css=h;let p=this;Object.defineProperty(this.result,"root",{get(){return p.root}});let o=new e(r,c,this._opts,h);if(o.isMap()){let[i,s]=o.generate();i&&(this.result.css=i),s&&(this.result.map=s)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(u){return this.async().catch(u)}finally(u){return this.async().then(u,u)}sync(){if(this.error)throw this.error;return this.result}then(u,h){return this.async().then(u,h)}toString(){return this._css}warnings(){return[]}}return sn=l,l.default=l,sn}var on,Ui;function sf(){if(Ui)return on;Ui=1;let e=Qn(),t=ca(),n=nf(),a=kt();class l{constructor(u=[]){this.version="8.5.6",this.plugins=this.normalize(u)}normalize(u){let h=[];for(let m of u)if(m.postcss===!0?m=m():m.postcss&&(m=m.postcss),typeof m=="object"&&Array.isArray(m.plugins))h=h.concat(m.plugins);else if(typeof m=="object"&&m.postcssPlugin)h.push(m);else if(typeof m=="function")h.push(m);else if(!(typeof m=="object"&&(m.parse||m.stringify)))throw new Error(m+" is not a PostCSS plugin");return h}process(u,h={}){return!this.plugins.length&&!h.parser&&!h.stringifier&&!h.syntax?new n(this,u,h):new t(this,u,h)}use(u){return this.plugins=this.plugins.concat(this.normalize([u])),this}}return on=l,l.default=l,a.registerProcessor(l),e.registerProcessor(l),on}var an,$i;function of(){if($i)return an;$i=1;var e={};let t=Xn(),n=yr(),a=Xe(),l=Kn(),f=wr(),u=Qn(),h=ef(),m=_r(),c=ca(),r=aa(),p=br(),o=es(),i=sf(),s=ts(),d=kt(),g=Zn(),b=vr(),y=ua();function _(...v){return v.length===1&&Array.isArray(v[0])&&(v=v[0]),new i(v)}return _.plugin=function(w,x){let C=!1;function S(...P){console&&console.warn&&!C&&(C=!0,console.warn(w+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),e.LANG&&e.LANG.startsWith("cn")&&console.warn(w+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let R=x(...P);return R.postcssPlugin=w,R.postcssVersion=new i().version,R}let E;return Object.defineProperty(S,"postcss",{get(){return E||(E=S()),E}}),S.process=function(P,R,L){return _([S(L)]).process(P,R)},S},_.stringify=b,_.parse=o,_.fromJSON=h,_.list=r,_.comment=v=>new n(v),_.atRule=v=>new t(v),_.decl=v=>new f(v),_.rule=v=>new g(v),_.root=v=>new d(v),_.document=v=>new u(v),_.CssSyntaxError=l,_.Declaration=f,_.Container=a,_.Processor=i,_.Document=u,_.Comment=n,_.Warning=y,_.AtRule=t,_.Result=s,_.Input=m,_.Rule=g,_.Root=d,_.Node=p,c.registerPostcss(_),an=_,_.default=_,an}var af=of();const ne=An(af);ne.stringify;ne.fromJSON;ne.plugin;const da=ne.parse;ne.list;ne.document;ne.comment;ne.atRule;ne.rule;ne.decl;ne.root;ne.CssSyntaxError;ne.Declaration;ne.Container;ne.Processor;ne.Document;ne.Comment;ne.Warning;ne.AtRule;ne.Result;ne.Input;ne.Rule;ne.Root;ne.Node;var ln,Fi;function lf(){if(Fi)return ln;Fi=1;var e=40,t=41,n=39,a=34,l=92,f=47,u=44,h=58,m=42,c=117,r=85,p=43,o=/^[a-f0-9?-]+$/i;return ln=function(i){for(var s=[],d=i,g,b,y,_,v,w,x,C,S=0,E=d.charCodeAt(S),P=d.length,R=[{nodes:s}],L=0,N,F="",B="",J="";S<P;)if(E<=32){g=S;do g+=1,E=d.charCodeAt(g);while(E<=32);_=d.slice(S,g),y=s[s.length-1],E===t&&L?J=_:y&&y.type==="div"?(y.after=_,y.sourceEndIndex+=_.length):E===u||E===h||E===f&&d.charCodeAt(g+1)!==m&&(!N||N&&N.type==="function"&&N.value!=="calc")?B=_:s.push({type:"space",sourceIndex:S,sourceEndIndex:g,value:_}),S=g}else if(E===n||E===a){g=S,b=E===n?"'":'"',_={type:"string",sourceIndex:S,quote:b};do if(v=!1,g=d.indexOf(b,g+1),~g)for(w=g;d.charCodeAt(w-1)===l;)w-=1,v=!v;else d+=b,g=d.length-1,_.unclosed=!0;while(v);_.value=d.slice(S+1,g),_.sourceEndIndex=_.unclosed?g:g+1,s.push(_),S=g+1,E=d.charCodeAt(S)}else if(E===f&&d.charCodeAt(S+1)===m)g=d.indexOf("*/",S),_={type:"comment",sourceIndex:S,sourceEndIndex:g+2},g===-1&&(_.unclosed=!0,g=d.length,_.sourceEndIndex=g),_.value=d.slice(S+2,g),s.push(_),S=g+2,E=d.charCodeAt(S);else if((E===f||E===m)&&N&&N.type==="function"&&N.value==="calc")_=d[S],s.push({type:"word",sourceIndex:S-B.length,sourceEndIndex:S+_.length,value:_}),S+=1,E=d.charCodeAt(S);else if(E===f||E===u||E===h)_=d[S],s.push({type:"div",sourceIndex:S-B.length,sourceEndIndex:S+_.length,value:_,before:B,after:""}),B="",S+=1,E=d.charCodeAt(S);else if(e===E){g=S;do g+=1,E=d.charCodeAt(g);while(E<=32);if(C=S,_={type:"function",sourceIndex:S-F.length,value:F,before:d.slice(C+1,g)},S=g,F==="url"&&E!==n&&E!==a){g-=1;do if(v=!1,g=d.indexOf(")",g+1),~g)for(w=g;d.charCodeAt(w-1)===l;)w-=1,v=!v;else d+=")",g=d.length-1,_.unclosed=!0;while(v);x=g;do x-=1,E=d.charCodeAt(x);while(E<=32);C<x?(S!==x+1?_.nodes=[{type:"word",sourceIndex:S,sourceEndIndex:x+1,value:d.slice(S,x+1)}]:_.nodes=[],_.unclosed&&x+1!==g?(_.after="",_.nodes.push({type:"space",sourceIndex:x+1,sourceEndIndex:g,value:d.slice(x+1,g)})):(_.after=d.slice(x+1,g),_.sourceEndIndex=g)):(_.after="",_.nodes=[]),S=g+1,_.sourceEndIndex=_.unclosed?g:S,E=d.charCodeAt(S),s.push(_)}else L+=1,_.after="",_.sourceEndIndex=S+1,s.push(_),R.push(_),s=_.nodes=[],N=_;F=""}else if(t===E&&L)S+=1,E=d.charCodeAt(S),N.after=J,N.sourceEndIndex+=J.length,J="",L-=1,R[R.length-1].sourceEndIndex=S,R.pop(),N=R[L],s=N.nodes;else{g=S;do E===l&&(g+=1),g+=1,E=d.charCodeAt(g);while(g<P&&!(E<=32||E===n||E===a||E===u||E===h||E===f||E===e||E===m&&N&&N.type==="function"&&N.value==="calc"||E===f&&N.type==="function"&&N.value==="calc"||E===t&&L));_=d.slice(S,g),e===E?F=_:(c===_.charCodeAt(0)||r===_.charCodeAt(0))&&p===_.charCodeAt(1)&&o.test(_.slice(2))?s.push({type:"unicode-range",sourceIndex:S,sourceEndIndex:g,value:_}):s.push({type:"word",sourceIndex:S,sourceEndIndex:g,value:_}),S=g}for(S=R.length-1;S;S-=1)R[S].unclosed=!0,R[S].sourceEndIndex=d.length;return R[0].nodes},ln}var un,zi;function uf(){return zi||(zi=1,un=function e(t,n,a){var l,f,u,h;for(l=0,f=t.length;l<f;l+=1)u=t[l],a||(h=n(u,l,t)),h!==!1&&u.type==="function"&&Array.isArray(u.nodes)&&e(u.nodes,n,a),a&&n(u,l,t)}),un}var cn,Hi;function cf(){if(Hi)return cn;Hi=1;function e(n,a){var l=n.type,f=n.value,u,h;return a&&(h=a(n))!==void 0?h:l==="word"||l==="space"?f:l==="string"?(u=n.quote||"",u+f+(n.unclosed?"":u)):l==="comment"?"/*"+f+(n.unclosed?"":"*/"):l==="div"?(n.before||"")+f+(n.after||""):Array.isArray(n.nodes)?(u=t(n.nodes,a),l!=="function"?u:f+"("+(n.before||"")+u+(n.after||"")+(n.unclosed?"":")")):f}function t(n,a){var l,f;if(Array.isArray(n)){for(l="",f=n.length-1;~f;f-=1)l=e(n[f],a)+l;return l}return e(n,a)}return cn=t,cn}var dn,Wi;function df(){if(Wi)return dn;Wi=1;var e=45,t=43,n=46,a=101,l=69;function f(u){var h=u.charCodeAt(0),m;if(h===t||h===e){if(m=u.charCodeAt(1),m>=48&&m<=57)return!0;var c=u.charCodeAt(2);return m===n&&c>=48&&c<=57}return h===n?(m=u.charCodeAt(1),m>=48&&m<=57):h>=48&&h<=57}return dn=function(u){var h=0,m=u.length,c,r,p;if(m===0||!f(u))return!1;for(c=u.charCodeAt(h),(c===t||c===e)&&h++;h<m&&(c=u.charCodeAt(h),!(c<48||c>57));)h+=1;if(c=u.charCodeAt(h),r=u.charCodeAt(h+1),c===n&&r>=48&&r<=57)for(h+=2;h<m&&(c=u.charCodeAt(h),!(c<48||c>57));)h+=1;if(c=u.charCodeAt(h),r=u.charCodeAt(h+1),p=u.charCodeAt(h+2),(c===a||c===l)&&(r>=48&&r<=57||(r===t||r===e)&&p>=48&&p<=57))for(h+=r===t||r===e?3:2;h<m&&(c=u.charCodeAt(h),!(c<48||c>57));)h+=1;return{number:u.slice(0,h),unit:u.slice(h)}},dn}var fn,Gi;function ff(){if(Gi)return fn;Gi=1;var e=lf(),t=uf(),n=cf();function a(l){return this instanceof a?(this.nodes=e(l),this):new a(l)}return a.prototype.toString=function(){return Array.isArray(this.nodes)?n(this.nodes):""},a.prototype.walk=function(l,f){return t(this.nodes,l,f),this},a.unit=df(),a.walk=t,a.stringify=n,fn=a,fn}var hf=ff();const Me=An(hf),pf=e=>e.type===CSSRule.FONT_FACE_RULE,Ji=e=>e.displayOutside==="inline"||e.display.startsWith("inline-"),tr=e=>e.position!=="static",Ki=e=>e.float!=="none"&&e.position!=="absolute"&&e.position!=="fixed",rs=e=>e==="transparent"||e==="rgba(0, 0, 0, 0)",wn=e=>parseFloat(e.borderTopWidth)!==0&&e.borderTopStyle!=="none"&&e.borderTopStyle!=="inset"&&e.borderTopStyle!=="outset"&&!rs(e.borderTopColor)&&e.borderTopWidth===e.borderLeftWidth&&e.borderTopWidth===e.borderRightWidth&&e.borderTopWidth===e.borderBottomWidth&&e.borderTopColor===e.borderLeftColor&&e.borderTopColor===e.borderRightColor&&e.borderTopColor===e.borderBottomColor&&e.borderTopStyle===e.borderLeftStyle&&e.borderTopStyle===e.borderRightStyle&&e.borderTopStyle===e.borderBottomStyle,mf=["top","bottom","right","left"],or=e=>e==="bottom"||e==="top",rr={top:["left","right"],bottom:["left","right"],left:["top","bottom"],right:["top","bottom"]};function _n(e,t,n){var a,l,f,u;const[h,m]=t.getPropertyValue(or(e)?`border-${e}-${rr[e][0]}-radius`:`border-${rr[e][0]}-${e}-radius`).split(" "),[c,r]=t.getPropertyValue(or(e)?`border-${e}-${rr[e][1]}-radius`:`border-${rr[e][1]}-${e}-radius`).split(" ");return or(e)?[(a=fe(h||"0px",n.width))!==null&&a!==void 0?a:0,(l=fe(c||"0px",n.width))!==null&&l!==void 0?l:0]:[(f=fe(m||h||"0px",n.height))!==null&&f!==void 0?f:0,(u=fe(r||c||"0px",n.height))!==null&&u!==void 0?u:0]}const gf=(e,t)=>Math.min(...mf.map(n=>{const a=or(n)?t.width:t.height,l=_n(n,e,t).reduce((f,u)=>f+u,0);return a/l}),1),ns=e=>e.displayOutside!=="none"&&e.display!=="none"&&e.visibility!=="hidden"&&e.opacity!=="0";function fe(e,t){if(e.endsWith("px"))return parseFloat(e);if(e.endsWith("%"))return parseFloat(e)/100*t}const xr=e=>e.replace(/\\([\da-f]{1,2})/gi,(t,n)=>String.fromCodePoint(parseInt(n,16))).replace(/\\(.)/g,"$1");function vf(e,t){for(const n of e)t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}const se="http://www.w3.org/2000/svg",bf="http://www.w3.org/1999/xlink",yf="http://www.w3.org/1999/xhtml",fa=e=>e.nodeType===Node.ELEMENT_NODE,ha=e=>e.nodeType===Node.TEXT_NODE,Qe=e=>e.namespaceURI===se,pa=e=>Qe(e)&&e.tagName==="svg",Yi=e=>Qe(e)&&"getCTM"in e&&"getScreenCTM"in e,wf=e=>Qe(e)&&e.tagName==="a",_f=e=>Qe(e)&&"textLength"in e,xf=e=>e.tagName==="image"&&Qe(e),Sf=e=>e.tagName==="style"&&Qe(e),He=e=>e.namespaceURI===yf,kf=e=>e.tagName==="A"&&He(e),Cf=e=>e.tagName==="IMG"&&He(e),Af=e=>e.tagName==="INPUT"&&He(e),Of=e=>"labels"in e,Pf=new Set(["clipPath","contain","filter","isolation","mask","maskBorder","maskImage","mixBlendMode","opacity","perspective","position","transform","webkitOverflowScrolling","zIndex"]);function ar(e,t){return!!((e.position==="absolute"||e.position==="relative")&&e.zIndex!=="auto"||e.position==="fixed"||e.position==="sticky"||t&&(t.display==="flex"||t.display==="grid")&&e.zIndex!=="auto"||parseFloat(e.opacity)!==1||e.mixBlendMode!=="normal"||e.transform!=="none"||e.filter!=="none"||e.perspective!=="none"||e.clipPath!=="none"||e.mask!=="none"||e.maskImage!=="none"||e.maskBorder!=="none"||e.isolation==="isolate"||e.webkitOverflowScrolling==="touch"||e.contain==="layout"||e.contain==="paint"||e.contain==="strict"||e.contain==="content"||e.willChange.split(",").some(n=>Pf.has(n.trim())))}const Ef=["rootBackgroundAndBorders","childStackingContextsWithNegativeStackLevels","inFlowNonInlineNonPositionedDescendants","nonPositionedFloats","inFlowInlineLevelNonPositionedDescendants","childStackingContextsWithStackLevelZeroAndPositionedDescendantsWithStackLevelZero","childStackingContextsWithPositiveStackLevels"];function Fe(e,t){const n=e.ownerDocument.createElementNS(se,"g");return n.dataset.stackingLayer=t,e.append(n),n}function ma(e){return e.dataset.stackingContext="true",{rootBackgroundAndBorders:Fe(e,"rootBackgroundAndBorders"),childStackingContextsWithNegativeStackLevels:Fe(e,"childStackingContextsWithNegativeStackLevels"),inFlowNonInlineNonPositionedDescendants:Fe(e,"inFlowNonInlineNonPositionedDescendants"),nonPositionedFloats:Fe(e,"nonPositionedFloats"),inFlowInlineLevelNonPositionedDescendants:Fe(e,"inFlowInlineLevelNonPositionedDescendants"),childStackingContextsWithStackLevelZeroAndPositionedDescendantsWithStackLevelZero:Fe(e,"childStackingContextsWithStackLevelZeroAndPositionedDescendantsWithStackLevelZero"),childStackingContextsWithPositiveStackLevels:Fe(e,"childStackingContextsWithPositiveStackLevels")}}function Rf(e,t){const n=e.zIndex!=="auto"?parseInt(e.zIndex,10):void 0;if(n!==void 0&&n<0&&ar(e,t))return"childStackingContextsWithNegativeStackLevels";if(Ki(e)&&!Ji(e)&&!tr(e))return"inFlowNonInlineNonPositionedDescendants";if(!tr(e)&&e.float!=="none")return"nonPositionedFloats";if(Ki(e)&&Ji(e)&&!tr(e))return"inFlowInlineLevelNonPositionedDescendants";if(n===0&&(tr(e)||ar(e,t)))return"childStackingContextsWithStackLevelZeroAndPositionedDescendantsWithStackLevelZero";if(n!==void 0&&n>0&&ar(e,t))return"childStackingContextsWithPositiveStackLevels"}function Xi(e){const t=[...e.children].sort((n,a)=>{const l=n.dataset.zIndex,f=a.dataset.zIndex;return!l||!f?0:parseInt(l,10)-parseInt(f,10)});for(const n of t)e.append(n)}function If(e){Xi(e.childStackingContextsWithNegativeStackLevels),Xi(e.childStackingContextsWithPositiveStackLevels)}function Lf(e){for(const t of Ef){const n=e[t];n.hasChildNodes()||n.remove()}}const Qi=e=>!e.closest('article, aside, main, nav, section, [role="article"], [role="complementary"], [role="main"], [role="navigation"], [role="region"]');function jf(e,{labels:t,getUniqueId:n}){var a,l,f;const u=new Map;switch(e.tagName){case"A":u.set("role","link");break;case"ARTICLE":u.set("role","article");break;case"ASIDE":u.set("role","complementary");break;case"BODY":u.set("role","document");break;case"BUTTON":case"SUMMARY":u.set("role","button");break;case"DD":u.set("role","definition");break;case"DETAILS":u.set("role","group");break;case"DFN":u.set("role","term");break;case"DIALOG":u.set("role","dialog");break;case"DT":u.set("role","term");break;case"FIELDSET":u.set("role","group");break;case"FIGURE":u.set("role","figure");break;case"FOOTER":Qi(e)&&u.set("role","contentinfo");break;case"FORM":u.set("role","form");break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":u.set("role","heading"),u.set("aria-level",e.tagName.slice(1));break;case"HEADER":Qi(e)&&u.set("role","banner");break;case"HR":u.set("role","separator");break;case"IMG":{const c=e.getAttribute("alt");(c===null||c!=="")&&(u.set("role","img"),c&&u.set("aria-label",c));break}case"INPUT":switch(e.type){case"button":case"image":case"reset":case"submit":u.set("role","button");break;case"number":u.set("role","spinbutton");break;case"range":u.set("role","slider");break;case"checkbox":u.set("role","checkbox");break;case"radio":u.set("role","radio");break;case"email":case"tel":e.hasAttribute("list")||u.set("role","textbox");break}break;case"LI":(((a=e.parentElement)===null||a===void 0?void 0:a.tagName)==="OL"||((l=e.parentElement)===null||l===void 0?void 0:l.tagName)==="UL"||((f=e.parentElement)===null||f===void 0?void 0:f.tagName)==="MENU")&&u.set("role","listitem");break;case"LINK":e.href&&u.set("role","link");break;case"MAIN":u.set("role","main");break;case"MATH":u.set("role","math");break;case"OL":case"UL":case"MENU":u.set("role","list");break;case"NAV":u.set("role","navigation");break;case"OPTION":u.set("role","option");break;case"PROGRESS":u.set("role","progressbar");break;case"SECTION":u.set("role","region");break;case"SELECT":u.set("role",!e.hasAttribute("multiple")&&e.size<=1?"combobox":"listbox");break;case"TABLE":u.set("role","table");break;case"THEAD":case"TBODY":case"TFOOT":u.set("role","rowgroup");break;case"TEXTAREA":u.set("role","textbox");break;case"TD":u.set("role","cell");break;case"TH":u.set("role",e.closest("thead")?"columnheader":"rowheader");break;case"TR":u.set("role","tablerow");break}e.hasAttribute("disabled")&&u.set("aria-disabled","true"),e.hasAttribute("placeholder")&&u.set("aria-placeholder",e.getAttribute("placeholder")||"");const h=e.getAttribute("tabindex");h&&u.set("tabindex",h),He(e)&&Of(e)&&e.labels&&u.set("aria-labelledby",[...e.labels].map(c=>{let r=c.id||t.get(c);return r||(r=n("label"),t.set(c,r)),r}).join(" "));for(const c of e.attributes)c.name.startsWith("aria-")&&u.set(c.name,c.value);const m=e.getAttribute("role");return m&&u.set("role",m),u}var nr={},Zi;function Bf(){if(Zi)return nr;Zi=1;var e=e||{};e.stringify=(function(){var t={"visit_linear-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-linear-gradient":function(n){return t.visit_gradient(n)},"visit_radial-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-radial-gradient":function(n){return t.visit_gradient(n)},visit_gradient:function(n){var a=t.visit(n.orientation);return a&&(a+=", "),n.type+"("+a+t.visit(n.colorStops)+")"},visit_shape:function(n){var a=n.value,l=t.visit(n.at),f=t.visit(n.style);return f&&(a+=" "+f),l&&(a+=" at "+l),a},"visit_default-radial":function(n){var a="",l=t.visit(n.at);return l&&(a+=l),a},"visit_extent-keyword":function(n){var a=n.value,l=t.visit(n.at);return l&&(a+=" at "+l),a},"visit_position-keyword":function(n){return n.value},visit_position:function(n){return t.visit(n.value.x)+" "+t.visit(n.value.y)},"visit_%":function(n){return n.value+"%"},visit_em:function(n){return n.value+"em"},visit_px:function(n){return n.value+"px"},visit_literal:function(n){return t.visit_color(n.value,n)},visit_hex:function(n){return t.visit_color("#"+n.value,n)},visit_rgb:function(n){return t.visit_color("rgb("+n.value.join(", ")+")",n)},visit_rgba:function(n){return t.visit_color("rgba("+n.value.join(", ")+")",n)},visit_color:function(n,a){var l=n,f=t.visit(a.length);return f&&(l+=" "+f),l},visit_angular:function(n){return n.value+"deg"},visit_directional:function(n){return"to "+n.value},visit_array:function(n){var a="",l=n.length;return n.forEach(function(f,u){a+=t.visit(f),u<l-1&&(a+=", ")}),a},visit:function(n){if(!n)return"";var a="";if(n instanceof Array)return t.visit_array(n,a);if(n.type){var l=t["visit_"+n.type];if(l)return l(n);throw Error("Missing visitor visit_"+n.type)}else throw Error("Invalid node.")}};return function(n){return t.visit(n)}})();var e=e||{};return e.parse=(function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function a(D){var G=new Error(n+": "+D);throw G.source=n,G}function l(){var D=f();return n.length>0&&a("Invalid input not EOF"),D}function f(){return v(u)}function u(){return h("linear-gradient",t.linearGradient,c)||h("repeating-linear-gradient",t.repeatingLinearGradient,c)||h("radial-gradient",t.radialGradient,o)||h("repeating-radial-gradient",t.repeatingRadialGradient,o)}function h(D,G,q){return m(G,function(Y){var te=q();return te&&(J(t.comma)||a("Missing comma before color stops")),{type:D,orientation:te,colorStops:v(w)}})}function m(D,G){var q=J(D);if(q){J(t.startCall)||a("Missing (");var Y=G(q);return J(t.endCall)||a("Missing )"),Y}}function c(){return r()||p()}function r(){return B("directional",t.sideOrCorner,1)}function p(){return B("angular",t.angleValue,1)}function o(){var D,G=i(),q;return G&&(D=[],D.push(G),q=n,J(t.comma)&&(G=i(),G?D.push(G):n=q)),D}function i(){var D=s()||d();if(D)D.at=b();else{var G=g();if(G){D=G;var q=b();q&&(D.at=q)}else{var Y=y();Y&&(D={type:"default-radial",at:Y})}}return D}function s(){var D=B("shape",/^(circle)/i,0);return D&&(D.style=F()||g()),D}function d(){var D=B("shape",/^(ellipse)/i,0);return D&&(D.style=L()||g()),D}function g(){return B("extent-keyword",t.extentKeywords,1)}function b(){if(B("position",/^at/,0)){var D=y();return D||a("Missing positioning value"),D}}function y(){var D=_();if(D.x||D.y)return{type:"position",value:D}}function _(){return{x:L(),y:L()}}function v(D){var G=D(),q=[];if(G)for(q.push(G);J(t.comma);)G=D(),G?q.push(G):a("One extra comma");return q}function w(){var D=x();return D||a("Expected color definition"),D.length=L(),D}function x(){return S()||P()||E()||C()}function C(){return B("literal",t.literalColor,0)}function S(){return B("hex",t.hexColor,1)}function E(){return m(t.rgbColor,function(){return{type:"rgb",value:v(R)}})}function P(){return m(t.rgbaColor,function(){return{type:"rgba",value:v(R)}})}function R(){return J(t.number)[1]}function L(){return B("%",t.percentageValue,1)||N()||F()}function N(){return B("position-keyword",t.positionKeywords,1)}function F(){return B("px",t.pixelValue,1)||B("em",t.emValue,1)}function B(D,G,q){var Y=J(G);if(Y)return{type:D,value:Y[q]}}function J(D){var G,q;return q=/^[\n\r\t\s]+/.exec(n),q&&ee(q[0].length),G=D.exec(n),G&&ee(G[0].length),G}function ee(D){n=n.substr(D)}return function(D){return n=D.toString(),l()}})(),nr.parse=e.parse,nr.stringify=e.stringify,nr}var Tf=Bf();const Mf=e=>{const t={x1:"0%",x2:"0%",y1:"0%",y2:"0%"};if(e?.type==="angular"){const n=e.value*(Math.PI/180);t.x1=`${Math.round(50+Math.sin(n+Math.PI)*50)}%`,t.y1=`${Math.round(50+Math.cos(n)*50)}%`,t.x2=`${Math.round(50+Math.sin(n)*50)}%`,t.y2=`${Math.round(50+Math.cos(n+Math.PI)*50)}%`}else if(e?.type==="directional")switch(e.value){case"left":t.x1="100%";break;case"top":t.y1="100%";break;case"right":t.x2="100%";break;case"bottom":t.y2="100%";break}return t};function Nf(e,{svgDocument:t}){const{orientation:n,colorStops:a}=Tf.parse(e)[0],{x1:l,x2:f,y1:u,y2:h}=Mf(n),m=(r,p)=>{const o=`${p/(a.length-1)*100}%`;let i="rgb(0,0,0)",s=1;switch(r.type){case"rgb":{const[g,b,y]=r.value;i=`rgb(${g},${b},${y})`;break}case"rgba":{const[g,b,y,_]=r.value;i=`rgb(${g},${b},${y})`,s=_;break}case"hex":{i=`#${r.value}`;break}case"literal":{i=r.value;break}}const d=t.createElementNS(se,"stop");return d.setAttribute("offset",o),d.setAttribute("stop-color",i),d.setAttribute("stop-opacity",s.toString()),d},c=t.createElementNS(se,"linearGradient");return c.setAttribute("x1",l),c.setAttribute("y1",u),c.setAttribute("x2",f),c.setAttribute("y2",h),c.append(...a.map(m)),c}const Df=()=>{const e=new Map;return t=>{var n;const a=(n=e.get(t))!==null&&n!==void 0?n:1;return e.set(t,a+1),`${t}${a}`}},ga=(e,t)=>!(e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right);function qf(e){return Math.sqrt(e.width**2+e.height**2)}function va(e,t,n){return Promise.race([n(),new Promise((a,l)=>setTimeout(()=>l(new Error(t)),e))])}const ba=(e,t)=>n=>n[e]===t;function We(e,t){if(!e)throw new Error(t)}function Vf(e,t){if(!e.ownerDocument.defaultView)throw new Error("Element's ownerDocument has no defaultView");const n=e.ownerDocument.defaultView,a=e.parentElement,l=n.getComputedStyle(a);if(!ns(l))return;const f=n.getSelection();We(f,"Could not obtain selection from window. Selection is needed for detecting whitespace collapsing in text.");const u=t.svgDocument.createElementNS(se,"text");ss(l,u);const h=parseInt(l.tabSize,10);u.setAttribute("dominant-baseline","text-after-edge");const m=e.ownerDocument.createRange();for(m.setStart(e,0),m.setEnd(e,0);;){const c=()=>{if(m.collapsed)return;const p=m.getClientRects()[0];if(!ga(p,t.options.captureArea))return;const o=t.svgDocument.createElementNS(se,"tspan");o.setAttribute("xml:space","preserve");const i=a.style.userSelect;a.style.userSelect="all";try{f.removeAllRanges(),f.addRange(m),o.textContent=f.toString().replace(/\t/g," ".repeat(h))}finally{a.style.userSelect=i,f.removeAllRanges()}o.setAttribute("x",p.x.toString()),o.setAttribute("y",p.bottom.toString()),o.setAttribute("textLength",p.width.toString()),o.setAttribute("lengthAdjust","spacingAndGlyphs"),u.append(o)};try{m.setEnd(e,m.endOffset+1)}catch(p){if(p.code===DOMException.INDEX_SIZE_ERR){c();break}throw p}const r=m.getClientRects();if(!r[0])return;r[1]&&r[0].top!==r[1].top&&(m.setEnd(e,m.endOffset-1),c(),m.setStart(e,m.endOffset))}t.currentSvgParent.append(u)}const Uf=new Set(["color","dominant-baseline","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","direction","letter-spacing","text-decoration","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode","user-select"]);function ss(e,t){for(const n of Uf){const a=e.getPropertyValue(n);a&&t.setAttribute(n,a)}t.setAttribute("fill",e.color)}function is(e,t){if(fa(e)){if(!Qe(e))return;Ff(e,t)}else if(ha(e)){const n=e.cloneNode(!0);t.currentSvgParent.append(n)}}const $f=new Set(["script","style","foreignElement"]),eo=/\burl\(["']?#/;function Ff(e,t){var n,a,l,f;if($f.has(e.tagName))return;let u;if(pa(e)){const h=t.svgDocument.createElementNS(se,"g");u=h,h.classList.add("svg-content",...e.classList),h.dataset.viewBox=(n=e.getAttribute("viewBox"))!==null&&n!==void 0?n:"",h.dataset.width=(a=e.getAttribute("width"))!==null&&a!==void 0?a:"",h.dataset.height=(l=e.getAttribute("height"))!==null&&l!==void 0?l:"";for(const m of e.children){if(!Yi(m))continue;let c=m.ownerDocument!==t.svgDocument&&!(!((f=e.parentElement)===null||f===void 0)&&f.closest("svg"))?m.getScreenCTM():m.getCTM();if(!c)break;if(m.transform.baseVal.numberOfItems>0){m.transform.baseVal.consolidate();const r=m.transform.baseVal.getItem(0).matrix;c=c.multiply(r.inverse())}h.transform.baseVal.appendItem(h.transform.baseVal.createSVGTransformFromMatrix(c));break}}else{wf(e)&&!t.options.keepLinks?u=t.svgDocument.createElementNS(se,"g"):u=e.cloneNode(!1);for(const r of u.attributes)(r.localName.startsWith("on")||r.localName==="href"&&r.value.startsWith("javascript:"))&&u.attributes.removeNamedItemNS(r.namespaceURI,r.localName);const h=e.ownerDocument.defaultView;We(h,"Element's ownerDocument has no defaultView");const m=e.ownerSVGElement;We(m,"Expected element to have ownerSVGElement");const c=h.getComputedStyle(e);Yi(e)&&(Wf(c,u,m.viewBox.animVal),_f(e)&&ss(c,u));for(const r of u.attributes)r.localName==="href"?r.value.startsWith("#")&&(r.value=r.value.replace("#",`#${t.idPrefix}`)):eo.test(r.value)&&(r.value=to(r.value,t));for(const r of u.style){const p=u.style.getPropertyValue(r);eo.test(p)&&u.style.setProperty(r,to(p,t),u.style.getPropertyPriority(r))}}u.id&&(u.id=t.idPrefix+u.id),t.currentSvgParent.append(u);for(const h of e.childNodes)is(h,{...t,currentSvgParent:u})}const zf=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","direction","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","image-rendering","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","transform","vector-effect","visibility"],Hf={"alignment-baseline":"auto","baseline-shift":"0px","clip-path":"none","clip-rule":"nonzero","color-interpolation-filters":"linearrgb","color-interpolation":"srgb","color-rendering":"auto","fill-opacity":"1","fill-rule":"nonzero","flood-color":"rgb(0, 0, 0)","flood-opacity":"1","image-rendering":"auto","lighting-color":"rgb(255, 255, 255)","marker-end":"none","marker-mid":"none","marker-start":"none","pointer-events":"auto","shape-rendering":"auto","stop-color":"rgb(0, 0, 0)","stop-opacity":"1","stroke-dasharray":"none","stroke-dashoffset":"0px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-opacity":"1","stroke-width":"1px","vector-effect":"none",color:"",direction:"ltr",fill:"",filter:"none",mask:"none",opacity:"1",stroke:"",transform:"none",visibility:"visible"};function to(e,{idPrefix:t}){const n=Me(e);return n.walk(a=>{if(a.type!=="function"||a.value!=="url")return;const l=a.nodes[0];l&&(l.value=l.value.replace("#",`#${t}`))}),Me.stringify(n.nodes)}function Wf(e,t,n){var a;for(const l of zf){let f=e.getPropertyValue(l);f&&f!==Hf[l]&&(f.endsWith("%")&&(f=(a=fe(f,qf(n)))!==null&&a!==void 0?a:0),t.setAttribute(l,f.toString()))}}function Gf(e,t){var n,a,l,f,u,h,m;const c=[];try{const r=e.ownerDocument.defaultView;if(!r)throw new Error("Element's ownerDocument has no defaultView");const p=e.getBoundingClientRect(),o=ga(p,t.options.captureArea),i=r.getComputedStyle(e),s=e.parentElement&&r.getComputedStyle(e.parentElement),d=kf(e)&&t.options.keepLinks?Zf(e,t):t.svgDocument.createElementNS(se,"g");d.dataset.tag=e.tagName.toLowerCase();const g=e.id||t.getUniqueId(e.classList[0]||e.tagName.toLowerCase());d.id=g;const b=e.getAttribute("class");if(b&&d.setAttribute("class",b),He(e)&&e.title){const S=t.svgDocument.createElementNS(se,"title");S.textContent=e.title,d.prepend(S)}const y=Rf(i,s),_=y?t.stackingLayers[y]:t.parentStackingLayer;_&&t.currentSvgParent.setAttribute("aria-owns",[t.currentSvgParent.getAttribute("aria-owns"),d.id].filter(Boolean).join(" "));const v=t.parentStackingLayer===_?t.currentSvgParent:_;d.dataset.zIndex=i.zIndex,v.append(d);let w,x,C;ar(i,s)?(C=ma(d),x=C.rootBackgroundAndBorders,w={...t,currentSvgParent:d,stackingLayers:C,parentStackingLayer:_}):(x=d,w={...t,currentSvgParent:d,parentStackingLayer:_}),i.opacity!=="1"&&d.setAttribute("opacity",i.opacity);for(const[S,E]of jf(e,t))d.setAttribute(S,E);if(He(e)&&!e.dataset.pseudoElement){const S=(E,P)=>{const R=r.getComputedStyle(e,E),L=Me(R.content).nodes.find(ba("type","string"));if(!L)return;const N=e.ownerDocument.createElement("span");N.dataset.pseudoElement=E,vf(R,N.style),N.textContent=xr(L.value),e.dataset.pseudoElementOwner=g,c.push(()=>e.removeAttribute("data-pseudo-element-owner"));const F=e.ownerDocument.createElement("style");F.textContent=`[data-pseudo-element-owner="${g}"]${E} { display: none !important; }`,e.before(F),c.push(()=>F.remove()),e[P](N),c.push(()=>N.remove())};S("::before","prepend"),S("::after","append")}if(o&&Jf(i,p,x,r,t),i.overflow!=="visible"){const S=t.svgDocument.createElementNS(se,"mask");S.id=t.getUniqueId("mask-for-"+g);const E=xn(p,t);E.setAttribute("fill","#ffffff"),S.append(E),d.append(S),d.setAttribute("mask",`url(#${S.id})`),w={...w,ancestorMasks:[{mask:S,forElement:e},...w.ancestorMasks]}}if(He(e)&&(i.position==="absolute"||i.position==="fixed")&&t.ancestorMasks.length>0&&e.offsetParent)for(const{mask:S,forElement:E}of t.ancestorMasks)if(e.offsetParent.contains(E)||e.offsetParent===E){const P=xn(p,t);P.setAttribute("fill","#ffffff"),S.append(P)}else break;if(o&&Cf(e)&&(e.getAttribute("src")||e.getAttribute("srcset"))){const S=t.svgDocument.createElementNS(se,"image");S.id=`${g}-image`,S.setAttribute("xlink:href",e.currentSrc||e.src);const E=(n=fe(i.paddingLeft,p.width))!==null&&n!==void 0?n:0,P=(a=fe(i.paddingRight,p.width))!==null&&a!==void 0?a:0,R=(l=fe(i.paddingTop,p.height))!==null&&l!==void 0?l:0,L=(f=fe(i.paddingBottom,p.height))!==null&&f!==void 0?f:0;S.setAttribute("x",(p.x+E).toString()),S.setAttribute("y",(p.y+R).toString()),S.setAttribute("width",(p.width-E-P).toString()),S.setAttribute("height",(p.height-R-L).toString()),e.alt&&S.setAttribute("aria-label",e.alt),d.append(S)}else if(o&&Af(e)&&p.width>0&&p.height>0){if(e.value){const S=t.svgDocument.createElementNS(se,"text");ss(i,S),S.setAttribute("dominant-baseline","central"),S.setAttribute("xml:space","preserve"),S.setAttribute("x",(p.x+((u=fe(i.paddingLeft,p.width))!==null&&u!==void 0?u:0)).toString());const E=p.top+((h=fe(i.paddingTop,p.height))!==null&&h!==void 0?h:0),P=p.bottom+((m=fe(i.paddingBottom,p.height))!==null&&m!==void 0?m:0),R=(E+P)/2;S.setAttribute("y",R.toString()),S.textContent=e.value,w.stackingLayers.inFlowInlineLevelNonPositionedDescendants.append(S)}}else if(o&&pa(e)&&ns(i))is(e,{...w,idPrefix:`${g}-`});else{for(const S of e.childNodes)ya(S,w);C&&(If(C),Lf(C))}}finally{for(const r of c)r()}}function Jf(e,t,n,a,l){var f,u,h,m;if(ns(e)){if(t.width>0&&t.height>0&&(!rs(e.backgroundColor)||wn(e)||e.backgroundImage!=="none")){const c=Kf(t,e,l);if(n.append(c),e.backgroundImage!=="none"){const r=Me(e.backgroundImage).nodes.filter(ba("type","function")).reverse(),p=e.backgroundPositionX.split(/\s*,\s*/g),o=e.backgroundPositionY.split(/\s*,\s*/g),i=e.backgroundRepeat.split(/\s*,\s*/g);for(const[s,d]of r.entries()){const g=(f=fe(p[s],t.width))!==null&&f!==void 0?f:0,b=(u=fe(o[s],t.height))!==null&&u!==void 0?u:0,y=i[s];if(d.value==="url"&&d.nodes[0]){const _=d.nodes[0],v=l.svgDocument.createElementNS(se,"image");v.id=l.getUniqueId("background-image");const[w="auto",x="auto"]=e.backgroundSize.split(" "),C=(h=fe(w,t.width))!==null&&h!==void 0?h:t.width,S=(m=fe(x,t.height))!==null&&m!==void 0?m:t.height;v.setAttribute("width",C.toString()),v.setAttribute("height",S.toString()),w!=="auto"&&x!=="auto"?v.setAttribute("preserveAspectRatio","none"):e.backgroundSize==="contain"?v.setAttribute("preserveAspectRatio","xMidYMid meet"):e.backgroundSize==="cover"&&v.setAttribute("preserveAspectRatio","xMidYMid slice");const E=new URL(xr(_.value),a.location.href);if(v.setAttribute("xlink:href",E.href),y==="no-repeat"||g===0&&b===0&&C===t.width&&S===t.height)v.setAttribute("x",t.x.toString()),v.setAttribute("y",t.y.toString()),n.append(v);else{v.setAttribute("x","0"),v.setAttribute("y","0");const P=l.svgDocument.createElementNS(se,"pattern");P.setAttribute("patternUnits","userSpaceOnUse"),P.setAttribute("patternContentUnits","userSpaceOnUse"),P.setAttribute("x",(t.x+g).toString()),P.setAttribute("y",(t.y+b).toString()),P.setAttribute("width",(y==="repeat"||y==="repeat-x"?C:C+t.x+g).toString()),P.setAttribute("height",(y==="repeat"||y==="repeat-y"?S:S+t.y+b).toString()),P.id=l.getUniqueId("pattern"),P.append(v),c.before(P),c.setAttribute("fill",`url(#${P.id})`)}}else if(/^(-webkit-)?linear-gradient$/.test(d.value)){const _=Me.stringify(d),v=Nf(_,l);(g!==0||b!==0)&&v.setAttribute("gradientTransform",`translate(${g}, ${b})`),v.id=l.getUniqueId("linear-gradient"),c.before(v),c.setAttribute("fill",`url(#${v.id})`)}}}}if(!wn(e))for(const c of Yf(e,t,l))n.append(c)}}function xn(e,t){const n=t.svgDocument.createElementNS(se,"rect");return n.setAttribute("width",e.width.toString()),n.setAttribute("height",e.height.toString()),n.setAttribute("x",e.x.toString()),n.setAttribute("y",e.y.toString()),n}function Kf(e,t,n){const a=xn(e,n);t.backgroundColor&&a.setAttribute("fill",t.backgroundColor),wn(t)&&(a.setAttribute("stroke",t.borderTopColor),a.setAttribute("stroke-width",t.borderTopWidth),t.borderTopStyle==="dashed"&&a.setAttribute("stroke-dasharray","1"));const l=gf(t,e),f=_n("top",t,e)[0]*l,u=_n("left",t,e)[0]*l;return f!==0&&a.setAttribute("rx",f.toString()),u!==0&&a.setAttribute("ry",u.toString()),a}function*Yf(e,t,n){for(const a of["top","bottom","right","left"])Xf(e,a)&&(yield Qf(e,t,a,n))}function Xf(e,t){return!!e.getPropertyValue(`border-${t}-color`)&&!rs(e.getPropertyValue(`border-${t}-color`))&&e.getPropertyValue(`border-${t}-width`)!=="0px"}function Qf(e,t,n,a){const l=a.svgDocument.createElementNS(se,"line");l.setAttribute("stroke-linecap","square");const f=e.getPropertyValue(`border-${n}-color`);l.setAttribute("stroke",f),l.setAttribute("stroke-width",e.getPropertyValue(`border-${n}-width`));const u=e.getPropertyValue(`border-${n}-style`);if(u==="inset"&&(n==="top"||n==="left")||u==="outset"&&(n==="right"||n==="bottom")){const h=f.match(/rgba?\((\d+), (\d+), (\d+)(?:, ([\d.]+))?\)/);if(!h)throw new Error(`Unexpected color: ${f}`);const m=h.slice(1,4).map(c=>parseInt(c,10)*.3);h[4]&&m.push(parseFloat(h[4])),l.setAttribute("stroke",`rgba(${m.join(", ")})`)}return n==="top"?(l.setAttribute("x1",t.left.toString()),l.setAttribute("x2",t.right.toString()),l.setAttribute("y1",t.top.toString()),l.setAttribute("y2",t.top.toString())):n==="left"?(l.setAttribute("x1",t.left.toString()),l.setAttribute("x2",t.left.toString()),l.setAttribute("y1",t.top.toString()),l.setAttribute("y2",t.bottom.toString())):n==="right"?(l.setAttribute("x1",t.right.toString()),l.setAttribute("x2",t.right.toString()),l.setAttribute("y1",t.top.toString()),l.setAttribute("y2",t.bottom.toString())):n==="bottom"&&(l.setAttribute("x1",t.left.toString()),l.setAttribute("x2",t.right.toString()),l.setAttribute("y1",t.bottom.toString()),l.setAttribute("y2",t.bottom.toString())),l}function Zf(e,t){const n=t.svgDocument.createElementNS(se,"a");return e.href&&!e.href.startsWith("javascript:")&&n.setAttribute("href",e.href),e.rel&&n.setAttribute("rel",e.rel),e.target&&n.setAttribute("target",e.target),e.download&&n.setAttribute("download",e.download),n}function ya(e,t){fa(e)?Gf(e,t):ha(e)&&Vf(e,t)}async function wa(e){await Promise.all([...[...e.children].map(wa),(async()=>{var t;if(xf(e)){const n=e.getAttribute("href")||e.getAttribute("xlink:href");We(n,"<image> element must have href or xlink:href attribute");const a=await va(1e4,`Timeout fetching ${n}`,()=>_a(n));if(a.type==="image/svg+xml"){We(e.ownerDocument,"Expected <image> element to have ownerDocument");const f=new DOMParser().parseFromString(await a.text(),"image/svg+xml").documentElement;f.setAttribute("x",e.getAttribute("x")),f.setAttribute("y",e.getAttribute("y")),f.setAttribute("width",e.getAttribute("width")),f.setAttribute("height",e.getAttribute("height")),f.remove(),e.replaceWith(f);try{const u=e.ownerDocument,h=u.createElementNS(se,"g");We(e.id,"<image> element must have ID"),is(f,{currentSvgParent:h,svgDocument:u,idPrefix:`${e.id}-`,options:{keepLinks:!1,captureArea:f.viewBox.baseVal}}),h.dataset.tag="img",h.setAttribute("role","img"),f.replaceWith(h)}finally{f.remove()}}else{const l=await xa(a);e.dataset.src=e.href.baseVal,e.setAttribute("xlink:href",l.href)}}else if(Sf(e))try{const n=[],a=da((t=e.textContent)!==null&&t!==void 0?t:"");a.walkAtRules("font-face",l=>{l.walkDecls("src",f=>{const u=Me(f.value);u.walk(h=>{if(h.type==="function"&&h.value==="url"&&h.nodes[0]){const m=h.nodes[0];(m.type==="string"||m.type==="word")&&n.push(eh(m))}}),f.value=Me.stringify(u.nodes)})}),await Promise.all(n),e.textContent=a.toString()}catch(n){console.error("Error inlining stylesheet",e.sheet,n)}})().catch(t=>{console.error("Error inlining resource for element",e,t)})])}async function eh(e){try{const t=new URL(xr(e.value)),n=await va(1e4,`Timeout fetching ${t.href}`,()=>_a(t.href));if(!n.type.startsWith("font/")&&!n.type.startsWith("application/font-")&&!n.type.startsWith("application/x-font-")&&!n.type.startsWith("image/svg+xml")&&!n.type.startsWith("application/vnd.ms-fontobject"))throw new Error(`Invalid response MIME type inlining font at ${t.href}: Expected font MIME type, got ${n.type}`);const a=await xa(n);e.value=a.href}catch(t){console.error(`Error inlining ${e.value}`,t)}}async function _a(e){We(e,"No URL passed");const t=new Headers,n=await fetch(e,{headers:t});if(!n.ok)throw new Error(n.statusText);return await n.blob()}async function xa(e){const t=new FileReader;return await new Promise((n,a)=>{t.addEventListener("error",()=>a(new Error("Error loading resource with FileLoader"))),t.addEventListener("load",()=>n()),t.readAsDataURL(e)}),new URL(t.result)}function th(e,t){var n,a,l,f;const u=e.ownerDocument.implementation.createDocument(se,"svg",null),h=u.documentElement;h.setAttribute("xmlns",se),h.setAttribute("xmlns:xlink",bf),h.append(u.createComment(` Generated by dom-to-svg from ${e.ownerDocument.location.href.replace(/--/g,"%2D%2D")} `));const m=u.createElementNS(se,"style");for(const r of e.ownerDocument.styleSheets)try{for(const p of(n=r.rules)!==null&&n!==void 0?n:[]){if(!pf(p))continue;const o=(a=p.parentStyleSheet)===null||a===void 0?void 0:a.href;if(o){const i=Me(p.style.getPropertyValue("src"));i.walk(d=>{if(d.type==="function"&&d.value==="url"&&d.nodes[0]){const g=d.nodes[0];(g.type==="string"||g.type==="word")&&(g.value=new URL(xr(g.value),o).href)}});const s=da(p.cssText);s.walkDecls("src",d=>{d.value=Me.stringify(i.nodes)}),m.append(s.toString()+`
`)}}}catch(p){console.error("Error resolving @font-face src URLs for styleSheet, skipping",r,p)}h.append(m),ya(e,{svgDocument:u,currentSvgParent:h,stackingLayers:ma(h),parentStackingLayer:h,getUniqueId:Df(),labels:new Map,ancestorMasks:[],options:{captureArea:(l=void 0)!==null&&l!==void 0?l:e.getBoundingClientRect(),keepLinks:!0}});const c=(f=void 0)!==null&&f!==void 0?f:e.getBoundingClientRect();return h.setAttribute("width",c.width.toString()),h.setAttribute("height",c.height.toString()),h.setAttribute("viewBox",`${c.x} ${c.y} ${c.width} ${c.height}`),u}const rh=z({__name:"AddNoteButton",emits:["click"],setup(e){return(t,n)=>{const a=we;return O(),$(a,{variant:"outlined",severity:"secondary",onClick:n[0]||(n[0]=l=>t.$emit("click"))},{default:H(()=>[...n[1]||(n[1]=[A("div",{class:"iconify solar--notes-bold h-1em w-1em"},null,-1)])]),_:1})}}}),os=Object.assign(rh,{__name:"AddNoteButton"}),nh=z({__name:"RemoveNoteButton",emits:["click"],setup(e){return(t,n)=>{const a=we;return O(),$(a,{variant:"outlined",severity:"secondary",onClick:n[0]||(n[0]=l=>t.$emit("click"))},{default:H(()=>[...n[1]||(n[1]=[A("div",{class:"iconify solar--trash-bin-minimalistic-outline h-1em w-1em"},null,-1)])]),_:1})}}}),as=Object.assign(nh,{__name:"RemoveNoteButton"});function ct(){const{buildNotes:e}=de(),t=f=>Je(f,e.value),n=(f,u)=>{if(u){const h=crypto.randomUUID();f=`${f}-${h}`}e.value=qe(f,{id:f,title:"",text:""},e.value)},a=f=>{e.value=Eo(f,e.value)},l=M(()=>Te(ku({id:sl("build-")}),yo(e.value)));return{buildNotes:e,globalNotes:l,hasNote:t,createNote:n,removeNote:a}}const sh={class:"notes-object"},ih={class:"notes-object-header"},oh={key:0,class:"obj-note"},ah={key:1,class:"note-text"},lh=z({__name:"ObjectNote",props:{obj:{},editable:{type:Boolean}},setup(e){const{buildNotes:t,hasNote:n,createNote:a,removeNote:l}=ct(),f=e,u=M(()=>`obj:${f.obj.id}`),h=M(()=>n(u.value));return(m,c)=>{const r=os,p=as,o=at;return O(),I("div",sh,[A("div",ih,[A("div",null,W(e.obj.title),1),!k(h)&&e.editable?(O(),$(r,{key:0,onClick:c[0]||(c[0]=i=>k(a)(k(u)))})):T("",!0),k(h)&&e.editable?(O(),$(p,{key:1,onClick:c[1]||(c[1]=i=>k(l)(k(u)))})):T("",!0)]),k(h)?(O(),I("div",oh,[e.editable?(O(),$(o,{key:0,modelValue:k(t)[k(u)].text,"onUpdate:modelValue":c[2]||(c[2]=i=>k(t)[k(u)].text=i),class:"note-text w-full",placeholder:"Notes go here ..."},null,8,["modelValue"])):T("",!0),e.editable?T("",!0):(O(),I("div",ah,W(k(t)[k(u)].text),1))])):T("",!0)])}}}),uh=Object.assign(le(lh,[["__scopeId","data-v-22b49f1a"]]),{__name:"ObjectNote"}),ch={class:"build-note"},dh={class:"build-note-header"},fh={key:2,class:"note-title-frozen"},hh={key:1,class:"note-text"},ph=z({__name:"NoteInput",props:{noteId:{},editable:{type:Boolean},staticTitle:{}},setup(e){const{buildNotes:t,removeNote:n}=ct(),a=e,l=M(()=>t.value[a.noteId]);return(f,u)=>{const h=_t,m=as,c=at;return O(),I("div",ch,[A("div",dh,[e.editable&&!e.staticTitle?(O(),$(h,{key:0,modelValue:k(l).title,"onUpdate:modelValue":u[0]||(u[0]=r=>k(l).title=r),type:"text",class:"note-title",placeholder:"Title ...",fluid:""},null,8,["modelValue"])):T("",!0),e.editable?(O(),$(m,{key:1,onClick:u[1]||(u[1]=r=>k(n)(k(l).id))})):T("",!0),!e.editable||e.staticTitle?(O(),I("span",fh,W(e.staticTitle??k(l).title),1)):T("",!0)]),e.editable?(O(),$(c,{key:0,modelValue:k(l).text,"onUpdate:modelValue":u[2]||(u[2]=r=>k(l).text=r),class:"note-text min-h-[8rem]",placeholder:"Notes go here ...",fluid:""},null,8,["modelValue"])):T("",!0),e.editable?T("",!0):(O(),I("div",hh,W(k(l).text),1))])}}}),mh=Object.assign(le(ph,[["__scopeId","data-v-eb9c4b53"]]),{__name:"NoteInput"}),gh={key:0,class:"notes-build"},vh={class:"notes-build-header"},bh={class:"notes-build-list"},yh=z({__name:"GlobalNotes",props:{editable:{type:Boolean},compact:{type:Boolean}},setup(e){const{globalNotes:t,createNote:n}=ct(),a=M(()=>ce(t.value));return(l,f)=>{const u=mh;return!e.compact||k(a)?(O(),I("div",gh,[A("div",vh,[f[1]||(f[1]=A("div",{class:"notes-build-title"},"Index Notes",-1)),e.editable?(O(),$(os,{key:0,onClick:f[0]||(f[0]=h=>k(n)("build",!0))})):T("",!0)]),A("div",bh,[(O(!0),I(X,null,ae(k(t),h=>(O(),$(u,{key:h.id,"note-id":h.id,editable:e.editable},null,8,["note-id","editable"]))),128))])])):T("",!0)}}}),wh=Object.assign(le(yh,[["__scopeId","data-v-0a374b17"]]),{__name:"GlobalNotes"}),_h={key:0,class:"row-note"},xh={class:"row-note-header"},Sh={key:1,class:"note-text"},kh=z({__name:"RowNote",props:{packRow:{},editable:{type:Boolean},compact:{type:Boolean}},setup(e){const{buildNotes:t,hasNote:n,createNote:a,removeNote:l}=ct(),f=e,u=M(()=>`row:${f.packRow.id}`),h=M(()=>n(u.value));return(m,c)=>{const r=os,p=as,o=at;return!e.compact||k(h)?(O(),I("div",_h,[A("div",xh,[c[3]||(c[3]=A("span",{class:"note-label"},"Section Notes",-1)),!k(h)&&e.editable?(O(),$(r,{key:0,onClick:c[0]||(c[0]=i=>k(a)(k(u)))})):T("",!0),k(h)&&e.editable?(O(),$(p,{key:1,onClick:c[1]||(c[1]=i=>k(l)(k(u)))})):T("",!0)]),k(h)&&e.editable?(O(),$(o,{key:0,modelValue:k(t)[k(u)].text,"onUpdate:modelValue":c[2]||(c[2]=i=>k(t)[k(u)].text=i),class:"note-text w-full",placeholder:"Add notes here..."},null,8,["modelValue"])):T("",!0),k(h)&&!e.editable?(O(),I("div",Sh,W(k(t)[k(u)].text),1)):T("",!0)])):T("",!0)}}}),Ch=Object.assign(le(kh,[["__scopeId","data-v-a5ac0058"]]),{__name:"RowNote"}),Ah={class:"notes-table-wrapper"},Oh={class:"notes-table"},Ph={key:0,class:"notes-ruler"},Eh={class:"notes-row"},Rh={class:"row-title"},Ih={class:"notes-object-list"},Lh={key:0,class:"notes-ruler"},jh=z({__name:"NotesView",props:{compact:{type:Boolean},editable:{type:Boolean}},setup(e){const{buildNotes:t}=ct(),{packRows:n}=Jn(),a=e,l=M(()=>{if(a.compact){const f=t.value;return Ge(u=>{const h=Je(`row:${u.packRow.id}`,f),m=Te(({obj:c})=>Je(`obj:${c.id}`,f),u.choices);return ue(m)&&!h?[]:[qe("choices",m,u)]},n.value)}else return n.value});return(f,u)=>{const h=uh,m=wh;return O(),I("div",Ah,[A("div",Oh,[(O(!0),I(X,null,ae(k(l),({packRow:c,choices:r,scores:p},o)=>(O(),I(X,{key:c.id},[o>0?(O(),I("div",Ph)):T("",!0),A("div",Eh,[A("span",Rh,W(c.title),1),j(ta,{scores:p,vertical:""},null,8,["scores"])]),A("div",Ih,[(O(!0),I(X,null,ae(r,({obj:i})=>(O(),$(h,{key:i.id,obj:i,editable:e.editable},null,8,["obj","editable"]))),128)),j(Ch,{"pack-row":c,editable:e.editable,compact:e.compact},null,8,["pack-row","editable","compact"])])],64))),128)),k(ce)(k(l))?(O(),I("div",Lh)):T("",!0),j(m,{editable:e.editable,compact:e.compact},null,8,["editable","compact"])])])}}}),Sa=Object.assign(le(jh,[["__scopeId","data-v-53dc1d5d"]]),{__name:"NotesView"}),Bh={id:"backpack",class:"project export-container","data-bs-theme":"dark"},Th={key:0},Mh=z({__name:"BackpackExportWrapper",setup(e){const{buildNotes:t}=ct(),{resolveDisplaySettings:n}=lt(),{hideTextInBackpack:a,hideImagesInBackpack:l}=ut(),f=M(()=>{const u=l.value,h=a.value;return n({hideObjectImages:u,hideObjectText:h,hideDisabledAddons:!0,hideAddonText:h})});return(u,h)=>{const m=Sa;return O(),I("div",Bh,[j(ra,{"vertical-score":!1,"show-title":!0,"lock-backpack":!0,display:k(f)},null,8,["display"]),k(ce)(k(t))?(O(),I("div",Th,[h[0]||(h[0]=A("hr",null,null,-1)),j(m,{compact:!0,editable:!1})])):T("",!0)])}}}),Nh=Object.assign(le(Mh,[["__scopeId","data-v-69d6f9a2"]]),{__name:"BackpackExportWrapper"}),Dh=(e,t)=>{for(const n of Array.from(e.styleSheets))if(n.cssRules){const a=e.createElement("style");for(const l of Array.from(n.cssRules))a.append(e.createTextNode(l.cssText));t.head.append(a)}else if(n.href){const a=e.createElement("link");a.rel="stylesheet",a.href=n.href,t.head.append(a)}},qh=e=>new Promise((t,n)=>{const a=document.createElement("iframe");a.style.visibility="hidden",a.loading="eager",a.src=`${e.app.baseURL}export.html`,a.addEventListener("load",()=>{t(a)}),a.addEventListener("error",l=>{n(l)}),document.body.appendChild(a)}),Vh=e=>new Promise((t,n)=>{const a=`${e.app.baseURL}export.html`,l=window.open(a,"_blank");if(!l){n(new Error("Failed to create window"));return}l.addEventListener("load",()=>{t(l)})}),Uh=async e=>{const{width:t,height:n}=await Kd.maxArea({max:e,usePromise:!0});return{width:t,height:n}};function $h(){const e=lr();cr();const t=m=>{Dh(window.document,m),m.documentElement.classList.add("dark-theme");const c=Wa(Nh,{});return Ga(c,m.body),m.getElementById("backpack")},n=async m=>{const c=th(m);await wa(c.documentElement);const r=new XMLSerializer().serializeToString(c);return new Blob([r],{type:"image/svg+xml;charset=utf-8"})},a=async m=>{const c=new Image;return c.src=m,await c.decode(),c},l=async m=>{const c=document.createElement("canvas"),{width:r,height:p}=await Uh(Math.max(m.naturalWidth,m.naturalHeight));c.width=Math.min(r,m.naturalWidth),c.height=Math.min(p,m.naturalHeight),c.getContext("2d").drawImage(m,0,0);const i=c.toDataURL("image/png");return c.remove(),i},f=async m=>{const c=document.createElement("a");c.href=m,c.download=`backpack-${new Date().toLocaleString()}.png`,await bt(()=>{c.click()}),c.remove()};return{exportToHtml:async()=>{const m=await Vh(e);t(m.document)},exportToImage:async()=>{const m=await qh(e),c=t(m.contentDocument);await bt();const r=await n(c),p=URL.createObjectURL(r),o=await a(p),i=await l(o);i.startsWith("data:image/png")&&await f(i),URL.revokeObjectURL(p),m.remove()}}}const Fh={class:"flex justify-between items-center w-full me-2"},zh={class:"flex flex-col gap-1"},Hh={class:"flex flex-col gap-2"},Wh={class:"flex flex-row items-center gap-1"},Gh={class:"flex flex-row items-center gap-1"},Jh={class:"flex flex-row items-center gap-1"},Kh={class:"flex flex-row items-center gap-1"},Yh={class:"pack-content flex-grow-1 bg-dark"},Xh={class:"pack-actions mb-3"},Qh={class:"pack-actions-download"},Zh={class:"flex lg:flex-row flex-col gap-2 justify-stretch"},ep={class:"flex flex-col gap-2 grow basis-0"},tp=z({__name:"BackpackModal",setup(e){const{resolveDisplaySettings:t}=lt(),{isBackpackVisible:n}=Ye(),{showDisabledAddonsInBackpack:a,hideImagesInBackpack:l,hideTextInBackpack:f,lockBackpackObjects:u}=ut(),{exportToImage:h,exportToHtml:m}=$h(),c=U(),r=U(),p=U(!1),o=s=>{r.value.toggle(s)},i=M(()=>{const s=l.value,d=f.value;return t({hideObjectImages:s,hideObjectText:d,hideDisabledAddons:!a.value,hideAddonText:d})});return(s,d)=>{const g=we,b=Mn,y=wo,_=Zo,v=pr;return O(),$(v,{visible:k(n),"onUpdate:visible":d[6]||(d[6]=w=>oe(n)?n.value=w:null),modal:!0,"dismissable-mask":!0,maximizable:!1,draggable:!1,class:"w-full h-full lg:mx-[2rem] mx-0",dt:{header:{padding:"1rem"},content:{padding:"1rem"}}},{header:H(()=>[A("div",Fh,[d[11]||(d[11]=A("h5",{class:"text-primary text-2xl"},"Choices",-1)),On(A("div",zh,[j(g,{icon:"pi pi-cog",severity:"secondary",variant:"text",label:"Settings",onClick:o}),j(y,{ref_key:"settingsPopover",ref:r},{default:H(()=>[A("div",Hh,[A("div",Wh,[j(b,{modelValue:k(u),"onUpdate:modelValue":d[0]||(d[0]=w=>oe(u)?u.value=w:null),"input-id":"packRowDisabledSwitch"},null,8,["modelValue"]),d[7]||(d[7]=A("label",{class:"form-check-label",for:"packRowDisabledSwitch"}," Lock Objects in the Backpack ",-1))]),A("div",Gh,[j(b,{modelValue:k(a),"onUpdate:modelValue":d[1]||(d[1]=w=>oe(a)?a.value=w:null),"input-id":"showDisabledAddonsInBackpack"},null,8,["modelValue"]),d[8]||(d[8]=A("label",{class:"form-check-label",for:"showDisabledAddonsInBackpack"}," Show Disabled Addons in the Backpack ",-1))]),A("div",Jh,[j(b,{modelValue:k(l),"onUpdate:modelValue":d[2]||(d[2]=w=>oe(l)?l.value=w:null),"input-id":"hideImagesInBackpack"},null,8,["modelValue"]),d[9]||(d[9]=A("label",{class:"form-check-label",for:"hideImagesInBackpack"}," Hide Images in the Backpack ",-1))]),A("div",Kh,[j(b,{modelValue:k(f),"onUpdate:modelValue":d[3]||(d[3]=w=>oe(f)?f.value=w:null),"input-id":"hideTextInBackpack"},null,8,["modelValue"]),d[10]||(d[10]=A("label",{class:"form-check-label",for:"hideTextInBackpack"}," Hide Text in the Backpack ",-1))])])]),_:1},512)],512),[[Pn,!k(p)]])])]),default:H(()=>[A("div",Yh,[A("div",Xh,[A("div",Qh,[j(g,{onClick:d[4]||(d[4]=w=>k(h)())},{default:H(()=>[...d[12]||(d[12]=[Z(" Download Image (Beta)",-1)])]),_:1}),j(g,{onClick:d[5]||(d[5]=w=>k(m)())},{default:H(()=>[...d[13]||(d[13]=[Z(" Download HTML",-1)])]),_:1})])]),j(ra,{ref_key:"backpackRef",ref:c,"vertical-score":!k(p),"show-title":k(p),display:k(i),"lock-backpack":k(u)},null,8,["vertical-score","show-title","display","lock-backpack"]),A("div",Zh,[A("div",ep,[j(sa,{class:"grow basis-0"}),d[14]||(d[14]=A("div",{class:"my-1 border-t border-surface-700"},null,-1)),j(na,{class:"grow basis-0"})]),d[15]||(d[15]=A("div",{class:"lg:mx-1 lg:border-l my-1 border-t border-surface-700"},null,-1)),j(_,{class:"grow basis-0"})])])]),_:1},8,["visible"])}}}),rp=Object.assign(le(tp,[["__scopeId","data-v-8f7a3b4c"]]),{__name:"BackpackModal"}),np={key:0,class:"flex justify-between items-center flex-row"},sp=z({__name:"BuildName",props:{name:{}},emits:["change"],setup(e,{emit:t}){const n=t,a=e,l=U(!1),f=U(""),u=()=>{f.value=a.name,l.value=!0},h=()=>{const c=f.value;n("change",c),l.value=!1},m=()=>{l.value=!1};return(c,r)=>{const p=we,o=_t,i=Al,s=Cl;return O(),I("div",null,[k(l)?T("",!0):(O(),I("div",np,[A("span",null,W(e.name),1),j(p,{variant:"text",severity:"contrast",icon:"iconify solar--pen-outline h-1em w-1em",size:"small",onClick:r[0]||(r[0]=d=>u())})])),k(l)?(O(),$(s,{key:1},{default:H(()=>[j(o,{modelValue:k(f),"onUpdate:modelValue":r[1]||(r[1]=d=>oe(f)?f.value=d:null),type:"text",fluid:""},null,8,["modelValue"]),j(i,null,{default:H(()=>[j(p,{variant:"text",severity:"contrast",icon:"iconify solar--check-circle-bold h-1em w-1em",onClick:r[2]||(r[2]=d=>h())}),j(p,{variant:"text",severity:"contrast",icon:"iconify solar--close-circle-bold h-1em w-1em",onClick:r[3]||(r[3]=d=>m())})]),_:1})]),_:1})):T("",!0)])}}}),ip=Object.assign(sp,{__name:"BuildName"}),op={class:"choices-list"},ap={key:0,class:"group-spacer"},lp={class:"choice-group-title"},up={class:"choice-name"},cp={key:0,class:"choice-count"},dp={key:0,class:"choice-spacer"},fp=z({__name:"BuildChoices",props:{groups:{}},setup(e){return(t,n)=>(O(),I("div",op,[(O(!0),I(X,null,ae(e.groups,(a,l)=>(O(),I(X,{key:a.rowId},[l>0?(O(),I("span",ap,"|")):T("",!0),A("strong",lp,W(a.title)+":",1),(O(!0),I(X,null,ae(a.items,(f,u)=>(O(),I(X,{key:f.objId},[A("span",up,[Z(W(f.title)+" ",1),f.count>1?(O(),I("span",cp," (x"+W(f.count)+") ",1)):T("",!0)]),u<a.items.length-1?(O(),I("span",dp,",")):T("",!0)],64))),128))],64))),128))]))}}),hp=Object.assign(le(fp,[["__scopeId","data-v-a8ff9d46"]]),{__name:"BuildChoices"});var ze=(e=>(e[e.None=0]="None",e[e.Hash=1]="Hash",e[e.Name=2]="Name",e))(ze||{});const ro=e=>{if(e.status==="loaded")return{projectId:e.file.projectId,name:e.file.projectName,hash:e.file.projectHash};throw new Error("No project loaded")},no=(e,t,n,a,l)=>{const f=K(([h,m])=>{const c=n(h),r=l(a(h));return{objId:c.id,title:c.title,count:m,groupId:fo(c.groups)?.id??r.resultGroupId}},Ve(e)),u=qn(ye("groupId"),f);return Ge(h=>h.resultGroupId in u?[{rowId:h.id,title:h.title,items:u[h.resultGroupId]??[]}]:[],t)};function ls(){const e=Ja(),{setSelected:t}=pe(),n=de();return{loadBuilds:async()=>e.builds.toArray(),loadBuild:m=>{if(m.selected)t(m.selected,!0,!0);else{const c=bn((r,p)=>qe(r.objId,r.count,p),{},Ge(ye("items"),m.groups));t(c,!0,!0)}n.buildNotes.value=m.notes??{},n.buildData.value=m,n.buildModified.value=!1},saveBuild:async m=>{const c=new Date,r={name:m,createdAt:c,updatedAt:c,project:ro(n.store.value),groups:no(n.selected.value,n.backpack.value,n.getObject.value,n.getObjectRow.value,n.getRow.value),notes:Le(n.buildNotes.value)},p=await e.builds.add(r);return qe("id",p,r)},updateBuild:async(m,{$notes:c,$choices:r,...p}={})=>{if(r&&ue(n.selected.value))return m;const o=Le(m);return o.updatedAt=new Date,ce(p)&&Object.assign(o,p),c&&(o.notes=Le(n.buildNotes.value)),r&&(o.project=ro(n.store.value),o.groups=no(n.selected.value,n.backpack.value,n.getObject.value,n.getObjectRow.value,n.getRow.value)),await e.builds.put(o),o},deleteBuild:async m=>{await e.builds.delete(m.id)}}}const pp={class:"build-details"},mp={class:"name"},gp={class:"actions"},vp={key:0,class:"choices"},bp={class:"project-name"},yp={key:0,class:"compat"},wp={key:1,class:"compat"},_p={key:2,class:"compat"},xp={class:"flex-grow-1"},Sp={class:"date"},kp={class:"choices"},Cp={class:"choices-header"},Ap={key:0,class:"iconify solar--alt-arrow-down-linear h-1em w-1em"},Op={key:1,class:"iconify solar--alt-arrow-right-linear h-1em w-1em"},Pp={class:"actions"},Ep=z({__name:"BuildCard",props:{build:{}},emits:["change"],setup(e,{emit:t}){const{selected:n,project:a}=de(),l=En(),f=cr(),u=e,h=t,m=U(!1),c=()=>{m.value=!m.value},r=b=>Ae(";",K(([y,_])=>_>1?`${y}:${_}`:y,Ve(b))),p=M(()=>{const b=a.value;return b?b.projectId===u.build.project.projectId||b.projectHash===u.build.project.hash?ze.Hash:b.projectName===u.build.project.name?ze.Name:ze.None:!1}),o=ls(),i=async b=>{ue(n.value)||l.require({target:b.currentTarget,message:"Overwrite your saved build?",icon:"pi pi-exclamation-triangle",group:"popup",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Save"},accept:async()=>{await o.updateBuild(u.build,{$choices:!0,$notes:!0}),f.add({severity:"info",summary:`Build Updated ${u.build.name}`,life:1e3}),h("change")}})},s=async b=>{await o.updateBuild(u.build,{name:b}),h("change")},d=async b=>{l.require({target:b.currentTarget,message:"Delete your saved build?",icon:"pi pi-exclamation-triangle",group:"popup",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Delete"},accept:async()=>{await o.deleteBuild(u.build),h("change"),f.add({severity:"success",summary:`Build Deleted ${u.build.name}`,life:1e3})}})},g=()=>{ce(n.value)?l.require({header:"Load this build?",message:"There are choices already selected.",icon:"pi pi-exclamation-triangle",group:"modal",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Load Build"},accept:async()=>{o.loadBuild(u.build),f.add({severity:"info",summary:`Build Loaded ${u.build.name}`,life:1e3})}}):(o.loadBuild(u.build),f.add({severity:"info",summary:`Build Loaded ${u.build.name}`,life:1e3}))};return(b,y)=>{const _=ip,v=we;return O(),I("div",pp,[A("div",mp,[j(_,{name:e.build.name,class:"me-2",onChange:s},null,8,["name"])]),e.build.selected?(O(),I(X,{key:0},[A("div",gp,[j(v,{size:"small",onClick:y[0]||(y[0]=w=>g())},{default:H(()=>[...y[5]||(y[5]=[Z(" Load ",-1)])]),_:1}),A("button",{size:"small",severity:"danger",onClick:y[1]||(y[1]=w=>d(w))}," Delete ")]),e.build.selected?(O(),I("div",vp,W(r(e.build.selected)),1)):T("",!0)],64)):(O(),I(X,{key:1},[A("div",bp,[k(p)===k(ze).Hash?(O(),I("span",yp,[...y[6]||(y[6]=[A("div",{class:"iconify solar--check-circle-outline h-1em w-1em text-green-500"},null,-1)])])):T("",!0),k(p)===k(ze).Name?(O(),I("span",wp,[...y[7]||(y[7]=[A("div",{class:"iconify solar--check-circle-outline h-1em w-1em text-orange-500"},null,-1)])])):T("",!0),k(p)===k(ze).None?(O(),I("span",_p,[...y[8]||(y[8]=[A("div",{class:"iconify solar--danger-triangle-bold text-red-500 h-1em w-1em"},null,-1)])])):T("",!0),A("span",xp,W(e.build.project.name),1)]),A("div",Sp,[A("span",null,W(e.build.updatedAt.toLocaleDateString()),1)]),A("div",kp,[A("div",Cp,[y[9]||(y[9]=A("div",null,"Choices",-1)),A("div",null,[j(v,{size:"small",variant:"text",severity:"secondary",onClick:c},{default:H(()=>[k(m)?(O(),I("div",Ap)):T("",!0),k(m)?T("",!0):(O(),I("div",Op))]),_:1})])]),On(j(hp,{groups:e.build.groups},null,8,["groups"]),[[Pn,k(m)]])]),A("div",Pp,[j(v,{size:"small",variant:"outlined",onClick:y[2]||(y[2]=w=>g())},{default:H(()=>[...y[10]||(y[10]=[Z(" Load ",-1)])]),_:1}),j(v,{size:"small",variant:"outlined",onClick:y[3]||(y[3]=w=>i(w))},{default:H(()=>[...y[11]||(y[11]=[Z(" Save ",-1)])]),_:1}),j(v,{size:"small",variant:"outlined",severity:"danger",onClick:y[4]||(y[4]=w=>d(w))},{default:H(()=>[...y[12]||(y[12]=[Z(" Delete ",-1)])]),_:1})])],64))])}}}),Rp=Object.assign(le(Ep,[["__scopeId","data-v-06d7b173"]]),{__name:"BuildCard"}),Ip={class:"build-library"},Lp={class:"flex flex-row gap-1"},jp={class:"flex flex-col gap-1 mt-3"},Bp=z({__name:"BuildLibrary",setup(e){const t=ls(),n=U(!1),a=U([]),l=U(""),f=U(-1),u=U("createdAt"),h=[{name:"Newest First",value:-1},{name:"Oldest First",value:1}],m=M(()=>{const o=jo(i=>new Date(i.createdAt).getTime())(a.value);return f.value===-1?ho(o):o});dr(async()=>{n.value=!0,await r(),n.value=!1});const c=async()=>{await t.saveBuild(l.value),l.value="",await r()},r=async()=>{a.value=await t.loadBuilds()};return(p,o)=>{const i=_t,s=we,d=_o,g=Rp,b=Ol;return O(),I("div",Ip,[j(b,{value:k(m),"data-key":"id",dt:{header:{padding:"0 0.5rem 1rem 0.5rem"}},sortOrder:k(f),sortField:k(u)},{header:H(()=>[A("div",Lp,[j(i,{modelValue:k(l),"onUpdate:modelValue":o[0]||(o[0]=y=>oe(l)?l.value=y:null),placeholder:"Name of build",fluid:""},null,8,["modelValue"]),j(s,{onClick:c},{default:H(()=>[...o[2]||(o[2]=[Z(" Save ",-1)])]),_:1}),j(d,{modelValue:k(f),"onUpdate:modelValue":o[1]||(o[1]=y=>oe(f)?f.value=y:null),options:h,"option-label":"name","option-value":"value",class:"ml-2",style:{width:"10rem"},placeholder:"Sort by"},null,8,["modelValue"])])]),list:H(({items:y})=>[A("div",jp,[(O(!0),I(X,null,ae(y,_=>(O(),$(g,{key:_.id,build:_,onChange:r},null,8,["build"]))),128))])]),_:1},8,["value","sortOrder","sortField"])])}}}),Tp=Object.assign(le(Bp,[["__scopeId","data-v-af685f83"]]),{__name:"BuildLibrary"}),Mp={key:0,class:"flex flex-col gap-0 mb-2"},Np={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Dp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},qp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Vp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Up={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},$p={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Fp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},zp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Hp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Wp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Gp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Jp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Kp=z({__name:"DisplaySettings",setup(e){const{displaySettings:t}=ut();return(n,a)=>{const l=xo,f=Bl;return k(t).type==="custom"?(O(),I("ul",Mp,[a[25]||(a[25]=A("li",{class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700 font-bold text-primary"}," Row Settings ",-1)),A("li",Np,[j(l,{modelValue:k(t).settings.hideDisabledAddons,"onUpdate:modelValue":a[0]||(a[0]=u=>k(t).settings.hideDisabledAddons=u),"input-id":"hideDisabledAddons",binary:""},null,8,["modelValue"]),a[12]||(a[12]=A("div",{class:"flex flex-col gap-1"},[A("label",{class:"grow",for:"hideDisabledAddons"}," Hide Disabled Addons ")],-1))]),A("li",Dp,[j(l,{modelValue:k(t).settings.hideRowImages,"onUpdate:modelValue":a[1]||(a[1]=u=>k(t).settings.hideRowImages=u),"input-id":"hideRowImages",binary:""},null,8,["modelValue"]),a[13]||(a[13]=A("label",{class:"grow",for:"hideRowImages"}," Hide Row Images ",-1))]),A("li",qp,[j(l,{modelValue:k(t).settings.hideRowText,"onUpdate:modelValue":a[2]||(a[2]=u=>k(t).settings.hideRowText=u),"input-id":"hideRowText",binary:""},null,8,["modelValue"]),a[14]||(a[14]=A("label",{class:"grow",for:"hideRowText"}," Hide Row Text ",-1))]),a[26]||(a[26]=A("li",{class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700 font-bold text-primary"}," Choice Settings ",-1)),A("li",Vp,[j(l,{modelValue:k(t).settings.hideObjectImages,"onUpdate:modelValue":a[3]||(a[3]=u=>k(t).settings.hideObjectImages=u),"input-id":"hideObjectImages",binary:""},null,8,["modelValue"]),a[15]||(a[15]=A("label",{class:"grow",for:"hideObjectImages"}," Hide Choice Images ",-1))]),A("li",Up,[j(l,{modelValue:k(t).settings.hideObjectScores,"onUpdate:modelValue":a[4]||(a[4]=u=>k(t).settings.hideObjectScores=u),"input-id":"hideObjectScores",binary:""},null,8,["modelValue"]),a[16]||(a[16]=A("label",{class:"grow",for:"hideObjectScores"}," Hide Choice Scores ",-1))]),A("li",$p,[j(l,{modelValue:k(t).settings.hideObjectRequirements,"onUpdate:modelValue":a[5]||(a[5]=u=>k(t).settings.hideObjectRequirements=u),"input-id":"hideObjectRequirements",binary:""},null,8,["modelValue"]),a[17]||(a[17]=A("label",{class:"grow",for:"hideObjectRequirements"}," Hide Choice Requirements ",-1))]),A("li",Fp,[j(l,{modelValue:k(t).settings.hideObjectText,"onUpdate:modelValue":a[6]||(a[6]=u=>k(t).settings.hideObjectText=u),"input-id":"hideObjectText",binary:""},null,8,["modelValue"]),a[18]||(a[18]=A("label",{class:"grow",for:"hideObjectText"}," Hide Choice Text ",-1))]),A("li",zp,[a[19]||(a[19]=A("div",{class:"w-[var(--p-checkbox-width)] h-[var(--p-checkbox-width)]"},null,-1)),a[20]||(a[20]=A("label",{class:"grow",for:"hideObjectText"}," Show Object Controls ",-1)),j(f,{modelValue:k(t).settings.showObjectControls,"onUpdate:modelValue":a[7]||(a[7]=u=>k(t).settings.showObjectControls=u),"input-id":"showObjectControls",options:[{label:"Auto",value:"auto"},{label:"Always",value:"always"},{label:"Never",value:"never"}],"option-label":"label","option-value":"value",size:"small"},null,8,["modelValue"])]),A("li",Hp,[j(l,{modelValue:k(t).settings.showObjectOverflow,"onUpdate:modelValue":a[8]||(a[8]=u=>k(t).settings.showObjectOverflow=u),"input-id":"showObjectOverflow",binary:""},null,8,["modelValue"]),a[21]||(a[21]=A("label",{class:"grow",for:"showObjectOverflow"}," Show Object Overflow ",-1))]),A("li",Wp,[j(l,{modelValue:k(t).settings.showObjectAddons,"onUpdate:modelValue":a[9]||(a[9]=u=>k(t).settings.showObjectAddons=u),"input-id":"showObjectAddons",binary:""},null,8,["modelValue"]),a[22]||(a[22]=A("label",{class:"grow",for:"showObjectAddons"}," Show Object Addons ",-1))]),a[27]||(a[27]=A("li",{class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700 font-bold text-primary"}," Addon Settings ",-1)),A("li",Gp,[j(l,{modelValue:k(t).settings.hideAddonRequirements,"onUpdate:modelValue":a[10]||(a[10]=u=>k(t).settings.hideAddonRequirements=u),"input-id":"hideAddonRequirements",binary:""},null,8,["modelValue"]),a[23]||(a[23]=A("label",{class:"grow",for:"hideAddonRequirements"}," Hide Addon Requirements ",-1))]),A("li",Jp,[j(l,{modelValue:k(t).settings.hideAddonText,"onUpdate:modelValue":a[11]||(a[11]=u=>k(t).settings.hideAddonText=u),"input-id":"hideAddonText",binary:""},null,8,["modelValue"]),a[24]||(a[24]=A("label",{class:"grow",for:"hideAddonText"}," Hide Addon Text ",-1))])])):T("",!0)}}}),Yp=Object.assign(Kp,{__name:"DisplaySettings"}),Xp={class:"flex flex-col gap-0 mb-2"},Qp={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},Zp={key:0,class:"flex flex-col gap-2 py-2"},em={class:"mb-2"},tm={class:"flex flex-col gap-0"},rm={class:"flex flex-col gap-2 py-2"},nm={class:"flex flex-col gap-0"},sm={class:"flex flex-row items-center gap-2 py-2"},im={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},om={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},am={class:"flex flex-row items-center gap-2 py-2 border-b border-surface-700"},lm=z({__name:"ViewerSettings",setup(e){const{viewerProjectList:t}=Ye(),{showDisabledAddonsInBackpack:n,hideImagesInBackpack:a,hideTextInBackpack:l,lockBackpackObjects:f,displaySettings:u,lightThemeUI:h,loadProjectOnStartup:m}=ut(),c=M({get:()=>ue(m.value)?"--none":m.value,set:s=>{s==="--none"?m.value="":m.value=s}}),r=M(()=>yu({name:"None (show menu)",value:"--none"},t.value.items.map(s=>({name:s.title,value:s.id})))),p=M(()=>{const s=u.value;return s.type==="preset"?s.name:"--custom"}),o=al({value:"--custom",name:"Custom"},K(([s,{name:d}])=>({value:s,name:d}),Object.entries(yn))),i=s=>{const d=s.value;d==="--custom"?u.value={type:"custom",settings:Le(yn.default)}:u.value={type:"preset",name:d}};return(s,d)=>{const g=xo,b=_o,y=Yp;return O(),I("div",null,[d[14]||(d[14]=A("h5",{class:"text-xl text-primary font-bold"},"Viewer",-1)),A("ul",Xp,[A("li",Qp,[j(g,{modelValue:k(h),"onUpdate:modelValue":d[0]||(d[0]=_=>oe(h)?h.value=_:null),binary:"","input-id":"lightThemeUI"},null,8,["modelValue"]),d[6]||(d[6]=A("div",{class:"flex flex-col gap-1"},[A("label",{for:"lightThemeUI",class:"grow"}," Light Theme UI "),A("small",{class:"text-slate-500 text-sm"}," When enabled, the viewer UI will use the light theme. ")],-1))]),k(ot)(k(t).default)?(O(),I("li",Zp,[d[7]||(d[7]=A("label",{class:"grow",for:"hideDisabledAddons"}," Default Project ",-1)),j(b,{modelValue:k(c),"onUpdate:modelValue":d[1]||(d[1]=_=>oe(c)?c.value=_:null),"aria-label":"Default CYOA to load at Startup",options:k(r),"option-label":"name","option-value":"value",class:"grow"},null,8,["modelValue","options"]),d[8]||(d[8]=A("small",{class:"text-slate-500 text-sm"}," Automatically loads at startup ",-1))])):T("",!0)]),d[15]||(d[15]=A("h5",{class:"text-xl text-primary font-bold"},"Display",-1)),A("div",em,[A("ul",tm,[A("li",rm,[d[9]||(d[9]=A("label",{class:"grow"},"Preset",-1)),j(b,{"aria-label":"Default CYOA to load at Startup","model-value":k(p),options:k(o),"option-label":"name","option-value":"value",class:"grow",onChange:i},null,8,["model-value","options"])])]),j(y)]),d[16]||(d[16]=A("h5",{class:"text-xl text-primary font-bold"},"Backpack",-1)),A("ul",nm,[A("li",sm,[j(g,{modelValue:k(f),"onUpdate:modelValue":d[2]||(d[2]=_=>oe(f)?f.value=_:null),"input-id":"lockBackpackObjects",binary:""},null,8,["modelValue"]),d[10]||(d[10]=A("div",{class:"flex flex-col gap-1"},[A("label",{class:"form-check-label",for:"lockBackpackObjects"}," Lock objects in backpack "),A("small",{class:"text-slate-500 text-sm"}," Does not deselect backpack items when clicked ")],-1))]),A("li",im,[j(g,{modelValue:k(n),"onUpdate:modelValue":d[3]||(d[3]=_=>oe(n)?n.value=_:null),"input-id":"showDisabledAddonsInBackpack",binary:""},null,8,["modelValue"]),d[11]||(d[11]=A("div",{class:"flex flex-col gap-1"},[A("label",{class:"form-check-label",for:"showDisabledAddonsInBackpack"}," Show Disabled Addons "),A("small",{class:"text-slate-500 text-sm"}," Show addons whose conditions are not met in backpack ")],-1))]),A("li",om,[j(g,{modelValue:k(a),"onUpdate:modelValue":d[4]||(d[4]=_=>oe(a)?a.value=_:null),"input-id":"hideImagesInBackpack",binary:""},null,8,["modelValue"]),d[12]||(d[12]=A("div",{class:"flex flex-col gap-1"},[A("label",{class:"form-check-label",for:"hideImagesInBackpack"}," Hide Images "),A("small",{class:"text-slate-500 text-sm"}," Hide images in the backpack and export ")],-1))]),A("li",am,[j(g,{modelValue:k(l),"onUpdate:modelValue":d[5]||(d[5]=_=>oe(l)?l.value=_:null),"input-id":"hideTextInBackpack",binary:""},null,8,["modelValue"]),d[13]||(d[13]=A("div",{class:"flex flex-col gap-1"},[A("label",{class:"form-check-label",for:"hideTextInBackpack"}," Hide Choice Text "),A("small",{class:"text-slate-500 text-sm"}," Hide choice text in the backpack and export ")],-1))])])])}}}),um=Object.assign(lm,{__name:"ViewerSettings"}),cm={class:"p-4 flex flex-row border-b border-surface-700"},dm={class:"text-primary text-2xl flex-1"},fm={class:"p-4 overflow-y-auto"},hm={key:0,class:"mb-2"},pm={class:"fw-bold"},mm={class:"font-monospace text-gray"},gm=z({__name:"MenuModal",setup(e){const{toggleProjectMenu:t,viewerProjectList:n}=Ee(),{isProjectMenuVisible:a}=Ye(),{store:l}=de();return U("save-load"),(f,u)=>{const h=we,m=jl,c=Ll,r=Il,p=sa,o=na,i=Zo,s=Tp,d=Rl,g=El,b=Pl;return O(),$(b,{visible:k(a),"onUpdate:visible":u[0]||(u[0]=y=>oe(a)?a.value=y:null),position:"left",class:"menu-modal","block-scroll":!0,dt:{border:{color:null}}},{container:H(({closeCallback:y})=>[A("div",cm,[A("h1",dm,W(k(l).status==="loaded"?k(l).file.projectName:""),1),j(h,{icon:"pi pi-times",rounded:"",variant:"outlined",severity:"secondary",size:"small",onClick:_=>y()},null,8,["onClick"])]),A("div",fm,[j(g,{value:"save-load",dt:{tabpanel:{padding:"1rem 0 0 0"}}},{default:H(()=>[j(c,null,{default:H(()=>[k(n).show_project_sidebar?(O(),$(m,{key:0,value:"project"},{default:H(()=>[...u[1]||(u[1]=[Z(" Index ",-1)])]),_:1})):T("",!0),j(m,{value:"save-load"},{default:H(()=>[...u[2]||(u[2]=[Z("Save / Load",-1)])]),_:1}),j(m,{value:"library"},{default:H(()=>[...u[3]||(u[3]=[Z("Library",-1)])]),_:1}),j(m,{value:"settings"},{default:H(()=>[...u[4]||(u[4]=[Z("Settings",-1)])]),_:1})]),_:1}),j(d,null,{default:H(()=>[k(n).show_project_sidebar?(O(),$(r,{key:0,value:"project"},{default:H(()=>[k(l).status==="loaded"?(O(),I("div",hm,[A("div",pm,W(k(l).file.projectName),1),A("div",mm," Hash: "+W(k(l).file.projectHash),1)])):T("",!0),j(Do,{"project-list":k(n),compact:!0},null,8,["project-list"])]),_:1})):T("",!0),j(r,{value:"save-load"},{default:H(()=>[j(p),u[5]||(u[5]=A("div",{class:"my-2 border-t border-surface-700"},null,-1)),j(o),u[6]||(u[6]=A("div",{class:"my-2 border-t border-surface-700"},null,-1)),j(i)]),_:1}),j(r,{value:"library"},{default:H(()=>[j(s)]),_:1}),j(r,{value:"settings"},{default:H(()=>[j(um)]),_:1})]),_:1})]),_:1})])]),_:1},8,["visible"])}}}),vm=Object.assign(gm,{__name:"MenuModal"}),bm=z({__name:"NotesModal",setup(e){const{toggleNotes:t}=Ee(),{isNotesVisible:n}=Ye();return(a,l)=>{const f=Sa,u=pr;return O(),$(u,{visible:k(n),"onUpdate:visible":l[0]||(l[0]=h=>oe(n)?n.value=h:null),modal:!0,"dismissable-mask":!0,draggable:!1,maximizable:!1,class:"w-full h-full lg:mx-[2rem] mx-0",dt:{header:{padding:"1rem"},content:{padding:"1rem"}}},{header:H(()=>[...l[1]||(l[1]=[A("h5",{class:"text-primary text-xl"},"Notes",-1)])]),default:H(()=>[j(f,{compact:!1,editable:!0})]),_:1},8,["visible"])}}}),ym=Object.assign(bm,{__name:"NotesModal"}),wm={class:"title"},_m=["innerHTML"],xm=z({__name:"ViewAddon",props:{objId:{},index:{},addon:{},display:{},parentEnabled:{type:Boolean}},setup(e){const t=e,{selectedIds:n}=de(),a=M(()=>Ue(t.addon)),l=M(()=>a.value(n.value)),f=Ee(),u=()=>{f.showObjectDetails={id:t.objId,addonId:ot(t.addon.id)||ue(t.addon.id)?t.index:t.addon.id,tab:"parents"}};return(h,m)=>{const c=qo;return O(),I("div",{class:Q(["addon",{disabled:!k(l)}])},[A("div",wm,W(e.addon.title),1),e.display?.hideAddonRequirements?T("",!0):(O(),$(c,{key:0,requireds:e.addon.requireds,"show-always":!0,"enable-show-more":!0,onShowMore:m[0]||(m[0]=r=>u())},null,8,["requireds"])),e.display?.hideAddonText?T("",!0):(O(),I("div",{key:1,class:"text",innerHTML:("formatText"in h?h.formatText:k(ur))(e.addon.text)},null,8,_m))],2)}}}),ka=Object.assign(xm,{__name:"ViewAddon"}),Sm=Object.freeze(Object.defineProperty({__proto__:null,default:ka},Symbol.toStringTag,{value:"Module"}));var km=dl(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ca=(function(e){vo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var a=new so(this,this);return a.operator=n,a},t.prototype._throwIfClosed=function(){if(this.closed)throw new km},t.prototype.next=function(n){var a=this;kr(function(){var l,f;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var u=pl(a.currentObservers),h=u.next();!h.done;h=u.next()){var m=h.value;m.next(n)}}catch(c){l={error:c}}finally{try{h&&!h.done&&(f=u.return)&&f.call(u)}finally{if(l)throw l.error}}}})},t.prototype.error=function(n){var a=this;kr(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=n;for(var l=a.observers;l.length;)l.shift().error(n)}})},t.prototype.complete=function(){var n=this;kr(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var a=n.observers;a.length;)a.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var a=this,l=this,f=l.hasError,u=l.isStopped,h=l.observers;return f||u?bo:(this.currentObservers=null,h.push(n),new fl(function(){a.currentObservers=null,hl(h,n)}))},t.prototype._checkFinalizedStatuses=function(n){var a=this,l=a.hasError,f=a.thrownError,u=a.isStopped;l?n.error(f):u&&n.complete()},t.prototype.asObservable=function(){var n=new ms;return n.source=this,n},t.create=function(n,a){return new so(n,a)},t})(ms),so=(function(e){vo(t,e);function t(n,a){var l=e.call(this)||this;return l.destination=n,l.source=a,l}return t.prototype.next=function(n){var a,l;(l=(a=this.destination)===null||a===void 0?void 0:a.next)===null||l===void 0||l.call(a,n)},t.prototype.error=function(n){var a,l;(l=(a=this.destination)===null||a===void 0?void 0:a.error)===null||l===void 0||l.call(a,n)},t.prototype.complete=function(){var n,a;(a=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||a===void 0||a.call(n)},t.prototype._subscribe=function(n){var a,l;return(l=(a=this.source)===null||a===void 0?void 0:a.subscribe(n))!==null&&l!==void 0?l:bo},t})(Ca);function Cm(e){return new Worker(""+new URL("worker-BhN3Loga.js",import.meta.url).href,{name:e?.name})}function Am(){const{getRow:e,getObject:t,getObjectAddon:n}=pe(),{project:a}=de(),l=U(""),f=U([]),u=U(0),h=U(!1),m=U(null),c=new Ca;async function r(){if(!m.value)try{m.value=new Cm,m.value.addEventListener("message",g=>{c.next(g.data)}),o({type:"init",project:a.value.data})}catch(g){console.log("initSearchWorker",g)}}function p(){m.value&&m.value.terminate()}function o(g){if(!m.value)throw new Error("Worker not initialized");try{m.value.postMessage({event:JSON.stringify(g)})}catch(b){console.log("publishSync",b)}}async function i(g){if(!m.value)return Promise.reject(new Error("Worker not initialized"));const b=crypto.randomUUID();try{m.value.postMessage({event:JSON.stringify(g),replyTo:b})}catch(y){console.log("publishAsync",y)}return new Promise((y,_)=>{const v=c.subscribe({next:w=>{w.replyTo===b&&(y(JSON.parse(w.message)),v.unsubscribe())},error:w=>{_(w),v.unsubscribe()},complete:()=>{_(new Error("Worker completed without reply")),v.unsubscribe()}})})}async function s(){const{results:g,count:b}=await i({type:"search",query:l.value});u.value=b,f.value=K(y=>uo(y).with({type:"object"},({rowId:_,objId:v})=>{const w=e(_),x=t(v);return{type:"object",key:v,row:w,obj:x}}).with({type:"addon"},({rowId:_,objId:v,addonId:w})=>{const x=e(_),C=t(v),S=n(v,w);return{type:"addon",row:x,obj:C,addon:S.data,index:S.index,key:`${v}:${w}`}}).exhaustive(),g)}async function d(){a.value&&(h.value=!0,await bt(),await Promise.all([s(),Vn(400)]),h.value=!1)}return{searchText:l,searchResults:f,searchResultCount:u,searchLoading:h,updateResults:d,initSearchWorker:r,closeSearchWorker:p}}const Om={class:"absolute top-0 right-0 pt-2 pr-2 z-20 hidden md:block"},Pm={class:"search-modal w-full h-full md:h-auto overflow-auto"},Em={class:"search-header w-full"},Rm={class:"flex flex-row gap-2 items-center"},Im={class:"panel results-list"},Lm={class:"h-full overflow-auto flex flex-col gap-2 relative"},jm={key:0,class:"flex flex-col gap-2 py-2 h-full md:max-h-[20rem] overflow-hidden relative"},Bm={class:"flex flex-col gap-1 w-full"},Tm={class:"font-bold"},Mm={class:"text-surface-500"},Nm=["onClick"],Dm={class:"flex flex-col gap-1"},qm={class:"font-bold"},Vm={class:"text-surface-500"},Um=["onClick"],$m={class:"flex flex-col gap-1"},Fm={class:"break-normal"},zm={class:"font-bold"},Hm={class:"text-surface-500 text-sm"},Wm={class:"text-surface-500 break-normal"},Gm={key:1,class:"text-surface-500 text-center text-sm py-2"},Jm={key:2,class:"absolute top-0 left-0 w-full h-full bg-black/50 flex flex-col p-8 z-10"},Km={key:0,class:"results-view"},Ym={key:1,class:"h-full flex flex-col"},Xm={class:"project-obj obj-default"},Qm={class:"project-obj-content"},Zm=z({__name:"SearchModal",setup(e){const{isSearchVisible:t}=Ye(),{searchText:n,searchResults:a,searchResultCount:l,searchLoading:f,updateResults:u,initSearchWorker:h,closeSearchWorker:m}=Am();dr(()=>{h()}),io(()=>{m()});const c=Ee(),r=U(null),p=U(),o=U();it(t,b=>{b===!1&&(n.value="",a.value=[],r.value=null)}),it(n,b=>{b===""&&(r.value=null)});const i=ko(()=>{u()},500,{leading:!1,trailing:!0}),s=b=>r.value?b.type===r.value.type&&b.key===r.value.key:!1,d=b=>{r.value&&s(b)?r.value=null:r.value=b},g=b=>{c.showObjectDetails={id:b.id,tab:"details"}};return(b,y)=>{const _=we,v=_t,w=wo,x=Tn,C=So,S=Gn,E=ka,P=pr;return O(),$(P,{visible:k(t),"onUpdate:visible":y[5]||(y[5]=R=>oe(t)?t.value=R:null),modal:!0,"dismissable-mask":!0,unstyled:!0,"pt:root:class":"w-full md:w-2/3 p-4 h-full md:h-auto max-h-[100%]","pt:mask:class":"backdrop-blur-sm"},{container:H(()=>[A("div",Om,[j(_,{icon:"iconify carbon--close size-6",severity:"secondary",variant:"outlined",rounded:!0,onClick:y[0]||(y[0]=R=>t.value=!1)})]),A("div",Pm,[A("div",Em,[A("div",Rm,[j(v,{ref_key:"searchInput",ref:o,modelValue:k(n),"onUpdate:modelValue":y[1]||(y[1]=R=>oe(n)?n.value=R:null),placeholder:"Search the CYOA",fluid:!0,autofocus:!0,onInput:k(i)},null,8,["modelValue","onInput"]),j(_,{icon:"iconify carbon--information",severity:"secondary",class:"size-10",onClick:y[2]||(y[2]=R=>k(p).toggle(R))}),j(_,{icon:"iconify carbon--close size-6",severity:"secondary",class:"md:hidden size-10",onClick:y[3]||(y[3]=R=>t.value=!1)})]),j(w,{ref_key:"searchHelp",ref:p},{default:H(()=>[...y[6]||(y[6]=[A("div",{class:"search-help"},[A("div",{class:"font-bold text-primary"},"Search Syntax"),A("ul",null,[A("li",null,[Z(" Exact value: "),A("span",{class:"code"},'"corona pollentia"')]),A("li",null,[Z(" Only titles:"),A("span",{class:"code"},"title:taylor"),Z(" or "),A("span",{class:"code"},'title:"taylor hebert"'),Z(" for exact value (works on other fields too) ")]),A("li",null,[Z("Only text:"),A("span",{class:"code"},"text:charges")]),A("li",null,[Z("Search in row:"),A("span",{class:"code"},"row:magic")]),A("li",null,[Z("Requirement:"),A("span",{class:"code"},"required:skitter")]),A("li",null,[Z(" Search exact cost/gain: "),A("span",{class:"code"},"cost:10SP")]),A("li",null,[Z(" Search cost/gain less or great than: "),A("span",{class:"code"},'gain:"<10 SP"')]),A("li",null,[Z("Search by ID: "),A("span",{class:"code"},"id:3ea234")]),A("li",null,[Z("Alternatives: "),A("span",{class:"code"},"trump or tinker")])])],-1)])]),_:1},512)]),A("div",{class:Q(["search-results w-full h-full",{"show-view":!!k(r)}])},[A("div",Im,[A("div",Lm,[k(ue)(k(a))?(O(),I("div",jm,[(O(!0),I(X,null,ae(k(_u)(0,20),R=>(O(),I("div",{key:R,class:"result-item"},[j(x,{shape:"circle",size:"1rem",animation:"none"}),A("div",Bm,[A("div",Tm,[j(x,{width:"100%",height:"1rem",animation:"none"})]),A("div",Mm,[j(x,{width:"60%",height:"1rem",animation:"none"})])])]))),128)),y[7]||(y[7]=A("div",{class:"absolute bottom-0 left-0 right-0 top-0 bg-surface-900/50 flex flex-row justify-center items-center"},[A("div",{class:"text-surface-500 text-center text-sm"},[A("span",null,"no results ...")])],-1))])):T("",!0),(O(!0),I(X,null,ae(k(a),R=>(O(),I(X,{key:R.key},[R.type==="object"?(O(),I("div",{key:0,class:Q(["result-item",{selected:s(R)}]),onClick:L=>d(R)},[y[8]||(y[8]=A("div",{class:"iconify carbon--cube size-4 mt-1 text-primary-500"},null,-1)),A("div",Dm,[A("div",qm,W(R.obj.title),1),A("div",Vm,W(R.row.title),1)])],10,Nm)):T("",!0),R.type==="addon"?(O(),I("div",{key:1,class:Q(["result-item",{selected:s(R)}]),onClick:L=>d(R)},[y[9]||(y[9]=A("div",{class:"iconify carbon--hexagon-vertical-outline size-4 mt-1 text-primary-500"},null,-1)),A("div",$m,[A("div",Fm,[A("span",zm,W(R.addon.title),1),A("span",Hm," on "+W(R.obj.title),1)]),A("div",Wm,W(R.row.title),1)])],10,Um)):T("",!0)],64))),128)),k(l)>k(a).length?(O(),I("div",Gm,W(k(l))+" total results ",1)):T("",!0),k(f)?(O(),I("div",Jm,[j(C)])):T("",!0)])]),k(r)?(O(),I("div",Km,[k(r).type==="object"?(O(),$(S,{key:0,obj:k(r).obj,row:k(r).row,"view-object":k(Ce).Viewer,template:"1","force-width":"col-12",class:"h-full","allow-overflow":!0,"show-addons":!1,display:{showObjectControls:"always"}},null,8,["obj","row","view-object"])):T("",!0),k(r).type==="addon"?(O(),I("div",Ym,[A("div",{class:"flex flex-row gap-1 items-center justify-center p-2 bg-surface-900 mb-1 border border-surface-700 rounded-xl",onClick:y[4]||(y[4]=R=>g(k(r).obj))},[...y[10]||(y[10]=[A("div",{class:"iconify carbon--zoom-in"},null,-1),A("span",null,"Show Parent",-1)])]),A("div",Xm,[A("div",Qm,[j(E,{addon:k(r).addon,index:k(r).index,"obj-id":k(r).obj.id},null,8,["addon","index","obj-id"])])])])):T("",!0)])):T("",!0)],2)])]),_:1},8,["visible"])}}}),eg=Object.assign(le(Zm,[["__scopeId","data-v-d1f76a11"]]),{__name:"SearchModal"}),tg=z({__name:"StyleProject",props:{styles:{}},setup(e){const t=[new Hn,new gr({global:!0}),new St({global:!0})],n=M(()=>zn(e.styles,t));return(a,l)=>(O(),$(Un,{stylesheet:k(n)},null,8,["stylesheet"]))}}),rg=Object.assign(tg,{__name:"StyleProject"}),ng=z({__name:"SearchField",setup(e){const{toggleSearch:t}=Ee();return(n,a)=>{const l=we;return O(),$(l,{unstyled:!0,class:"flex flex-row items-center border border-surface-500 rounded-full ps-3 pe-2 py-1",onClick:a[0]||(a[0]=f=>k(t)())},{default:H(()=>[...a[1]||(a[1]=[A("div",{class:"w-4 border-b border-surface-300 h-5"},null,-1),A("div",{class:"h-5 w-8"},null,-1),A("div",{class:"size-5 iconify solar--magnifer-outline"},null,-1)])]),_:1})}}}),sg=Object.assign(ng,{__name:"SearchField"}),ig={class:"flex flex-row items-center"},og={class:"flex gap-1 items-center"},ag=z({__name:"ViewMenuBar",setup(e){const{toggleBackpack:t,toggleSearch:n,toggleProjectMenu:a,toggleNotes:l}=Ee(),{buildData:f,buildModified:u}=de(),h=ls(),m=En(),c=cr(),r={padding:{x:"0.25rem",y:"0.25rem"},border:{radius:"0.10rem"}},p={icon:{class:"size-5"}},o=M(()=>Se(f.value)),i=async s=>{Se(f.value)&&m.require({target:s.currentTarget,message:"Overwrite your saved build?",icon:"pi pi-exclamation-triangle",group:"popup",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Save"},accept:async()=>{await h.updateBuild(f.value),u.value=!1,c.add({severity:"info",summary:`Build Updated ${f.value.name}`,life:1e3})}})};return(s,d)=>{const g=we,b=sg,y=Tl;return O(),$(y,{class:"sticky-top sticky top-0 z-50 md:h-12 h-24",dt:{padding:"0.3rem",border:{radius:0,color:null}},pt:{root:"grid md:grid-cols-3 md:grid-rows-1 grid-cols-2 grid-rows-2 gap-2",center:"justify-self-center order-3 md:order-2 col-span-2 md:col-span-1",start:"justify-self-start order-1 md:order-1",end:"justify-self-end order-2 md:order-3"}},{start:H(()=>[A("div",ig,[j(g,{variant:"text",icon:"iconify solar--hamburger-menu-outline",severity:"contrast",dt:r,pt:p,onClick:d[0]||(d[0]=_=>k(a)())})])]),center:H(()=>[j(ea,{short:"",class:"item-scores"})]),end:H(()=>[A("div",og,[j(g,{variant:"text",severity:"contrast",dt:r,pt:p,icon:"iconify solar--backpack-outline",onClick:d[1]||(d[1]=_=>k(t)())}),j(g,{variant:"text",severity:"contrast",dt:r,pt:p,icon:"iconify solar--notes-outline",onClick:d[2]||(d[2]=_=>k(l)())}),k(o)?(O(),$(g,{key:0,variant:"text",severity:"contrast",dt:r,pt:p,icon:"iconify solar--diskette-outline",onClick:d[3]||(d[3]=_=>i(_))})):T("",!0),j(b)])]),_:1})}}}),lg=Object.assign(ag,{__name:"ViewMenuBar"}),ug={class:"project"},cg={class:"rows"},dg=z({__name:"ProjectView",props:{project:{}},setup(e){const{resolveDisplaySettings:t}=lt(),n=M(()=>t());return(a,l)=>{const f=pd,u=gd,h=_d,m=kl,c=Sl,r=xl;return O(),I(X,null,[j(lg),A("div",ug,[A("div",cg,[(O(!0),I(X,null,ae(e.project.rows,p=>(O(),$(f,{key:p.id,row:p,display:k(n)},null,8,["row","display"]))),128))])]),j(u),j(rg,{styles:e.project.styling},null,8,["styles"]),j(rp),j(ym),j(eg),j(vm),j(h),j(m),j(c,{group:"popup"}),j(r,{group:"modal"})],64)}}}),fg=Object.assign(dg,{__name:"ProjectView"}),hg={key:0,class:"loading-overlay"},pg={class:"loading-progress"},mg={key:0,class:"font-bold"},gg={class:"loading-background"},vg=["src"],bg=z({__name:"ProjectLoadOverlay",async setup(e){let t,n;const{store:a}=de(),l=lr(),{viewerProjectList:f}=Ye(),{loadProject:u}=pe(),{hasPreference:h}=lt(),{loadProjectOnStartup:m}=ut(),c=lr(),{data:r}=([t,n]=ao(()=>Co("backgrounds",()=>fetch(`${c.app.baseURL}config/viewer/backgrounds.json`).then(s=>s.json()))),t=await t,n(),t),p=U(null),o=()=>{const s=r.value;if(s&&s.enabled&&!ue(s.images)){const d=ho(jo(_=>_.weight??1,s.images)),g=hu(K(_=>_.weight??1,d)),b=Math.round(Math.random()*g);let y=0;for(let _=0;_<d.length;_++){const v=d[_];if(y+=v.weight??1,b<=y){p.value=`${l.app.baseURL}${v.url}`;return}}p.value=`${l.app.baseURL}${d[0].url}`}};o(),co(o,5e3);const i=s=>ml(vl(s,"id"),f.value.items);return dr(async()=>{let s=!1,d=null;h()&&m.value&&a.value.status==="empty"&&(s=!0,d=i(m.value)),Se(f.value.default)&&(s=!0,d=i(f.value.default)),s&&d&&await u(async g=>{const b=await fetch(d.file_url);if(b.ok){const y=b.body.getReader();let _=0;const v=[];for(;;){const{done:C,value:S}=await y.read();if(C)break;v.push(S),_+=S.length;const E=_/(1024*1024),P=Math.round(E*100)/100;await g(`Downloaded ${P} Mb`)}await g(`Loading ${d.title}...`),await Vn(100);const w=new Uint8Array(_);let x=0;for(const C of v)w.set(C,x),x+=C.length;return{fileContents:go(w.buffer),fileName:d.file_url.toString()}}else throw new Error(`HTTP Request failed with ${b.status}: ${b.statusText}`)})}),(s,d)=>{const g=So;return k(a).status==="loading"?(O(),I("div",hg,[A("div",pg,[j(g,{class:"size-8"}),k(a).progress?(O(),I("strong",mg,W(k(a).progress),1)):T("",!0)]),A("div",gg,[Se(k(p))?(O(),I("img",{key:0,src:k(p),alt:"Background ..."},null,8,vg)):T("",!0)])])):T("",!0)}}}),yg=Object.assign(le(bg,[["__scopeId","data-v-8a6810aa"]]),{__name:"ProjectLoadOverlay"}),wg=z({__name:"ProjectViewWrapper",setup(e){const{project:t}=de();return(n,a)=>{const l=fg;return O(),I(X,null,[k(Se)(k(t))?(O(),$(l,{key:0,project:k(t).data},null,8,["project"])):T("",!0),j(yg)],64)}}}),_g=Object.assign(wg,{__name:"ProjectViewWrapper"}),xg=z({__name:"index",async setup(e){let t,n;const{store:a,buildModified:l}=de(),{viewerProjectList:f}=Ye(),{lightThemeUI:u}=ut(),h=lr(),{data:m}=([t,n]=ao(async()=>Co("projects",async()=>{const r=await $fetch(`${h.app.baseURL}config/viewer/projects.json`);if(r.remote){const p=await $fetch(r.remote),o=fr(r.items,p.items);return qe("items",o,vn(r,p))}else return r})),t=await t,n(),t);m.value&&(f.value=m.value);function c(r){r?(document.documentElement.classList.remove("dark-theme"),document.documentElement.classList.add("light-theme")):(document.documentElement.classList.remove("light-theme"),document.documentElement.classList.add("dark-theme"))}return dr(()=>{window.addEventListener("beforeunload",p=>l.value?(p.preventDefault(),!0):!1);const r=u.value;c(r)}),it(()=>u.value,r=>{c(r)}),(r,p)=>{const o=Do,i=_l;return O(),I(X,null,[j(_g),k(a).status==="empty"?(O(),$(o,{key:0,"project-list":k(f)},null,8,["project-list"])):T("",!0),j(i)],64)}}}),sv=Object.freeze(Object.defineProperty({__proto__:null,default:xg},Symbol.toStringTag,{value:"Module"}));export{Tc as P,Vc as V,qo as _,Ee as a,Ue as b,Ko as c,pe as d,Ce as e,ur as f,ka as g,Je as h,sr as i,Gn as j,sv as k,fu as m,de as u};
