import E from"./B8pibtp6.js";import B from"./VyHu6ANc.js";import H from"./BA-LYd87.js";import J from"./DupcYGz-.js";import P from"./BeDBOdWI.js";import{G as F,a as K,_ as Q}from"./saD5YKaZ.js";import{a as g,O as V,o as ee}from"./6hzvT-dP.js";import{i as U,g as oe,L as te,Y as ne,u as le,x as ie,B as re}from"./lpIx-tlP.js";import{f as se}from"./C4IwuW4T.js";import{d as b,k as h,r as j,y,z as f,C as o,S as l,D as m,A as n,Z as A,E as T,B as R,a2 as L,Y as W,$ as q,a0 as ae,X as de}from"./DdzSJcTg.js";import M from"./C9onH5Hv.js";import{_ as ce}from"./BbuwxmIR.js";import{_ as G}from"./5rTHRgS3.js";import O from"./C2rt0_RV.js";import Y from"./C3lSEtJG.js";import X from"./BbpFMqdt.js";import ue from"./BlHGlOjs.js";import{u as Z}from"./D9GHut1E.js";import{u as me}from"./DKvN57Uz.js";import pe from"./DJwvR4SB.js";import N from"./Dnjk2MVe.js";import fe from"./CpV7bDbh.js";import _e from"./BgSNwDXh.js";import ve from"./CW5EUvFj.js";import{t as z}from"./Cylf5aCO.js";import"./CLs7nh7g.js";import"./DEF_5YPs.js";import"./CmGQrYfe.js";import"./B82uFDcP.js";import"./jc0MLXVe.js";import"./vCC6k1YF.js";import"./DEzLWorB.js";import"./BzRqn72E.js";import"./DBYfWbxS.js";import"./BHU4Xbey.js";import"./CYCsxq4j.js";import"./CFeJpXGj.js";import"./C-S3JTEP.js";import"./DFNegMOL.js";import"./CMhfbj1E.js";import"./nHf-jst-.js";import"./Bn_dQIQc.js";import"./DdqGBk-8.js";import"./m4vJiAqj.js";import"./D18zueMs.js";import"./DJJUpE4W.js";import"./ZhWAdK_X.js";import"./CoE0eL3f.js";import"./CrTQrfco.js";import"./CxzeFJE2.js";import"./g2hQxUwo.js";import"./CfOVHJNO.js";import"./CKA2__bX.js";import"./m675qk77.js";import"./D0E_-NQY.js";import"./BciKtvTx.js";import"./siIC-rLu.js";import"./nu2iADBt.js";import"./DzQKAQGE.js";import"./MmA3I2Zj.js";import"./CaxQXp7R.js";const xe={class:"flex flex-col gap-2 items-stretch"},we={class:"flex flex-row gap-2 justify-stretch"},ye=b({__name:"ChoiceLayout",props:{choiceId:{},index:{}},setup(s){const a=g(),d=s,t=h(()=>{const v=a.getParent(d.choiceId);return a.getChildren(v)[d.index]}),c=h(()=>{const v=t.value.layout?.width;return U(v)?"auto":se(w=>w.value===v,F).label}),e=h(()=>{const v=a.getParent(d.choiceId);return a.get(v,V.row).layout.itemWidth}),p=j(),i=j("auto"),r=j(0);function _(v){const w=t.value.layout?.width;i.value=U(w)?"auto":"override",r.value=w??e.value,p.value.toggle(v)}function x(){i.value==="auto"?t.value.layout=ee(["width"],t.value.layout??{}):t.value.layout=oe("width",r.value,t.value.layout??{}),p.value.hide()}const u=[{label:"Auto",value:"auto"},{label:"Override",value:"override"}];return(v,w)=>{const C=P,I=J,k=H,S=B,D=E;return f(),y("div",null,[o(C,{outlined:"",severity:"secondary",label:l(c),"pt:root:class":"leading-none py-0 h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] h-[1.5rem]",onClick:_},null,8,["label"]),o(D,{ref_key:"choiceLayoutPopover",ref:p,"pt:content:class":"min-w-[20rem]"},{default:m(()=>[n("div",xe,[n("div",we,[o(I,{modelValue:l(i),"onUpdate:modelValue":w[0]||(w[0]=$=>A(i)?i.value=$:null),options:u,"option-label":"label","option-value":"value",fluid:""},null,8,["modelValue"]),o(C,{label:"Save",fluid:"",onClick:x})]),o(S,null,{default:m(()=>[o(k,{modelValue:l(r),"onUpdate:modelValue":w[1]||(w[1]=$=>A(r)?r.value=$:null),options:l(F),"option-label":"label","option-value":"value",disabled:l(i)!=="override",class:"grow",fluid:""},null,8,["modelValue","options","disabled"]),w[2]||(w[2]=n("label",null,"Item Width",-1))]),_:1})])]),_:1},512)])}}}),he={class:"flex flex-row gap-2"},ge={class:"flex flex-col gap-2"},be=b({__name:"ChoiceMove",props:{choiceId:{},index:{}},setup(s){Z(),g();const{moveRelative:a,moveAbsolute:d}=me(),t=s,c=j(),e=j(0);function p(x){e.value=t.index,c.value.toggle(x)}function i(){a(t.choiceId,-1)}function r(){a(t.choiceId,1)}function _(){d(t.choiceId,e.value),c.value.hide()}return(x,u)=>{const v=G,w=P,C=ue,I=X,k=Y,S=O,D=E;return f(),y("div",he,[o(C,null,{default:m(()=>[o(v,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-left-line-duotone",onClick:u[0]||(u[0]=$=>i())}),o(w,{outlined:"",severity:"secondary",label:l(te)(s.index),"pt:root:class":"leading-none p-0 w-[2.5rem] h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] w-[1.5rem] h-[1.5rem]",onClick:p},null,8,["label"]),o(v,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-right-line-duotone",onClick:u[1]||(u[1]=$=>r())})]),_:1}),o(D,{ref_key:"indexShiftPopover",ref:c},{default:m(()=>[n("div",ge,[u[4]||(u[4]=n("span",{class:"text-surface-500 text-sm"},"Move to position",-1)),o(S,null,{default:m(()=>[o(I,{modelValue:l(e),"onUpdate:modelValue":u[2]||(u[2]=$=>A(e)?e.value=$:null),"show-buttons":""},null,8,["modelValue"]),o(k,null,{default:m(()=>[o(w,{severity:"secondary",icon:"iconify solar--round-double-alt-arrow-right-line-duotone",onClick:u[3]||(u[3]=$=>_())})]),_:1})]),_:1})])]),_:1},512)])}}}),Ie={class:"flex flex-col gap-2 rounded border border-surface-700 p-2"},$e={class:"flex flex-row justify-between items-center"},Ve={class:"flex flex-row gap-2"},Ce={class:"text-primary text-xl font-bold grow group-hover:underline"},ke={class:"text-surface-500 text-sm"},Se={class:"flex flex-row gap-2"},je={class:"flex flex-col gap-2"},Le={class:"font-bold"},We={class:"max-h-[10rem] overflow-hidden text-ellipsis"},Be=b({__name:"ChoiceCard",props:{choiceId:{},index:{}},setup(s){const a=Z(),d=g(),t=s,c=h(()=>d.get(t.choiceId,V.choice));function e(){a.pushScreen({type:"edit-choice",choiceId:c.value.id})}return(p,i)=>{const r=ye,_=P,x=M;return f(),y("div",Ie,[n("div",$e,[o(be,{"choice-id":s.choiceId,index:s.index},null,8,["choice-id","index"]),o(r,{"choice-id":s.choiceId,index:s.index},null,8,["choice-id","index"]),n("div",Ve,[o(_,{variant:"outlined",size:"small",severity:"secondary"},{default:m(()=>[...i[1]||(i[1]=[T(" Clone ",-1)])]),_:1}),o(_,{variant:"outlined",size:"small",severity:"danger"},{default:m(()=>[...i[2]||(i[2]=[T(" Delete ",-1)])]),_:1})])]),n("div",{class:"flex flex-row items-center cursor-pointer group",onClick:i[0]||(i[0]=u=>e())},[n("div",Ce,R(l(c).name),1),n("div",ke,R(l(c).id),1)]),n("div",Se,[n("div",null,[l(U)(l(c).header?.image)?(f(),L(x,{key:0,width:"5rem",height:"3rem",animation:"none"})):W("",!0),l(c).header?.image?(f(),L(ce,{key:1,"media-id":l(c).header.image,width:"5rem"},null,8,["media-id"])):W("",!0)]),n("div",je,[n("div",Le,R(l(c).header?.title),1),n("div",We,R(l(c).header?.text),1)])])])}}}),Pe={class:"flex flex-row justify-center items-center bg-surface-700"},Re=b({__name:"RowImage",props:{mediaId:{}},setup(s){const a=g(),d=s,t=h(()=>a.media.images[d.mediaId]);return(c,e)=>{const p=_e;return f(),y("div",Pe,[o(p,{src:l(t).data,"pt:image:class":"object-contain object-center"},null,8,["src"])])}}}),Ue={key:0,class:"grid grid-cols-3 gap-2"},Ae={class:"flex flex-col gap-2 items-stretch justify-center grow"},De={class:"flex flex-row justify-stretch grow relative group rounded overflow-auto"},Fe={class:"absolute bg-slate-500/50 top-0 left-0 right-0 bottom-0 opacity-0 group-hover:opacity-100 duration-300 flex flex-row items-center justify-center cursor-pointer"},Ge={class:"flex flex-col gap-2 col-span-2"},Ne={key:1,class:"flex flex-row justify-center items-center min-h-[10rem]"},Te=b({__name:"RowHeaderForm",props:{rowId:{}},setup(s){const a=g(),d=s,t=h(()=>a.get(d.rowId,V.row));return(c,e)=>{const p=M,i=G,r=N,_=B,x=fe,u=P;return l(t).header?(f(),y("div",Ue,[n("div",Ae,[n("div",De,[l(U)(l(t).header?.image)?(f(),L(p,{key:0,animation:"none",class:"grow",height:"auto"})):W("",!0),l(t).header.image?(f(),L(Re,{key:1,"media-id":l(t).header.image,class:"grow border border-surface-700"},null,8,["media-id"])):W("",!0),n("div",Fe,[e[2]||(e[2]=n("i",{class:"iconify solar--pen-line-duotone"},null,-1)),l(t).header.image?(f(),L(i,{key:0,outlined:"",severity:"danger",icon:"iconify solar--trash-bin-trash-line-duotone",class:"absolute right-[0.5rem] bottom-[0.5rem]"})):W("",!0)])])]),n("div",Ge,[o(_,null,{default:m(()=>[o(r,{modelValue:l(t).header.title,"onUpdate:modelValue":e[0]||(e[0]=v=>l(t).header.title=v)},null,8,["modelValue"]),e[3]||(e[3]=n("label",null,"Title",-1))]),_:1}),o(x,{modelValue:l(t).header.text,"onUpdate:modelValue":e[1]||(e[1]=v=>l(t).header.text=v),"editor-style":"height: 12rem;"},null,8,["modelValue"])])])):(f(),y("div",Ne,[o(u,{variant:"outlined",severity:"secondary",icon:"iconify iconify solar--add-circle-line-duotone",label:"Add Header"})]))}}}),qe={key:0,class:"flex flex-col gap-2 grow"},ze=b({__name:"RowLayoutForm",props:{rowId:{}},setup(s){const a=g(),d=s,t=h(()=>a.get(d.rowId,V.row));return(c,e)=>{const p=H,i=B;return l(t).layout?(f(),y("div",qe,[o(i,null,{default:m(()=>[o(p,{modelValue:l(t).layout.itemAlign,"onUpdate:modelValue":e[0]||(e[0]=r=>l(t).layout.itemAlign=r),options:l(K),"option-label":"label","option-value":"value"},null,8,["modelValue","options"]),e[2]||(e[2]=n("label",null,"Item Position",-1))]),_:1}),o(i,null,{default:m(()=>[o(p,{modelValue:l(t).layout.itemWidth,"onUpdate:modelValue":e[1]||(e[1]=r=>l(t).layout.itemWidth=r),options:l(F),"option-label":"label","option-value":"value"},null,8,["modelValue","options"]),e[3]||(e[3]=n("label",null,"Item Width",-1))]),_:1})])):W("",!0)}}}),Ee={class:"flex flex-col gap-2 grow"},He={key:0,class:"p-component p-inputtext flex flex-row gap-1 items-start"},Me={key:1,class:"p-component p-inputtext flex flex-row gap-1 items-center"},Oe=b({__name:"RowRequirementsForm",props:{rowId:{}},setup(s){const a=g(),d=s,t=h(()=>a.get(d.rowId,V.row));return(c,e)=>{const p=X,i=B,r=Q,_=G;return f(),y("div",Ee,[o(i,null,{default:m(()=>[o(p,{modelValue:l(t).requirements.allowedChoices,"onUpdate:modelValue":e[0]||(e[0]=x=>l(t).requirements.allowedChoices=x)},null,8,["modelValue"]),e[1]||(e[1]=n("label",null,"Allowed Choices",-1))]),_:1}),o(i,null,{default:m(()=>[e[3]||(e[3]=n("label",null,"Display Condition",-1)),l(t).requirements.display?(f(),y("div",He,[o(r,{term:l(t).requirements.display,class:"grow"},null,8,["term"]),o(_,{severity:"secondary",icon:"iconify solar--pen-line-duotone",class:"shrink-0"})])):(f(),y("div",Me,[e[2]||(e[2]=n("div",{class:"text-secondary grow"},"Always Visible",-1)),o(_,{severity:"secondary",icon:"iconify solar--add-circle-line-duotone",class:"shrink-0"})]))]),_:1})])}}}),Ye={class:"flex flex-col gap-2"},Xe={class:"flex flex-col gap-2 justify-stretch"},Ze={class:"flex flex-row gap-2"},Je={class:"flex flex-col"},Ke={class:"flex flex-row gap-2"},Qe={class:"flex flex-col grow"},eo={class:"flex flex-col grow"},oo=b({__name:"RowScreenHeader",props:{rowId:{}},setup(s){const a=g(),d=s,t=h(()=>a.get(d.rowId,V.row));return(c,e)=>{const p=N,i=B,r=Te,_=ze,x=ve;return f(),y("div",Ye,[o(x,null,{default:m(()=>[n("div",Xe,[n("div",Ze,[o(i,{class:"grow"},{default:m(()=>[o(p,{modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=u=>l(t).name=u),modelModifiers:{lazy:!0}},null,8,["modelValue"]),e[2]||(e[2]=n("label",null,"Name",-1))]),_:1}),o(i,null,{default:m(()=>[o(p,{modelValue:l(t).id,"onUpdate:modelValue":e[1]||(e[1]=u=>l(t).id=u),disabled:""},null,8,["modelValue"]),e[3]||(e[3]=n("label",null,"ID",-1))]),_:1})]),n("div",Je,[e[4]||(e[4]=n("div",{class:"border-b border-surface-700 pb-1 mb-2"},[n("div",{class:"text-xl font-bold text-primary"},"Header")],-1)),o(r,{"row-id":s.rowId},null,8,["row-id"])]),n("div",Ke,[n("div",Qe,[e[5]||(e[5]=n("div",{class:"border-b border-surface-700 pb-1 mb-2"},[n("div",{class:"text-xl font-bold text-primary"},"Layout")],-1)),o(_,{"row-id":s.rowId},null,8,["row-id"])]),n("div",eo,[e[6]||(e[6]=n("div",{class:"border-b border-surface-700 pb-1 mb-2"},[n("div",{class:"text-xl font-bold text-primary"},"Requirements")],-1)),o(Oe,{"row-id":s.rowId},null,8,["row-id"])])])])]),_:1})])}}}),to={class:"flex flex-row justify-between items-center"},no={class:"grid grid-cols-60 gap-2"},mt=b({__name:"RowScreen",props:{rowId:{}},setup(s){const a=g(),d=s,t=h(()=>a.get(d.rowId,V.row)),c=h(()=>{const i=p.value;if(le(i))return a.getChildren(d.rowId);{const r=z(i);return ie(({id:_})=>{const x=a.get(_,V.choice);return re(r,z(x.name))},a.getChildren(d.rowId))}}),e=j(""),p=ne(e,100);return h(()=>60/t.value.layout.itemWidth*4),(i,r)=>{const _=Y,x=N,u=P,v=O,w=Be,C=pe;return f(),y(q,null,[o(oo,{"row-id":s.rowId},null,8,["row-id"]),o(C,{value:l(c),"data-key":"id",dt:{header:{padding:"1rem 0"},content:{padding:"1rem 0"}}},{header:m(()=>[n("div",to,[r[3]||(r[3]=n("h3",{class:"text-xl font-bold text-primary"},"Choices",-1)),o(v,{class:"w-auto min-w-8"},{default:m(()=>[o(_,null,{default:m(()=>[...r[2]||(r[2]=[n("i",{class:"iconify solar--filter-line-duotone"},null,-1)])]),_:1}),o(x,{modelValue:l(e),"onUpdate:modelValue":r[0]||(r[0]=I=>A(e)?e.value=I:null),size:"small"},null,8,["modelValue"]),o(_,null,{default:m(()=>[o(u,{icon:"iconify solar--close-circle-line-duotone",severity:"secondary",onClick:r[1]||(r[1]=I=>e.value="")})]),_:1})]),_:1})])]),list:m(({items:I})=>[n("div",no,[(f(!0),y(q,null,ae(I,(k,S)=>(f(),L(w,{key:S,"choice-id":k.id,"parent-id":s.rowId,index:S,class:de(`col-span-${k.layout?.width??l(t).layout?.itemWidth??12}`)},null,8,["choice-id","parent-id","index","class"]))),128))])]),_:1},8,["value"])],64)}}});export{mt as default};
