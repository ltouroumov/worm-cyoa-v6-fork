const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BAhZ_y7d.js","./CcKs1t-6.js","./pMy00rFG.js","./entry.D_64tYN9.css","./KKLDhOO9.js","./SDl1Sa9q.js","./BnCTUWIY.js","./BdywBGgU.js","./ZhWAdK_X.js","./KEmsYfFr.js","./BS0lvZD9.js","./jc0MLXVe.js","./5RipKoj2.js","./C_NSfuL9.js","./DQUhDZ-7.js","./CLs7nh7g.js","./Cr-ipwpc.js","./DurYO2EF.js","./BWpRs3_f.js","./DML669mE.js","./DwOy7wgf.js","./editor.CpBG1zGC.css","./C9ogmxYx.js","./BlgX2fdK.js","./DV_IgMll.js","./Bq8riyR5.js","./D9v9lR8c.js","./DtO4rcRt.js","./BF1X4UgF.js","./CF_zjWBA.js","./BqwtGqjC.js","./DOpGXDgR.js","./ErYp90K7.js","./Bb8lahI1.js","./BMjnzQu_.js","./DGBtjos4.js","./CgLFC8nC.js","./B9Aeul6L.js","./BJWS3IQO.js","./Bvq3q8xo.js","./B75FvfAF.js","./CQJzreoQ.js","./BZtif73M.js","./DkLlInf7.js","./CBzni9l9.js","./CnC6U77t.js","./CusXK3Uq.js","./D8kN_37j.js","./Ckh_IAxB.js","./DPmySf1Q.js","./BZcBmLRd.js","./BgNYmiLP.js","./BpTUdUbv.js","./C3ybJ5zL.js","./CXXdKXi-.js","./Gsfqq7kc.js","./Ctk9odxw.js","./Sxrd7lIY.js","./VcqUXmLN.js","./5L0tTzgb.js","./gw1ptuUw.js","./nBpBBt2M.js","./BZMGs0iN.js","./iS7U5TFx.js","./jIAWHkpk.js","./l0IRLxRq.js","./BiGf5inx.js","./C5mCuZ1U.js"])))=>i.map(i=>d[i]);
import T from"./CcKs1t-6.js";import{u as k}from"./5RipKoj2.js";import{J as W,l as Y,u as B,Y as J,w as X,B as N,y as Z,s as q}from"./BlgX2fdK.js";import{f as z,h as Q}from"./DwOy7wgf.js";import{k as x,d as $,y as f,z as p,$ as V,a0 as F,C as m,S as c,r as P,M as A,a2 as D,D as w,A as a,Z as H,X as I,Y as ee,B as S,_ as te,a7 as O,a8 as E,a3 as oe,ad as re,ae as ne}from"./pMy00rFG.js";import se from"./DQUhDZ-7.js";import ce from"./D8kN_37j.js";import ae from"./Ckh_IAxB.js";import{a as M,O as v,u as ie}from"./C9ogmxYx.js";import{t as C,l as le,b as de}from"./BpTUdUbv.js";import ue from"./DGBtjos4.js";import pe from"./B3x_Tw2O.js";import me from"./BM40EGQo.js";import _e from"./BCQ36grt.js";import fe from"./B-eJyfeS.js";import be from"./mFQdzTyU.js";import"./KKLDhOO9.js";import"./SDl1Sa9q.js";import"./BnCTUWIY.js";import"./BdywBGgU.js";import"./ZhWAdK_X.js";import"./KEmsYfFr.js";import"./BS0lvZD9.js";import"./jc0MLXVe.js";import"./C_NSfuL9.js";import"./CLs7nh7g.js";import"./Cr-ipwpc.js";import"./DurYO2EF.js";import"./BWpRs3_f.js";import"./DML669mE.js";import"./CgLFC8nC.js";import"./B9Aeul6L.js";import"./u-axpZfE.js";import"./CQJzreoQ.js";import"./DkLlInf7.js";import"./B6qcDmJB.js";var ye=z(function(o){return W(o.length,function(){var d=0,s=arguments[0],l=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=s.apply(this,Q(arguments,[d,l]));return d+=1,t},o.apply(this,i)})}),U=z(function(r){return Y(-1,r)});function he(){const r=k();function o(s){switch(s.type){case"edit-page":return[{label:"New Row",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];case"edit-row":return[{label:"New Choice",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];case"edit-choice":return[{label:"New Addon",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];default:return[]}}return{actions:x(()=>{switch(r.root){case"content":if(B(r.stack))return[{label:"New Page",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];{const s=U(r.stack);return o(s)}default:return[]}})}}const ve={class:"pe-4"},we=$({__name:"ScreenActions",setup(r){const{actions:o}=he();return(d,s)=>{const l=T;return p(),f("div",ve,[(p(!0),f(V,null,F(c(o),(i,t)=>(p(),f("div",{key:t},[m(l,{label:i.label,icon:i.icon,severity:i.severity,size:"small"},null,8,["label","icon","severity"])]))),128))])}}}),ge=Object.assign(we,{__name:"ScreenActions"}),xe={class:"flex flex-col gap-2 md:w-[40rem]"},ke={class:"flex flex-col h-[20rem] overflow-y-auto bg-surface-800 rounded-md"},je={key:0,class:"flex flex-row h-full justify-center items-center"},Se={key:1},Be=["onClick"],Ie={class:"grow group-hover:underline"},$e={class:"flex flex-row gap-1"},Oe={class:"text-surface-500 text-sm italic"},Ee={class:"text-surface-500 text-sm"},Ce=$({__name:"OmniBar",setup(r){const o=k(),d=M(),s=P(),l=P(""),i=J(l,200);A([s,()=>o.showOmniBar],([n,e])=>{e&&n&&(l.value="",n.$el.focus())});const t={objects:[],objectsCount:0,styles:[],stylesCount:0,media:[],mediaCount:0},_=x(()=>{const n=C(i.value);if(B(n))return t;const e=X(t);for(const u of d.objects.values())(N(n,C(u.name))||N(n,C(u.id)))&&e.objects.push({objectId:u.id,name:u.name,type:u.type});return e.objectsCount=le(e.objects),e});function h(n){const e=d.getParents(n),u=[];for(const g of e){const y=d.objects.get(g);switch(y.type){case v.page:u.push({type:"edit-page",pageId:y.id});break;case v.row:u.push({type:"edit-row",rowId:y.id});break;case v.choice:u.push({type:"edit-choice",choiceId:y.id});break;case v.addon:u.push({type:"edit-addon",addonId:y.id});break}}o.root="content",o.stack=u,o.showOmniBar=!1}return(n,e)=>{const u=ae,g=ce,y=se;return p(),D(y,{visible:c(o).showOmniBar,"onUpdate:visible":e[1]||(e[1]=b=>c(o).showOmniBar=b),"dismissable-mask":"","pt:root:class":"!border-0 !bg-transparent","pt:mask:class":"bg-surface-900/60 backdrop-blur-sm"},{container:w(({})=>[a("div",xe,[m(g,null,{default:w(()=>[m(c(ue),{ref_key:"searchBar",ref:s,modelValue:c(l),"onUpdate:modelValue":e[0]||(e[0]=b=>H(l)?l.value=b:null),autofocus:"true",placeholder:"Search in project ..."},null,8,["modelValue"]),m(u,null,{default:w(()=>[...e[2]||(e[2]=[a("i",{class:"iconify solar--magnifer-line-duotone"},null,-1)])]),_:1})]),_:1}),a("div",ke,[c(B)(c(_).objects)?(p(),f("div",je,[...e[3]||(e[3]=[a("div",{class:"text-stone-500"},"Type to start searching ...",-1)])])):I("",!0),c(Z)(c(_).objects)?(p(),f("div",Se,[e[4]||(e[4]=a("h2",{class:"text-stone-500 font-bold px-4 py-2 border-b border-surface-700"}," Objects ",-1)),(p(!0),f(V,null,F(c(_).objects,(b,j)=>(p(),f("div",{key:j,class:ee(["px-4 py-2 flex flex-row group cursor-pointer items-center",{"border-t border-surface-700":j!==0}]),onClick:R=>h(b.objectId)},[a("div",Ie,S(b.name),1),a("div",$e,[a("div",Oe,S(b.type),1),a("div",Ee,S(b.objectId),1)])],10,Be))),128))])):I("",!0)])])]),_:1},8,["visible"])}}}),Pe=Object.assign(Ce,{__name:"OmniBar"}),Ae={};function De(r,o){return p(),f("div",null,"Nothing Here")}const L=Object.assign(te(Ae,[["render",De]]),{__name:"BlankScreen"}),Ve=ye(q),Re=O(()=>E(()=>import("./BAhZ_y7d.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43]),import.meta.url)),Ne=O(()=>E(()=>import("./CBzni9l9.js"),__vite__mapDeps([44,1,2,3,4,5,6,7,8,9,10,11,45,46,15,28,17,38,18,47,48,40,41,42,16,35,36,37,49,12,13,14,19,20,21,50,22,23,51,24,25,26,27,29,30,31,32,33,34,39,43,52]),import.meta.url)),Le=O(()=>E(()=>import("./C3ybJ5zL.js"),__vite__mapDeps([53,46,2,3,15,28,17,10,11,6,38,18,9,54,27,29,5,30,31,32,4,16,33,34,35,36,37,8,39,55,56,1,7,57,22,12,13,14,19,20,21,23,58,52,59,60,61,62,63,45,47,48,40,41,42,49,50,51,24,25,26,43,64,65]),import.meta.url)),Te=O(()=>E(()=>import("./BiGf5inx.js"),__vite__mapDeps([66,45,1,2,3,4,5,6,7,8,9,10,11,64,37,54,35,36,60,61,62,15,63,16,17,18,19,22,12,13,14,20,21,23,46,28,38,47,48,40,41,42,49,50,51,24,25,26,27,29,30,31,32,33,34,39,43,65,59,67,52]),import.meta.url));function G(){const r=k(),o=M();function d(t){switch(t.type){case"edit-page":return{component:Ne,props:{pageId:t.pageId}};case"edit-row":return{component:Le,props:{rowId:t.rowId}};case"edit-choice":return{component:Te,props:{choiceId:t.choiceId}};default:return{component:L,props:{}}}}const s=x(()=>{switch(r.root){case"content":if(B(r.stack))return{component:Re};{const t=U(r.stack);return d(t)}default:return{component:L,props:{}}}}),l=x(()=>({root:!0,label:"Pages",icon:"iconify solar--documents-line-duotone",command:()=>r.clearStack()})),i=x(()=>Ve((t,_)=>{switch(t.type){case"edit-page":return{label:o.get(t.pageId,v.page).name,icon:"iconify solar--document-text-line-duotone",command:()=>r.popStack(_)};case"edit-row":return{label:o.get(t.rowId,v.row).name,icon:"iconify solar--list-line-duotone",command:()=>r.popStack(_)};case"edit-choice":return{label:o.get(t.choiceId,v.choice).name,icon:"iconify solar--box-minimalistic-line-duotone",command:()=>r.popStack(_)};default:return{label:"???"}}},r.stack??[]));return{screen:s,bcHome:l,bcStack:i}}const ze={class:"flex flex-row items-center ps-2"},Fe=$({__name:"EditorBreadcrumbs",setup(r){const{bcHome:o,bcStack:d}=G(),s=k();function l(){s.popStack()}return(i,t)=>{const _=T,h=be;return p(),f("div",ze,[m(_,{variant:"text",severity:"secondary",label:"Back",icon:"iconify solar--alt-arrow-left-line-duotone",disabled:c(d).length===0,onClick:t[0]||(t[0]=n=>l())},null,8,["disabled"]),t[1]||(t[1]=a("div",{class:"h-1/2 mx-2 border-l border-surface-700"},null,-1)),m(h,{home:c(o),model:c(d),dt:{background:"none"}},null,8,["home","model"])])}}}),He=Object.assign(Fe,{__name:"EditorBreadcrumbs"}),Me={class:"flex flex-col p-2 gap-2 h-full w-full"},Ue={class:"flex flex-row items-center"},Ge={class:"flex flex-row items-center"},Ke={class:"text-amber-500 text-xl"},We={key:0},Ye={class:"flex flex-row justify-between"},Je={class:"flex flex-row items-center"},Xe=$({__name:"ProjectEditor",setup(r){const{unloadProject:o,saveProject:d}=ie(),s=k(),{screen:l}=G(),i=P(!1),t=[{label:"Project",icon:"iconify solar--file-bold-duotone",items:[{label:"Save",icon:"iconify solar--file-download-bold-duotone",command:async()=>{await d()}},{label:"Close",icon:"iconify solar--file-remove-bold-duotone",command:()=>{o()}}]}],{ctrl_k:_,esc:h}=de({passive:!1,onEventFired(n){n.ctrlKey&&n.key==="k"&&n.type==="keydown"&&n.preventDefault()}});return A(_,n=>{n&&!s.showOmniBar&&(s.showOmniBar=!0)}),A(h,n=>{n&&s.showOmniBar&&(s.showOmniBar=!1)}),(n,e)=>{const u=fe,g=_e,y=me,b=ge,j=pe,R=Pe;return p(),f(V,null,[a("div",Me,[m(y,{model:t,class:"rounded"},{end:w(()=>[a("div",Ue,[a("div",Ge,[e[1]||(e[1]=a("label",{class:"me-2"},"Preview",-1)),m(u,{modelValue:c(i),"onUpdate:modelValue":e[0]||(e[0]=K=>H(i)?i.value=K:null),size:"small",variant:"outlined"},null,8,["modelValue"])]),m(g,{layout:"vertical"}),a("h1",Ke,S(c(s).project.name),1)])]),_:1}),c(i)?(p(),f("div",We,"PREVIEW")):I("",!0),c(i)?I("",!0):(p(),D(j,{key:1,class:"grow rounded",dt:{body:{padding:"1rem"}}},{header:w(()=>[a("div",Ye,[m(He),a("div",Je,[m(b)])]),e[2]||(e[2]=a("div",{class:"border-t border-surface-700"},null,-1))]),content:w(()=>[(p(),D(oe(c(l).component),re(ne(c(l).props??{})),null,16))]),_:1}))]),m(R)],64)}}}),At=Object.assign(Xe,{__name:"ProjectEditor"});export{At as default};
